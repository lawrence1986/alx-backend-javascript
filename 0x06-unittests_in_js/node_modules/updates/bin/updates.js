#!/usr/bin/env node
import {createRequire} from 'module';const require = createRequire(import.meta.url);
var $p=Object.create;var li=Object.defineProperty;var Ip=Object.getOwnPropertyDescriptor;var Lp=Object.getOwnPropertyNames;var Pp=Object.getPrototypeOf,Np=Object.prototype.hasOwnProperty;var Ne=(t=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(t,{get:(e,r)=>(typeof require<"u"?require:e)[r]}):t)(function(t){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+t+'" is not supported')});var Wr=(t,e)=>()=>(t&&(e=t(t=0)),e);var L=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),Hp=(t,e)=>{for(var r in e)li(t,r,{get:e[r],enumerable:!0})},Dp=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of Lp(e))!Np.call(t,o)&&o!==r&&li(t,o,{get:()=>e[o],enumerable:!(n=Ip(e,o))||n.enumerable});return t};var Fe=(t,e,r)=>(r=t!=null?$p(Pp(t)):{},Dp(e||!t||!t.__esModule?li(r,"default",{value:t,enumerable:!0}):r,t));var ja=L((mR,za)=>{"use strict";var ci=Ne("https"),fi=Ne("http"),{URL:ka}=Ne("url"),hi=class extends fi.Agent{constructor(e){let{proxy:r,proxyRequestOptions:n,...o}=e;super(o),this.proxy=typeof r=="string"?new ka(r):r,this.proxyRequestOptions=n||{}}createConnection(e,r){let n={...this.proxyRequestOptions,method:"CONNECT",host:this.proxy.hostname,port:this.proxy.port,path:`${e.host}:${e.port}`,setHost:!1,headers:{...this.proxyRequestOptions.headers,connection:this.keepAlive?"keep-alive":"close",host:`${e.host}:${e.port}`},agent:!1,timeout:e.timeout||0};if(this.proxy.username||this.proxy.password){let a=Buffer.from(`${decodeURIComponent(this.proxy.username||"")}:${decodeURIComponent(this.proxy.password||"")}`).toString("base64");n.headers["proxy-authorization"]=`Basic ${a}`}this.proxy.protocol==="https:"&&(n.servername=this.proxy.hostname);let o=(this.proxy.protocol==="http:"?fi:ci).request(n);o.once("connect",(a,l,h)=>{o.removeAllListeners(),l.removeAllListeners(),a.statusCode===200?r(null,l):(l.destroy(),r(new Error(`Bad response: ${a.statusCode}`),null))}),o.once("timeout",()=>{o.destroy(new Error("Proxy timeout"))}),o.once("error",a=>{o.removeAllListeners(),r(a,null)}),o.end()}},di=class extends ci.Agent{constructor(e){let{proxy:r,proxyRequestOptions:n,...o}=e;super(o),this.proxy=typeof r=="string"?new ka(r):r,this.proxyRequestOptions=n||{}}createConnection(e,r){let n={...this.proxyRequestOptions,method:"CONNECT",host:this.proxy.hostname,port:this.proxy.port,path:`${e.host}:${e.port}`,setHost:!1,headers:{...this.proxyRequestOptions.headers,connection:this.keepAlive?"keep-alive":"close",host:`${e.host}:${e.port}`},agent:!1,timeout:e.timeout||0};if(this.proxy.username||this.proxy.password){let a=Buffer.from(`${decodeURIComponent(this.proxy.username||"")}:${decodeURIComponent(this.proxy.password||"")}`).toString("base64");n.headers["proxy-authorization"]=`Basic ${a}`}this.proxy.protocol==="https:"&&(n.servername=this.proxy.hostname);let o=(this.proxy.protocol==="http:"?fi:ci).request(n);o.once("connect",(a,l,h)=>{if(o.removeAllListeners(),l.removeAllListeners(),a.statusCode===200){let c=super.createConnection({...e,socket:l});r(null,c)}else l.destroy(),r(new Error(`Bad response: ${a.statusCode}`),null)}),o.once("timeout",()=>{o.destroy(new Error("Proxy timeout"))}),o.once("error",a=>{o.removeAllListeners(),r(a,null)}),o.end()}};za.exports={HttpProxyAgent:hi,HttpsProxyAgent:di}});var Qa=L(Ya=>{"use strict";var Bp=Ne("url").parse,qp={ftp:21,gopher:70,http:80,https:443,ws:80,wss:443},Fp=String.prototype.endsWith||function(t){return t.length<=this.length&&this.indexOf(t,this.length-t.length)!==-1};function Up(t){var e=typeof t=="string"?Bp(t):t||{},r=e.protocol,n=e.host,o=e.port;if(typeof n!="string"||!n||typeof r!="string"||(r=r.split(":",1)[0],n=n.replace(/:\d*$/,""),o=parseInt(o)||qp[r]||0,!Mp(n,o)))return"";var a=fr("npm_config_"+r+"_proxy")||fr(r+"_proxy")||fr("npm_config_proxy")||fr("all_proxy");return a&&a.indexOf("://")===-1&&(a=r+"://"+a),a}function Mp(t,e){var r=(fr("npm_config_no_proxy")||fr("no_proxy")).toLowerCase();return r?r==="*"?!1:r.split(/[,\s]/).every(function(n){if(!n)return!0;var o=n.match(/^(.+):(\d+)$/),a=o?o[1]:n,l=o?parseInt(o[2]):0;return l&&l!==e?!0:/^[.*]/.test(a)?(a.charAt(0)==="*"&&(a=a.slice(1)),!Fp.call(t,a)):t!==a}):!0}function fr(t){return process.env[t.toLowerCase()]||process.env[t.toUpperCase()]||""}Ya.getProxyForUrl=Up});var bi=L((AR,el)=>{"use strict";function jp(t,e){var r=t;e.slice(0,-1).forEach(function(o){r=r[o]||{}});var n=e[e.length-1];return n in r}function Za(t){return typeof t=="number"||/^0x[0-9a-f]+$/i.test(t)?!0:/^[-+]?(?:\d+(?:\.\d*)?|\.\d+)(e[-+]?\d+)?$/.test(t)}function Ja(t,e){return e==="constructor"&&typeof t[e]=="function"||e==="__proto__"}el.exports=function(t,e){e||(e={});var r={bools:{},strings:{},unknownFn:null};typeof e.unknown=="function"&&(r.unknownFn=e.unknown),typeof e.boolean=="boolean"&&e.boolean?r.allBools=!0:[].concat(e.boolean).filter(Boolean).forEach(function(C){r.bools[C]=!0});var n={};function o(C){return n[C].some(function($){return r.bools[$]})}Object.keys(e.alias||{}).forEach(function(C){n[C]=[].concat(e.alias[C]),n[C].forEach(function($){n[$]=[C].concat(n[C].filter(function(P){return $!==P}))})}),[].concat(e.string).filter(Boolean).forEach(function(C){r.strings[C]=!0,n[C]&&[].concat(n[C]).forEach(function($){r.strings[$]=!0})});var a=e.default||{},l={_:[]};function h(C,$){return r.allBools&&/^--[^=]+$/.test($)||r.strings[C]||r.bools[C]||n[C]}function c(C,$,P){for(var D=C,U=0;U<$.length-1;U++){var M=$[U];if(Ja(D,M))return;D[M]===void 0&&(D[M]={}),(D[M]===Object.prototype||D[M]===Number.prototype||D[M]===String.prototype)&&(D[M]={}),D[M]===Array.prototype&&(D[M]=[]),D=D[M]}var _=$[$.length-1];Ja(D,_)||((D===Object.prototype||D===Number.prototype||D===String.prototype)&&(D={}),D===Array.prototype&&(D=[]),D[_]===void 0||r.bools[_]||typeof D[_]=="boolean"?D[_]=P:Array.isArray(D[_])?D[_].push(P):D[_]=[D[_],P])}function f(C,$,P){if(!(P&&r.unknownFn&&!h(C,P)&&r.unknownFn(P)===!1)){var D=!r.strings[C]&&Za($)?Number($):$;c(l,C.split("."),D),(n[C]||[]).forEach(function(U){c(l,U.split("."),D)})}}Object.keys(r.bools).forEach(function(C){f(C,a[C]===void 0?!1:a[C])});var m=[];t.indexOf("--")!==-1&&(m=t.slice(t.indexOf("--")+1),t=t.slice(0,t.indexOf("--")));for(var p=0;p<t.length;p++){var g=t[p],b,R;if(/^--.+=/.test(g)){var w=g.match(/^--([^=]+)=([\s\S]*)$/);b=w[1];var v=w[2];r.bools[b]&&(v=v!=="false"),f(b,v,g)}else if(/^--no-.+/.test(g))b=g.match(/^--no-(.+)/)[1],f(b,!1,g);else if(/^--.+/.test(g))b=g.match(/^--(.+)/)[1],R=t[p+1],R!==void 0&&!/^(-|--)[^-]/.test(R)&&!r.bools[b]&&!r.allBools&&(!n[b]||!o(b))?(f(b,R,g),p+=1):/^(true|false)$/.test(R)?(f(b,R==="true",g),p+=1):f(b,r.strings[b]?"":!0,g);else if(/^-[^-]+/.test(g)){for(var x=g.slice(1,-1).split(""),O=!1,F=0;F<x.length;F++){if(R=g.slice(F+2),R==="-"){f(x[F],R,g);continue}if(/[A-Za-z]/.test(x[F])&&R[0]==="="){f(x[F],R.slice(1),g),O=!0;break}if(/[A-Za-z]/.test(x[F])&&/-?\d+(\.\d*)?(e-?\d+)?$/.test(R)){f(x[F],R,g),O=!0;break}if(x[F+1]&&x[F+1].match(/\W/)){f(x[F],g.slice(F+2),g),O=!0;break}else f(x[F],r.strings[x[F]]?"":!0,g)}b=g.slice(-1)[0],!O&&b!=="-"&&(t[p+1]&&!/^(-|--)[^-]/.test(t[p+1])&&!r.bools[b]&&(!n[b]||!o(b))?(f(b,t[p+1],g),p+=1):t[p+1]&&/^(true|false)$/.test(t[p+1])?(f(b,t[p+1]==="true",g),p+=1):f(b,r.strings[b]?"":!0,g))}else if((!r.unknownFn||r.unknownFn(g)!==!1)&&l._.push(r.strings._||!Za(g)?g:Number(g)),e.stopEarly){l._.push.apply(l._,t.slice(p+1));break}}return Object.keys(a).forEach(function(C){jp(l,C.split("."))||(c(l,C.split("."),a[C]),(n[C]||[]).forEach(function($){c(l,$.split("."),a[C])}))}),e["--"]?l["--"]=m.slice():m.forEach(function(C){l._.push(C)}),l}});var nl=L((kn,rl)=>{(function(t,e){typeof kn=="object"&&typeof rl<"u"?e(kn):typeof define=="function"&&define.amd?define(["exports"],e):(t=typeof globalThis<"u"?globalThis:t||self,e(t.WebStreamsPolyfill={}))})(kn,function(t){"use strict";let e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol:s=>`Symbol(${s})`;function r(){}function n(s){return typeof s=="object"&&s!==null||typeof s=="function"}let o=r;function a(s,i){try{Object.defineProperty(s,"name",{value:i,configurable:!0})}catch{}}let l=Promise,h=Promise.prototype.then,c=Promise.reject.bind(l);function f(s){return new l(s)}function m(s){return f(i=>i(s))}function p(s){return c(s)}function g(s,i,u){return h.call(s,i,u)}function b(s,i,u){g(g(s,i,u),void 0,o)}function R(s,i){b(s,i)}function w(s,i){b(s,void 0,i)}function v(s,i,u){return g(s,i,u)}function x(s){g(s,void 0,o)}let O=s=>{if(typeof queueMicrotask=="function")O=queueMicrotask;else{let i=m(void 0);O=u=>g(i,u)}return O(s)};function F(s,i,u){if(typeof s!="function")throw new TypeError("Argument is not a function");return Function.prototype.apply.call(s,i,u)}function C(s,i,u){try{return m(F(s,i,u))}catch(d){return p(d)}}let $=16384;class P{constructor(){this._cursor=0,this._size=0,this._front={_elements:[],_next:void 0},this._back=this._front,this._cursor=0,this._size=0}get length(){return this._size}push(i){let u=this._back,d=u;u._elements.length===$-1&&(d={_elements:[],_next:void 0}),u._elements.push(i),d!==u&&(this._back=d,u._next=d),++this._size}shift(){let i=this._front,u=i,d=this._cursor,y=d+1,S=i._elements,A=S[d];return y===$&&(u=i._next,y=0),--this._size,this._cursor=y,i!==u&&(this._front=u),S[d]=void 0,A}forEach(i){let u=this._cursor,d=this._front,y=d._elements;for(;(u!==y.length||d._next!==void 0)&&!(u===y.length&&(d=d._next,y=d._elements,u=0,y.length===0));)i(y[u]),++u}peek(){let i=this._front,u=this._cursor;return i._elements[u]}}let D=e("[[AbortSteps]]"),U=e("[[ErrorSteps]]"),M=e("[[CancelSteps]]"),_=e("[[PullSteps]]"),ne=e("[[ReleaseSteps]]");function K(s,i){s._ownerReadableStream=i,i._reader=s,i._state==="readable"?pe(s):i._state==="closed"?J(s):Y(s,i._storedError)}function Z(s,i){let u=s._ownerReadableStream;return Ve(u,i)}function E(s){let i=s._ownerReadableStream;i._state==="readable"?Re(s,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")):me(s,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")),i._readableStreamController[ne](),i._reader=void 0,s._ownerReadableStream=void 0}function T(s){return new TypeError("Cannot "+s+" a stream using a released reader")}function pe(s){s._closedPromise=f((i,u)=>{s._closedPromise_resolve=i,s._closedPromise_reject=u})}function Y(s,i){pe(s),Re(s,i)}function J(s){pe(s),ve(s)}function Re(s,i){s._closedPromise_reject!==void 0&&(x(s._closedPromise),s._closedPromise_reject(i),s._closedPromise_resolve=void 0,s._closedPromise_reject=void 0)}function me(s,i){Y(s,i)}function ve(s){s._closedPromise_resolve!==void 0&&(s._closedPromise_resolve(void 0),s._closedPromise_resolve=void 0,s._closedPromise_reject=void 0)}let dn=Number.isFinite||function(s){return typeof s=="number"&&isFinite(s)},Jt=Math.trunc||function(s){return s<0?Math.ceil(s):Math.floor(s)};function nt(s){return typeof s=="object"||typeof s=="function"}function z(s,i){if(s!==void 0&&!nt(s))throw new TypeError(`${i} is not an object.`)}function Se(s,i){if(typeof s!="function")throw new TypeError(`${i} is not a function.`)}function Ns(s){return typeof s=="object"&&s!==null||typeof s=="function"}function N(s,i){if(!Ns(s))throw new TypeError(`${i} is not an object.`)}function re(s,i,u){if(s===void 0)throw new TypeError(`Parameter ${i} is required in '${u}'.`)}function I(s,i,u){if(s===void 0)throw new TypeError(`${i} is required in '${u}'.`)}function V(s){return Number(s)}function le(s){return s===0?0:s}function we(s){return le(Jt(s))}function fe(s,i){let d=Number.MAX_SAFE_INTEGER,y=Number(s);if(y=le(y),!dn(y))throw new TypeError(`${i} is not a finite number`);if(y=we(y),y<0||y>d)throw new TypeError(`${i} is outside the accepted range of 0 to ${d}, inclusive`);return!dn(y)||y===0?0:y}function It(s,i){if(!wt(s))throw new TypeError(`${i} is not a ReadableStream.`)}function je(s){return new gt(s)}function Lo(s,i){s._reader._readRequests.push(i)}function Hs(s,i,u){let y=s._reader._readRequests.shift();u?y._closeSteps():y._chunkSteps(i)}function pn(s){return s._reader._readRequests.length}function Po(s){let i=s._reader;return!(i===void 0||!bt(i))}class gt{constructor(i){if(re(i,1,"ReadableStreamDefaultReader"),It(i,"First parameter"),Et(i))throw new TypeError("This stream has already been locked for exclusive reading by another reader");K(this,i),this._readRequests=new P}get closed(){return bt(this)?this._closedPromise:p(mn("closed"))}cancel(i=void 0){return bt(this)?this._ownerReadableStream===void 0?p(T("cancel")):Z(this,i):p(mn("cancel"))}read(){if(!bt(this))return p(mn("read"));if(this._ownerReadableStream===void 0)return p(T("read from"));let i,u,d=f((S,A)=>{i=S,u=A});return Lr(this,{_chunkSteps:S=>i({value:S,done:!1}),_closeSteps:()=>i({value:void 0,done:!0}),_errorSteps:S=>u(S)}),d}releaseLock(){if(!bt(this))throw mn("releaseLock");this._ownerReadableStream!==void 0&&Vh(this)}}Object.defineProperties(gt.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),a(gt.prototype.cancel,"cancel"),a(gt.prototype.read,"read"),a(gt.prototype.releaseLock,"releaseLock"),typeof e.toStringTag=="symbol"&&Object.defineProperty(gt.prototype,e.toStringTag,{value:"ReadableStreamDefaultReader",configurable:!0});function bt(s){return!n(s)||!Object.prototype.hasOwnProperty.call(s,"_readRequests")?!1:s instanceof gt}function Lr(s,i){let u=s._ownerReadableStream;u._disturbed=!0,u._state==="closed"?i._closeSteps():u._state==="errored"?i._errorSteps(u._storedError):u._readableStreamController[_](i)}function Vh(s){E(s);let i=new TypeError("Reader was released");No(s,i)}function No(s,i){let u=s._readRequests;s._readRequests=new P,u.forEach(d=>{d._errorSteps(i)})}function mn(s){return new TypeError(`ReadableStreamDefaultReader.prototype.${s} can only be used on a ReadableStreamDefaultReader`)}let Ho=Object.getPrototypeOf(Object.getPrototypeOf(async function*(){}).prototype);class Do{constructor(i,u){this._ongoingPromise=void 0,this._isFinished=!1,this._reader=i,this._preventCancel=u}next(){let i=()=>this._nextSteps();return this._ongoingPromise=this._ongoingPromise?v(this._ongoingPromise,i,i):i(),this._ongoingPromise}return(i){let u=()=>this._returnSteps(i);return this._ongoingPromise?v(this._ongoingPromise,u,u):u()}_nextSteps(){if(this._isFinished)return Promise.resolve({value:void 0,done:!0});let i=this._reader,u,d,y=f((A,H)=>{u=A,d=H});return Lr(i,{_chunkSteps:A=>{this._ongoingPromise=void 0,O(()=>u({value:A,done:!1}))},_closeSteps:()=>{this._ongoingPromise=void 0,this._isFinished=!0,E(i),u({value:void 0,done:!0})},_errorSteps:A=>{this._ongoingPromise=void 0,this._isFinished=!0,E(i),d(A)}}),y}_returnSteps(i){if(this._isFinished)return Promise.resolve({value:i,done:!0});this._isFinished=!0;let u=this._reader;if(!this._preventCancel){let d=Z(u,i);return E(u),v(d,()=>({value:i,done:!0}))}return E(u),m({value:i,done:!0})}}let Bo={next(){return qo(this)?this._asyncIteratorImpl.next():p(Fo("next"))},return(s){return qo(this)?this._asyncIteratorImpl.return(s):p(Fo("return"))}};Ho!==void 0&&Object.setPrototypeOf(Bo,Ho);function Yh(s,i){let u=je(s),d=new Do(u,i),y=Object.create(Bo);return y._asyncIteratorImpl=d,y}function qo(s){if(!n(s)||!Object.prototype.hasOwnProperty.call(s,"_asyncIteratorImpl"))return!1;try{return s._asyncIteratorImpl instanceof Do}catch{return!1}}function Fo(s){return new TypeError(`ReadableStreamAsyncIterator.${s} can only be used on a ReadableSteamAsyncIterator`)}let Uo=Number.isNaN||function(s){return s!==s};function Pr(s){return s.slice()}function Mo(s,i,u,d,y){new Uint8Array(s).set(new Uint8Array(u,d,y),i)}let st=s=>(typeof s.transfer=="function"?st=i=>i.transfer():typeof structuredClone=="function"?st=i=>structuredClone(i,{transfer:[i]}):st=i=>i,st(s)),yt=s=>(typeof s.detached=="boolean"?yt=i=>i.detached:yt=i=>i.byteLength===0,yt(s));function Wo(s,i,u){if(s.slice)return s.slice(i,u);let d=u-i,y=new ArrayBuffer(d);return Mo(y,0,s,i,d),y}function gn(s,i){let u=s[i];if(u!=null){if(typeof u!="function")throw new TypeError(`${String(i)} is not a function`);return u}}function Qh(s){let i={[e.iterator]:()=>s.iterator},u=async function*(){return yield*i}(),d=u.next;return{iterator:u,nextMethod:d,done:!1}}function ko(s,i="sync",u){if(u===void 0)if(i==="async"){if(u=gn(s,e.asyncIterator),u===void 0){let S=gn(s,e.iterator),A=ko(s,"sync",S);return Qh(A)}}else u=gn(s,e.iterator);if(u===void 0)throw new TypeError("The object is not iterable");let d=F(u,s,[]);if(!n(d))throw new TypeError("The iterator method must return an object");let y=d.next;return{iterator:d,nextMethod:y,done:!1}}function Kh(s){let i=F(s.nextMethod,s.iterator,[]);if(!n(i))throw new TypeError("The iterator.next() method must return an object");return i}function Xh(s){return!!s.done}function Zh(s){return s.value}function Jh(s){return!(typeof s!="number"||Uo(s)||s<0)}function zo(s){let i=Wo(s.buffer,s.byteOffset,s.byteOffset+s.byteLength);return new Uint8Array(i)}function Ds(s){let i=s._queue.shift();return s._queueTotalSize-=i.size,s._queueTotalSize<0&&(s._queueTotalSize=0),i.value}function Bs(s,i,u){if(!Jh(u)||u===1/0)throw new RangeError("Size must be a finite, non-NaN, non-negative number.");s._queue.push({value:i,size:u}),s._queueTotalSize+=u}function ed(s){return s._queue.peek().value}function _t(s){s._queue=new P,s._queueTotalSize=0}function jo(s){return s===DataView}function td(s){return jo(s.constructor)}function rd(s){return jo(s)?1:s.BYTES_PER_ELEMENT}class Lt{constructor(){throw new TypeError("Illegal constructor")}get view(){if(!qs(this))throw ks("view");return this._view}respond(i){if(!qs(this))throw ks("respond");if(re(i,1,"respond"),i=fe(i,"First parameter"),this._associatedReadableByteStreamController===void 0)throw new TypeError("This BYOB request has been invalidated");if(yt(this._view.buffer))throw new TypeError("The BYOB request's buffer has been detached and so cannot be used as a response");Rn(this._associatedReadableByteStreamController,i)}respondWithNewView(i){if(!qs(this))throw ks("respondWithNewView");if(re(i,1,"respondWithNewView"),!ArrayBuffer.isView(i))throw new TypeError("You can only respond with array buffer views");if(this._associatedReadableByteStreamController===void 0)throw new TypeError("This BYOB request has been invalidated");if(yt(i.buffer))throw new TypeError("The given view's buffer has been detached and so cannot be used as a response");Sn(this._associatedReadableByteStreamController,i)}}Object.defineProperties(Lt.prototype,{respond:{enumerable:!0},respondWithNewView:{enumerable:!0},view:{enumerable:!0}}),a(Lt.prototype.respond,"respond"),a(Lt.prototype.respondWithNewView,"respondWithNewView"),typeof e.toStringTag=="symbol"&&Object.defineProperty(Lt.prototype,e.toStringTag,{value:"ReadableStreamBYOBRequest",configurable:!0});class it{constructor(){throw new TypeError("Illegal constructor")}get byobRequest(){if(!Pt(this))throw Hr("byobRequest");return Ws(this)}get desiredSize(){if(!Pt(this))throw Hr("desiredSize");return ta(this)}close(){if(!Pt(this))throw Hr("close");if(this._closeRequested)throw new TypeError("The stream has already been closed; do not close it again!");let i=this._controlledReadableByteStream._state;if(i!=="readable")throw new TypeError(`The stream (in ${i} state) is not in the readable state and cannot be closed`);Nr(this)}enqueue(i){if(!Pt(this))throw Hr("enqueue");if(re(i,1,"enqueue"),!ArrayBuffer.isView(i))throw new TypeError("chunk must be an array buffer view");if(i.byteLength===0)throw new TypeError("chunk must have non-zero byteLength");if(i.buffer.byteLength===0)throw new TypeError("chunk's buffer must have non-zero byteLength");if(this._closeRequested)throw new TypeError("stream is closed or draining");let u=this._controlledReadableByteStream._state;if(u!=="readable")throw new TypeError(`The stream (in ${u} state) is not in the readable state and cannot be enqueued to`);_n(this,i)}error(i=void 0){if(!Pt(this))throw Hr("error");Be(this,i)}[M](i){Go(this),_t(this);let u=this._cancelAlgorithm(i);return yn(this),u}[_](i){let u=this._controlledReadableByteStream;if(this._queueTotalSize>0){ea(this,i);return}let d=this._autoAllocateChunkSize;if(d!==void 0){let y;try{y=new ArrayBuffer(d)}catch(A){i._errorSteps(A);return}let S={buffer:y,bufferByteLength:d,byteOffset:0,byteLength:d,bytesFilled:0,minimumFill:1,elementSize:1,viewConstructor:Uint8Array,readerType:"default"};this._pendingPullIntos.push(S)}Lo(u,i),Nt(this)}[ne](){if(this._pendingPullIntos.length>0){let i=this._pendingPullIntos.peek();i.readerType="none",this._pendingPullIntos=new P,this._pendingPullIntos.push(i)}}}Object.defineProperties(it.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},byobRequest:{enumerable:!0},desiredSize:{enumerable:!0}}),a(it.prototype.close,"close"),a(it.prototype.enqueue,"enqueue"),a(it.prototype.error,"error"),typeof e.toStringTag=="symbol"&&Object.defineProperty(it.prototype,e.toStringTag,{value:"ReadableByteStreamController",configurable:!0});function Pt(s){return!n(s)||!Object.prototype.hasOwnProperty.call(s,"_controlledReadableByteStream")?!1:s instanceof it}function qs(s){return!n(s)||!Object.prototype.hasOwnProperty.call(s,"_associatedReadableByteStreamController")?!1:s instanceof Lt}function Nt(s){if(!ad(s))return;if(s._pulling){s._pullAgain=!0;return}s._pulling=!0;let u=s._pullAlgorithm();b(u,()=>(s._pulling=!1,s._pullAgain&&(s._pullAgain=!1,Nt(s)),null),d=>(Be(s,d),null))}function Go(s){Us(s),s._pendingPullIntos=new P}function Fs(s,i){let u=!1;s._state==="closed"&&(u=!0);let d=Vo(i);i.readerType==="default"?Hs(s,d,u):dd(s,d,u)}function Vo(s){let i=s.bytesFilled,u=s.elementSize;return new s.viewConstructor(s.buffer,s.byteOffset,i/u)}function bn(s,i,u,d){s._queue.push({buffer:i,byteOffset:u,byteLength:d}),s._queueTotalSize+=d}function Yo(s,i,u,d){let y;try{y=Wo(i,u,u+d)}catch(S){throw Be(s,S),S}bn(s,y,0,d)}function Qo(s,i){i.bytesFilled>0&&Yo(s,i.buffer,i.byteOffset,i.bytesFilled),er(s)}function Ko(s,i){let u=Math.min(s._queueTotalSize,i.byteLength-i.bytesFilled),d=i.bytesFilled+u,y=u,S=!1,A=d%i.elementSize,H=d-A;H>=i.minimumFill&&(y=H-i.bytesFilled,S=!0);let j=s._queue;for(;y>0;){let W=j.peek(),G=Math.min(y,W.byteLength),X=i.byteOffset+i.bytesFilled;Mo(i.buffer,X,W.buffer,W.byteOffset,G),W.byteLength===G?j.shift():(W.byteOffset+=G,W.byteLength-=G),s._queueTotalSize-=G,Xo(s,G,i),y-=G}return S}function Xo(s,i,u){u.bytesFilled+=i}function Zo(s){s._queueTotalSize===0&&s._closeRequested?(yn(s),Mr(s._controlledReadableByteStream)):Nt(s)}function Us(s){s._byobRequest!==null&&(s._byobRequest._associatedReadableByteStreamController=void 0,s._byobRequest._view=null,s._byobRequest=null)}function Ms(s){for(;s._pendingPullIntos.length>0;){if(s._queueTotalSize===0)return;let i=s._pendingPullIntos.peek();Ko(s,i)&&(er(s),Fs(s._controlledReadableByteStream,i))}}function nd(s){let i=s._controlledReadableByteStream._reader;for(;i._readRequests.length>0;){if(s._queueTotalSize===0)return;let u=i._readRequests.shift();ea(s,u)}}function sd(s,i,u,d){let y=s._controlledReadableByteStream,S=i.constructor,A=rd(S),{byteOffset:H,byteLength:j}=i,W=u*A,G;try{G=st(i.buffer)}catch(ae){d._errorSteps(ae);return}let X={buffer:G,bufferByteLength:G.byteLength,byteOffset:H,byteLength:j,bytesFilled:0,minimumFill:W,elementSize:A,viewConstructor:S,readerType:"byob"};if(s._pendingPullIntos.length>0){s._pendingPullIntos.push(X),sa(y,d);return}if(y._state==="closed"){let ae=new S(X.buffer,X.byteOffset,0);d._closeSteps(ae);return}if(s._queueTotalSize>0){if(Ko(s,X)){let ae=Vo(X);Zo(s),d._chunkSteps(ae);return}if(s._closeRequested){let ae=new TypeError("Insufficient bytes to fill elements in the given buffer");Be(s,ae),d._errorSteps(ae);return}}s._pendingPullIntos.push(X),sa(y,d),Nt(s)}function id(s,i){i.readerType==="none"&&er(s);let u=s._controlledReadableByteStream;if(zs(u))for(;ia(u)>0;){let d=er(s);Fs(u,d)}}function od(s,i,u){if(Xo(s,i,u),u.readerType==="none"){Qo(s,u),Ms(s);return}if(u.bytesFilled<u.minimumFill)return;er(s);let d=u.bytesFilled%u.elementSize;if(d>0){let y=u.byteOffset+u.bytesFilled;Yo(s,u.buffer,y-d,d)}u.bytesFilled-=d,Fs(s._controlledReadableByteStream,u),Ms(s)}function Jo(s,i){let u=s._pendingPullIntos.peek();Us(s),s._controlledReadableByteStream._state==="closed"?id(s,u):od(s,i,u),Nt(s)}function er(s){return s._pendingPullIntos.shift()}function ad(s){let i=s._controlledReadableByteStream;return i._state!=="readable"||s._closeRequested||!s._started?!1:!!(Po(i)&&pn(i)>0||zs(i)&&ia(i)>0||ta(s)>0)}function yn(s){s._pullAlgorithm=void 0,s._cancelAlgorithm=void 0}function Nr(s){let i=s._controlledReadableByteStream;if(!(s._closeRequested||i._state!=="readable")){if(s._queueTotalSize>0){s._closeRequested=!0;return}if(s._pendingPullIntos.length>0){let u=s._pendingPullIntos.peek();if(u.bytesFilled%u.elementSize!==0){let d=new TypeError("Insufficient bytes to fill elements in the given buffer");throw Be(s,d),d}}yn(s),Mr(i)}}function _n(s,i){let u=s._controlledReadableByteStream;if(s._closeRequested||u._state!=="readable")return;let{buffer:d,byteOffset:y,byteLength:S}=i;if(yt(d))throw new TypeError("chunk's buffer is detached and so cannot be enqueued");let A=st(d);if(s._pendingPullIntos.length>0){let H=s._pendingPullIntos.peek();if(yt(H.buffer))throw new TypeError("The BYOB request's buffer has been detached and so cannot be filled with an enqueued chunk");Us(s),H.buffer=st(H.buffer),H.readerType==="none"&&Qo(s,H)}if(Po(u))if(nd(s),pn(u)===0)bn(s,A,y,S);else{s._pendingPullIntos.length>0&&er(s);let H=new Uint8Array(A,y,S);Hs(u,H,!1)}else zs(u)?(bn(s,A,y,S),Ms(s)):bn(s,A,y,S);Nt(s)}function Be(s,i){let u=s._controlledReadableByteStream;u._state==="readable"&&(Go(s),_t(s),yn(s),Oa(u,i))}function ea(s,i){let u=s._queue.shift();s._queueTotalSize-=u.byteLength,Zo(s);let d=new Uint8Array(u.buffer,u.byteOffset,u.byteLength);i._chunkSteps(d)}function Ws(s){if(s._byobRequest===null&&s._pendingPullIntos.length>0){let i=s._pendingPullIntos.peek(),u=new Uint8Array(i.buffer,i.byteOffset+i.bytesFilled,i.byteLength-i.bytesFilled),d=Object.create(Lt.prototype);ud(d,s,u),s._byobRequest=d}return s._byobRequest}function ta(s){let i=s._controlledReadableByteStream._state;return i==="errored"?null:i==="closed"?0:s._strategyHWM-s._queueTotalSize}function Rn(s,i){let u=s._pendingPullIntos.peek();if(s._controlledReadableByteStream._state==="closed"){if(i!==0)throw new TypeError("bytesWritten must be 0 when calling respond() on a closed stream")}else{if(i===0)throw new TypeError("bytesWritten must be greater than 0 when calling respond() on a readable stream");if(u.bytesFilled+i>u.byteLength)throw new RangeError("bytesWritten out of range")}u.buffer=st(u.buffer),Jo(s,i)}function Sn(s,i){let u=s._pendingPullIntos.peek();if(s._controlledReadableByteStream._state==="closed"){if(i.byteLength!==0)throw new TypeError("The view's length must be 0 when calling respondWithNewView() on a closed stream")}else if(i.byteLength===0)throw new TypeError("The view's length must be greater than 0 when calling respondWithNewView() on a readable stream");if(u.byteOffset+u.bytesFilled!==i.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(u.bufferByteLength!==i.buffer.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");if(u.bytesFilled+i.byteLength>u.byteLength)throw new RangeError("The region specified by view is larger than byobRequest");let y=i.byteLength;u.buffer=st(i.buffer),Jo(s,y)}function ra(s,i,u,d,y,S,A){i._controlledReadableByteStream=s,i._pullAgain=!1,i._pulling=!1,i._byobRequest=null,i._queue=i._queueTotalSize=void 0,_t(i),i._closeRequested=!1,i._started=!1,i._strategyHWM=S,i._pullAlgorithm=d,i._cancelAlgorithm=y,i._autoAllocateChunkSize=A,i._pendingPullIntos=new P,s._readableStreamController=i;let H=u();b(m(H),()=>(i._started=!0,Nt(i),null),j=>(Be(i,j),null))}function ld(s,i,u){let d=Object.create(it.prototype),y,S,A;i.start!==void 0?y=()=>i.start(d):y=()=>{},i.pull!==void 0?S=()=>i.pull(d):S=()=>m(void 0),i.cancel!==void 0?A=j=>i.cancel(j):A=()=>m(void 0);let H=i.autoAllocateChunkSize;if(H===0)throw new TypeError("autoAllocateChunkSize must be greater than 0");ra(s,d,y,S,A,u,H)}function ud(s,i,u){s._associatedReadableByteStreamController=i,s._view=u}function ks(s){return new TypeError(`ReadableStreamBYOBRequest.prototype.${s} can only be used on a ReadableStreamBYOBRequest`)}function Hr(s){return new TypeError(`ReadableByteStreamController.prototype.${s} can only be used on a ReadableByteStreamController`)}function cd(s,i){z(s,i);let u=s?.mode;return{mode:u===void 0?void 0:fd(u,`${i} has member 'mode' that`)}}function fd(s,i){if(s=`${s}`,s!=="byob")throw new TypeError(`${i} '${s}' is not a valid enumeration value for ReadableStreamReaderMode`);return s}function hd(s,i){var u;z(s,i);let d=(u=s?.min)!==null&&u!==void 0?u:1;return{min:fe(d,`${i} has member 'min' that`)}}function na(s){return new Rt(s)}function sa(s,i){s._reader._readIntoRequests.push(i)}function dd(s,i,u){let y=s._reader._readIntoRequests.shift();u?y._closeSteps(i):y._chunkSteps(i)}function ia(s){return s._reader._readIntoRequests.length}function zs(s){let i=s._reader;return!(i===void 0||!Ht(i))}class Rt{constructor(i){if(re(i,1,"ReadableStreamBYOBReader"),It(i,"First parameter"),Et(i))throw new TypeError("This stream has already been locked for exclusive reading by another reader");if(!Pt(i._readableStreamController))throw new TypeError("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");K(this,i),this._readIntoRequests=new P}get closed(){return Ht(this)?this._closedPromise:p(wn("closed"))}cancel(i=void 0){return Ht(this)?this._ownerReadableStream===void 0?p(T("cancel")):Z(this,i):p(wn("cancel"))}read(i,u={}){if(!Ht(this))return p(wn("read"));if(!ArrayBuffer.isView(i))return p(new TypeError("view must be an array buffer view"));if(i.byteLength===0)return p(new TypeError("view must have non-zero byteLength"));if(i.buffer.byteLength===0)return p(new TypeError("view's buffer must have non-zero byteLength"));if(yt(i.buffer))return p(new TypeError("view's buffer has been detached"));let d;try{d=hd(u,"options")}catch(W){return p(W)}let y=d.min;if(y===0)return p(new TypeError("options.min must be greater than 0"));if(td(i)){if(y>i.byteLength)return p(new RangeError("options.min must be less than or equal to view's byteLength"))}else if(y>i.length)return p(new RangeError("options.min must be less than or equal to view's length"));if(this._ownerReadableStream===void 0)return p(T("read from"));let S,A,H=f((W,G)=>{S=W,A=G});return oa(this,i,y,{_chunkSteps:W=>S({value:W,done:!1}),_closeSteps:W=>S({value:W,done:!0}),_errorSteps:W=>A(W)}),H}releaseLock(){if(!Ht(this))throw wn("releaseLock");this._ownerReadableStream!==void 0&&pd(this)}}Object.defineProperties(Rt.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),a(Rt.prototype.cancel,"cancel"),a(Rt.prototype.read,"read"),a(Rt.prototype.releaseLock,"releaseLock"),typeof e.toStringTag=="symbol"&&Object.defineProperty(Rt.prototype,e.toStringTag,{value:"ReadableStreamBYOBReader",configurable:!0});function Ht(s){return!n(s)||!Object.prototype.hasOwnProperty.call(s,"_readIntoRequests")?!1:s instanceof Rt}function oa(s,i,u,d){let y=s._ownerReadableStream;y._disturbed=!0,y._state==="errored"?d._errorSteps(y._storedError):sd(y._readableStreamController,i,u,d)}function pd(s){E(s);let i=new TypeError("Reader was released");aa(s,i)}function aa(s,i){let u=s._readIntoRequests;s._readIntoRequests=new P,u.forEach(d=>{d._errorSteps(i)})}function wn(s){return new TypeError(`ReadableStreamBYOBReader.prototype.${s} can only be used on a ReadableStreamBYOBReader`)}function Dr(s,i){let{highWaterMark:u}=s;if(u===void 0)return i;if(Uo(u)||u<0)throw new RangeError("Invalid highWaterMark");return u}function En(s){let{size:i}=s;return i||(()=>1)}function An(s,i){z(s,i);let u=s?.highWaterMark,d=s?.size;return{highWaterMark:u===void 0?void 0:V(u),size:d===void 0?void 0:md(d,`${i} has member 'size' that`)}}function md(s,i){return Se(s,i),u=>V(s(u))}function gd(s,i){z(s,i);let u=s?.abort,d=s?.close,y=s?.start,S=s?.type,A=s?.write;return{abort:u===void 0?void 0:bd(u,s,`${i} has member 'abort' that`),close:d===void 0?void 0:yd(d,s,`${i} has member 'close' that`),start:y===void 0?void 0:_d(y,s,`${i} has member 'start' that`),write:A===void 0?void 0:Rd(A,s,`${i} has member 'write' that`),type:S}}function bd(s,i,u){return Se(s,u),d=>C(s,i,[d])}function yd(s,i,u){return Se(s,u),()=>C(s,i,[])}function _d(s,i,u){return Se(s,u),d=>F(s,i,[d])}function Rd(s,i,u){return Se(s,u),(d,y)=>C(s,i,[d,y])}function la(s,i){if(!tr(s))throw new TypeError(`${i} is not a WritableStream.`)}function Sd(s){if(typeof s!="object"||s===null)return!1;try{return typeof s.aborted=="boolean"}catch{return!1}}let wd=typeof AbortController=="function";function Ed(){if(wd)return new AbortController}class St{constructor(i={},u={}){i===void 0?i=null:N(i,"First parameter");let d=An(u,"Second parameter"),y=gd(i,"First parameter");if(ca(this),y.type!==void 0)throw new RangeError("Invalid type is specified");let A=En(d),H=Dr(d,1);Bd(this,y,H,A)}get locked(){if(!tr(this))throw On("locked");return rr(this)}abort(i=void 0){return tr(this)?rr(this)?p(new TypeError("Cannot abort a stream that already has a writer")):Tn(this,i):p(On("abort"))}close(){return tr(this)?rr(this)?p(new TypeError("Cannot close a stream that already has a writer")):Xe(this)?p(new TypeError("Cannot close an already-closing stream")):fa(this):p(On("close"))}getWriter(){if(!tr(this))throw On("getWriter");return ua(this)}}Object.defineProperties(St.prototype,{abort:{enumerable:!0},close:{enumerable:!0},getWriter:{enumerable:!0},locked:{enumerable:!0}}),a(St.prototype.abort,"abort"),a(St.prototype.close,"close"),a(St.prototype.getWriter,"getWriter"),typeof e.toStringTag=="symbol"&&Object.defineProperty(St.prototype,e.toStringTag,{value:"WritableStream",configurable:!0});function ua(s){return new ot(s)}function Ad(s,i,u,d,y=1,S=()=>1){let A=Object.create(St.prototype);ca(A);let H=Object.create(nr.prototype);return ba(A,H,s,i,u,d,y,S),A}function ca(s){s._state="writable",s._storedError=void 0,s._writer=void 0,s._writableStreamController=void 0,s._writeRequests=new P,s._inFlightWriteRequest=void 0,s._closeRequest=void 0,s._inFlightCloseRequest=void 0,s._pendingAbortRequest=void 0,s._backpressure=!1}function tr(s){return!n(s)||!Object.prototype.hasOwnProperty.call(s,"_writableStreamController")?!1:s instanceof St}function rr(s){return s._writer!==void 0}function Tn(s,i){var u;if(s._state==="closed"||s._state==="errored")return m(void 0);s._writableStreamController._abortReason=i,(u=s._writableStreamController._abortController)===null||u===void 0||u.abort(i);let d=s._state;if(d==="closed"||d==="errored")return m(void 0);if(s._pendingAbortRequest!==void 0)return s._pendingAbortRequest._promise;let y=!1;d==="erroring"&&(y=!0,i=void 0);let S=f((A,H)=>{s._pendingAbortRequest={_promise:void 0,_resolve:A,_reject:H,_reason:i,_wasAlreadyErroring:y}});return s._pendingAbortRequest._promise=S,y||Gs(s,i),S}function fa(s){let i=s._state;if(i==="closed"||i==="errored")return p(new TypeError(`The stream (in ${i} state) is not in the writable state and cannot be closed`));let u=f((y,S)=>{let A={_resolve:y,_reject:S};s._closeRequest=A}),d=s._writer;return d!==void 0&&s._backpressure&&i==="writable"&&ei(d),qd(s._writableStreamController),u}function Td(s){return f((u,d)=>{let y={_resolve:u,_reject:d};s._writeRequests.push(y)})}function js(s,i){if(s._state==="writable"){Gs(s,i);return}Vs(s)}function Gs(s,i){let u=s._writableStreamController;s._state="erroring",s._storedError=i;let d=s._writer;d!==void 0&&da(d,i),!$d(s)&&u._started&&Vs(s)}function Vs(s){s._state="errored",s._writableStreamController[U]();let i=s._storedError;if(s._writeRequests.forEach(y=>{y._reject(i)}),s._writeRequests=new P,s._pendingAbortRequest===void 0){Cn(s);return}let u=s._pendingAbortRequest;if(s._pendingAbortRequest=void 0,u._wasAlreadyErroring){u._reject(i),Cn(s);return}let d=s._writableStreamController[D](u._reason);b(d,()=>(u._resolve(),Cn(s),null),y=>(u._reject(y),Cn(s),null))}function Cd(s){s._inFlightWriteRequest._resolve(void 0),s._inFlightWriteRequest=void 0}function xd(s,i){s._inFlightWriteRequest._reject(i),s._inFlightWriteRequest=void 0,js(s,i)}function vd(s){s._inFlightCloseRequest._resolve(void 0),s._inFlightCloseRequest=void 0,s._state==="erroring"&&(s._storedError=void 0,s._pendingAbortRequest!==void 0&&(s._pendingAbortRequest._resolve(),s._pendingAbortRequest=void 0)),s._state="closed";let u=s._writer;u!==void 0&&Sa(u)}function Od(s,i){s._inFlightCloseRequest._reject(i),s._inFlightCloseRequest=void 0,s._pendingAbortRequest!==void 0&&(s._pendingAbortRequest._reject(i),s._pendingAbortRequest=void 0),js(s,i)}function Xe(s){return!(s._closeRequest===void 0&&s._inFlightCloseRequest===void 0)}function $d(s){return!(s._inFlightWriteRequest===void 0&&s._inFlightCloseRequest===void 0)}function Id(s){s._inFlightCloseRequest=s._closeRequest,s._closeRequest=void 0}function Ld(s){s._inFlightWriteRequest=s._writeRequests.shift()}function Cn(s){s._closeRequest!==void 0&&(s._closeRequest._reject(s._storedError),s._closeRequest=void 0);let i=s._writer;i!==void 0&&Zs(i,s._storedError)}function Ys(s,i){let u=s._writer;u!==void 0&&i!==s._backpressure&&(i?jd(u):ei(u)),s._backpressure=i}class ot{constructor(i){if(re(i,1,"WritableStreamDefaultWriter"),la(i,"First parameter"),rr(i))throw new TypeError("This stream has already been locked for exclusive writing by another writer");this._ownerWritableStream=i,i._writer=this;let u=i._state;if(u==="writable")!Xe(i)&&i._backpressure?In(this):wa(this),$n(this);else if(u==="erroring")Js(this,i._storedError),$n(this);else if(u==="closed")wa(this),kd(this);else{let d=i._storedError;Js(this,d),Ra(this,d)}}get closed(){return Dt(this)?this._closedPromise:p(Bt("closed"))}get desiredSize(){if(!Dt(this))throw Bt("desiredSize");if(this._ownerWritableStream===void 0)throw qr("desiredSize");return Dd(this)}get ready(){return Dt(this)?this._readyPromise:p(Bt("ready"))}abort(i=void 0){return Dt(this)?this._ownerWritableStream===void 0?p(qr("abort")):Pd(this,i):p(Bt("abort"))}close(){if(!Dt(this))return p(Bt("close"));let i=this._ownerWritableStream;return i===void 0?p(qr("close")):Xe(i)?p(new TypeError("Cannot close an already-closing stream")):ha(this)}releaseLock(){if(!Dt(this))throw Bt("releaseLock");this._ownerWritableStream!==void 0&&pa(this)}write(i=void 0){return Dt(this)?this._ownerWritableStream===void 0?p(qr("write to")):ma(this,i):p(Bt("write"))}}Object.defineProperties(ot.prototype,{abort:{enumerable:!0},close:{enumerable:!0},releaseLock:{enumerable:!0},write:{enumerable:!0},closed:{enumerable:!0},desiredSize:{enumerable:!0},ready:{enumerable:!0}}),a(ot.prototype.abort,"abort"),a(ot.prototype.close,"close"),a(ot.prototype.releaseLock,"releaseLock"),a(ot.prototype.write,"write"),typeof e.toStringTag=="symbol"&&Object.defineProperty(ot.prototype,e.toStringTag,{value:"WritableStreamDefaultWriter",configurable:!0});function Dt(s){return!n(s)||!Object.prototype.hasOwnProperty.call(s,"_ownerWritableStream")?!1:s instanceof ot}function Pd(s,i){let u=s._ownerWritableStream;return Tn(u,i)}function ha(s){let i=s._ownerWritableStream;return fa(i)}function Nd(s){let i=s._ownerWritableStream,u=i._state;return Xe(i)||u==="closed"?m(void 0):u==="errored"?p(i._storedError):ha(s)}function Hd(s,i){s._closedPromiseState==="pending"?Zs(s,i):zd(s,i)}function da(s,i){s._readyPromiseState==="pending"?Ea(s,i):Gd(s,i)}function Dd(s){let i=s._ownerWritableStream,u=i._state;return u==="errored"||u==="erroring"?null:u==="closed"?0:ya(i._writableStreamController)}function pa(s){let i=s._ownerWritableStream,u=new TypeError("Writer was released and can no longer be used to monitor the stream's closedness");da(s,u),Hd(s,u),i._writer=void 0,s._ownerWritableStream=void 0}function ma(s,i){let u=s._ownerWritableStream,d=u._writableStreamController,y=Fd(d,i);if(u!==s._ownerWritableStream)return p(qr("write to"));let S=u._state;if(S==="errored")return p(u._storedError);if(Xe(u)||S==="closed")return p(new TypeError("The stream is closing or closed and cannot be written to"));if(S==="erroring")return p(u._storedError);let A=Td(u);return Ud(d,i,y),A}let ga={};class nr{constructor(){throw new TypeError("Illegal constructor")}get abortReason(){if(!Qs(this))throw Xs("abortReason");return this._abortReason}get signal(){if(!Qs(this))throw Xs("signal");if(this._abortController===void 0)throw new TypeError("WritableStreamDefaultController.prototype.signal is not supported");return this._abortController.signal}error(i=void 0){if(!Qs(this))throw Xs("error");this._controlledWritableStream._state==="writable"&&_a(this,i)}[D](i){let u=this._abortAlgorithm(i);return xn(this),u}[U](){_t(this)}}Object.defineProperties(nr.prototype,{abortReason:{enumerable:!0},signal:{enumerable:!0},error:{enumerable:!0}}),typeof e.toStringTag=="symbol"&&Object.defineProperty(nr.prototype,e.toStringTag,{value:"WritableStreamDefaultController",configurable:!0});function Qs(s){return!n(s)||!Object.prototype.hasOwnProperty.call(s,"_controlledWritableStream")?!1:s instanceof nr}function ba(s,i,u,d,y,S,A,H){i._controlledWritableStream=s,s._writableStreamController=i,i._queue=void 0,i._queueTotalSize=void 0,_t(i),i._abortReason=void 0,i._abortController=Ed(),i._started=!1,i._strategySizeAlgorithm=H,i._strategyHWM=A,i._writeAlgorithm=d,i._closeAlgorithm=y,i._abortAlgorithm=S;let j=Ks(i);Ys(s,j);let W=u(),G=m(W);b(G,()=>(i._started=!0,vn(i),null),X=>(i._started=!0,js(s,X),null))}function Bd(s,i,u,d){let y=Object.create(nr.prototype),S,A,H,j;i.start!==void 0?S=()=>i.start(y):S=()=>{},i.write!==void 0?A=W=>i.write(W,y):A=()=>m(void 0),i.close!==void 0?H=()=>i.close():H=()=>m(void 0),i.abort!==void 0?j=W=>i.abort(W):j=()=>m(void 0),ba(s,y,S,A,H,j,u,d)}function xn(s){s._writeAlgorithm=void 0,s._closeAlgorithm=void 0,s._abortAlgorithm=void 0,s._strategySizeAlgorithm=void 0}function qd(s){Bs(s,ga,0),vn(s)}function Fd(s,i){try{return s._strategySizeAlgorithm(i)}catch(u){return Br(s,u),1}}function ya(s){return s._strategyHWM-s._queueTotalSize}function Ud(s,i,u){try{Bs(s,i,u)}catch(y){Br(s,y);return}let d=s._controlledWritableStream;if(!Xe(d)&&d._state==="writable"){let y=Ks(s);Ys(d,y)}vn(s)}function vn(s){let i=s._controlledWritableStream;if(!s._started||i._inFlightWriteRequest!==void 0)return;if(i._state==="erroring"){Vs(i);return}if(s._queue.length===0)return;let d=ed(s);d===ga?Md(s):Wd(s,d)}function Br(s,i){s._controlledWritableStream._state==="writable"&&_a(s,i)}function Md(s){let i=s._controlledWritableStream;Id(i),Ds(s);let u=s._closeAlgorithm();xn(s),b(u,()=>(vd(i),null),d=>(Od(i,d),null))}function Wd(s,i){let u=s._controlledWritableStream;Ld(u);let d=s._writeAlgorithm(i);b(d,()=>{Cd(u);let y=u._state;if(Ds(s),!Xe(u)&&y==="writable"){let S=Ks(s);Ys(u,S)}return vn(s),null},y=>(u._state==="writable"&&xn(s),xd(u,y),null))}function Ks(s){return ya(s)<=0}function _a(s,i){let u=s._controlledWritableStream;xn(s),Gs(u,i)}function On(s){return new TypeError(`WritableStream.prototype.${s} can only be used on a WritableStream`)}function Xs(s){return new TypeError(`WritableStreamDefaultController.prototype.${s} can only be used on a WritableStreamDefaultController`)}function Bt(s){return new TypeError(`WritableStreamDefaultWriter.prototype.${s} can only be used on a WritableStreamDefaultWriter`)}function qr(s){return new TypeError("Cannot "+s+" a stream using a released writer")}function $n(s){s._closedPromise=f((i,u)=>{s._closedPromise_resolve=i,s._closedPromise_reject=u,s._closedPromiseState="pending"})}function Ra(s,i){$n(s),Zs(s,i)}function kd(s){$n(s),Sa(s)}function Zs(s,i){s._closedPromise_reject!==void 0&&(x(s._closedPromise),s._closedPromise_reject(i),s._closedPromise_resolve=void 0,s._closedPromise_reject=void 0,s._closedPromiseState="rejected")}function zd(s,i){Ra(s,i)}function Sa(s){s._closedPromise_resolve!==void 0&&(s._closedPromise_resolve(void 0),s._closedPromise_resolve=void 0,s._closedPromise_reject=void 0,s._closedPromiseState="resolved")}function In(s){s._readyPromise=f((i,u)=>{s._readyPromise_resolve=i,s._readyPromise_reject=u}),s._readyPromiseState="pending"}function Js(s,i){In(s),Ea(s,i)}function wa(s){In(s),ei(s)}function Ea(s,i){s._readyPromise_reject!==void 0&&(x(s._readyPromise),s._readyPromise_reject(i),s._readyPromise_resolve=void 0,s._readyPromise_reject=void 0,s._readyPromiseState="rejected")}function jd(s){In(s)}function Gd(s,i){Js(s,i)}function ei(s){s._readyPromise_resolve!==void 0&&(s._readyPromise_resolve(void 0),s._readyPromise_resolve=void 0,s._readyPromise_reject=void 0,s._readyPromiseState="fulfilled")}function Vd(){if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof global<"u")return global}let ti=Vd();function Yd(s){if(!(typeof s=="function"||typeof s=="object")||s.name!=="DOMException")return!1;try{return new s,!0}catch{return!1}}function Qd(){let s=ti?.DOMException;return Yd(s)?s:void 0}function Kd(){let s=function(u,d){this.message=u||"",this.name=d||"Error",Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)};return a(s,"DOMException"),s.prototype=Object.create(Error.prototype),Object.defineProperty(s.prototype,"constructor",{value:s,writable:!0,configurable:!0}),s}let Xd=Qd()||Kd();function Aa(s,i,u,d,y,S){let A=je(s),H=ua(i);s._disturbed=!0;let j=!1,W=m(void 0);return f((G,X)=>{let ae;if(S!==void 0){if(ae=()=>{let k=S.reason!==void 0?S.reason:new Xd("Aborted","AbortError"),ee=[];d||ee.push(()=>i._state==="writable"?Tn(i,k):m(void 0)),y||ee.push(()=>s._state==="readable"?Ve(s,k):m(void 0)),Oe(()=>Promise.all(ee.map(ue=>ue())),!0,k)},S.aborted){ae();return}S.addEventListener("abort",ae)}function Ye(){return f((k,ee)=>{function ue(Pe){Pe?k():g(ar(),ue,ee)}ue(!1)})}function ar(){return j?m(!0):g(H._readyPromise,()=>f((k,ee)=>{Lr(A,{_chunkSteps:ue=>{W=g(ma(H,ue),void 0,r),k(!1)},_closeSteps:()=>k(!0),_errorSteps:ee})}))}if(lt(s,A._closedPromise,k=>(d?qe(!0,k):Oe(()=>Tn(i,k),!0,k),null)),lt(i,H._closedPromise,k=>(y?qe(!0,k):Oe(()=>Ve(s,k),!0,k),null)),Te(s,A._closedPromise,()=>(u?qe():Oe(()=>Nd(H)),null)),Xe(i)||i._state==="closed"){let k=new TypeError("the destination writable stream closed before all data could be piped to it");y?qe(!0,k):Oe(()=>Ve(s,k),!0,k)}x(Ye());function Tt(){let k=W;return g(W,()=>k!==W?Tt():void 0)}function lt(k,ee,ue){k._state==="errored"?ue(k._storedError):w(ee,ue)}function Te(k,ee,ue){k._state==="closed"?ue():R(ee,ue)}function Oe(k,ee,ue){if(j)return;j=!0,i._state==="writable"&&!Xe(i)?R(Tt(),Pe):Pe();function Pe(){return b(k(),()=>ut(ee,ue),lr=>ut(!0,lr)),null}}function qe(k,ee){j||(j=!0,i._state==="writable"&&!Xe(i)?R(Tt(),()=>ut(k,ee)):ut(k,ee))}function ut(k,ee){return pa(H),E(A),S!==void 0&&S.removeEventListener("abort",ae),k?X(ee):G(void 0),null}})}class at{constructor(){throw new TypeError("Illegal constructor")}get desiredSize(){if(!Ln(this))throw Nn("desiredSize");return ri(this)}close(){if(!Ln(this))throw Nn("close");if(!ir(this))throw new TypeError("The stream is not in a state that permits close");qt(this)}enqueue(i=void 0){if(!Ln(this))throw Nn("enqueue");if(!ir(this))throw new TypeError("The stream is not in a state that permits enqueue");return sr(this,i)}error(i=void 0){if(!Ln(this))throw Nn("error");Ge(this,i)}[M](i){_t(this);let u=this._cancelAlgorithm(i);return Pn(this),u}[_](i){let u=this._controlledReadableStream;if(this._queue.length>0){let d=Ds(this);this._closeRequested&&this._queue.length===0?(Pn(this),Mr(u)):Fr(this),i._chunkSteps(d)}else Lo(u,i),Fr(this)}[ne](){}}Object.defineProperties(at.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},desiredSize:{enumerable:!0}}),a(at.prototype.close,"close"),a(at.prototype.enqueue,"enqueue"),a(at.prototype.error,"error"),typeof e.toStringTag=="symbol"&&Object.defineProperty(at.prototype,e.toStringTag,{value:"ReadableStreamDefaultController",configurable:!0});function Ln(s){return!n(s)||!Object.prototype.hasOwnProperty.call(s,"_controlledReadableStream")?!1:s instanceof at}function Fr(s){if(!Ta(s))return;if(s._pulling){s._pullAgain=!0;return}s._pulling=!0;let u=s._pullAlgorithm();b(u,()=>(s._pulling=!1,s._pullAgain&&(s._pullAgain=!1,Fr(s)),null),d=>(Ge(s,d),null))}function Ta(s){let i=s._controlledReadableStream;return!ir(s)||!s._started?!1:!!(Et(i)&&pn(i)>0||ri(s)>0)}function Pn(s){s._pullAlgorithm=void 0,s._cancelAlgorithm=void 0,s._strategySizeAlgorithm=void 0}function qt(s){if(!ir(s))return;let i=s._controlledReadableStream;s._closeRequested=!0,s._queue.length===0&&(Pn(s),Mr(i))}function sr(s,i){if(!ir(s))return;let u=s._controlledReadableStream;if(Et(u)&&pn(u)>0)Hs(u,i,!1);else{let d;try{d=s._strategySizeAlgorithm(i)}catch(y){throw Ge(s,y),y}try{Bs(s,i,d)}catch(y){throw Ge(s,y),y}}Fr(s)}function Ge(s,i){let u=s._controlledReadableStream;u._state==="readable"&&(_t(s),Pn(s),Oa(u,i))}function ri(s){let i=s._controlledReadableStream._state;return i==="errored"?null:i==="closed"?0:s._strategyHWM-s._queueTotalSize}function Zd(s){return!Ta(s)}function ir(s){let i=s._controlledReadableStream._state;return!s._closeRequested&&i==="readable"}function Ca(s,i,u,d,y,S,A){i._controlledReadableStream=s,i._queue=void 0,i._queueTotalSize=void 0,_t(i),i._started=!1,i._closeRequested=!1,i._pullAgain=!1,i._pulling=!1,i._strategySizeAlgorithm=A,i._strategyHWM=S,i._pullAlgorithm=d,i._cancelAlgorithm=y,s._readableStreamController=i;let H=u();b(m(H),()=>(i._started=!0,Fr(i),null),j=>(Ge(i,j),null))}function Jd(s,i,u,d){let y=Object.create(at.prototype),S,A,H;i.start!==void 0?S=()=>i.start(y):S=()=>{},i.pull!==void 0?A=()=>i.pull(y):A=()=>m(void 0),i.cancel!==void 0?H=j=>i.cancel(j):H=()=>m(void 0),Ca(s,y,S,A,H,u,d)}function Nn(s){return new TypeError(`ReadableStreamDefaultController.prototype.${s} can only be used on a ReadableStreamDefaultController`)}function ep(s,i){return Pt(s._readableStreamController)?rp(s):tp(s)}function tp(s,i){let u=je(s),d=!1,y=!1,S=!1,A=!1,H,j,W,G,X,ae=f(Te=>{X=Te});function Ye(){return d?(y=!0,m(void 0)):(d=!0,Lr(u,{_chunkSteps:Oe=>{O(()=>{y=!1;let qe=Oe,ut=Oe;S||sr(W._readableStreamController,qe),A||sr(G._readableStreamController,ut),d=!1,y&&Ye()})},_closeSteps:()=>{d=!1,S||qt(W._readableStreamController),A||qt(G._readableStreamController),(!S||!A)&&X(void 0)},_errorSteps:()=>{d=!1}}),m(void 0))}function ar(Te){if(S=!0,H=Te,A){let Oe=Pr([H,j]),qe=Ve(s,Oe);X(qe)}return ae}function Tt(Te){if(A=!0,j=Te,S){let Oe=Pr([H,j]),qe=Ve(s,Oe);X(qe)}return ae}function lt(){}return W=Ur(lt,Ye,ar),G=Ur(lt,Ye,Tt),w(u._closedPromise,Te=>(Ge(W._readableStreamController,Te),Ge(G._readableStreamController,Te),(!S||!A)&&X(void 0),null)),[W,G]}function rp(s){let i=je(s),u=!1,d=!1,y=!1,S=!1,A=!1,H,j,W,G,X,ae=f(k=>{X=k});function Ye(k){w(k._closedPromise,ee=>(k!==i||(Be(W._readableStreamController,ee),Be(G._readableStreamController,ee),(!S||!A)&&X(void 0)),null))}function ar(){Ht(i)&&(E(i),i=je(s),Ye(i)),Lr(i,{_chunkSteps:ee=>{O(()=>{d=!1,y=!1;let ue=ee,Pe=ee;if(!S&&!A)try{Pe=zo(ee)}catch(lr){Be(W._readableStreamController,lr),Be(G._readableStreamController,lr),X(Ve(s,lr));return}S||_n(W._readableStreamController,ue),A||_n(G._readableStreamController,Pe),u=!1,d?lt():y&&Te()})},_closeSteps:()=>{u=!1,S||Nr(W._readableStreamController),A||Nr(G._readableStreamController),W._readableStreamController._pendingPullIntos.length>0&&Rn(W._readableStreamController,0),G._readableStreamController._pendingPullIntos.length>0&&Rn(G._readableStreamController,0),(!S||!A)&&X(void 0)},_errorSteps:()=>{u=!1}})}function Tt(k,ee){bt(i)&&(E(i),i=na(s),Ye(i));let ue=ee?G:W,Pe=ee?W:G;oa(i,k,1,{_chunkSteps:ur=>{O(()=>{d=!1,y=!1;let cr=ee?A:S;if(ee?S:A)cr||Sn(ue._readableStreamController,ur);else{let Wa;try{Wa=zo(ur)}catch(ai){Be(ue._readableStreamController,ai),Be(Pe._readableStreamController,ai),X(Ve(s,ai));return}cr||Sn(ue._readableStreamController,ur),_n(Pe._readableStreamController,Wa)}u=!1,d?lt():y&&Te()})},_closeSteps:ur=>{u=!1;let cr=ee?A:S,Wn=ee?S:A;cr||Nr(ue._readableStreamController),Wn||Nr(Pe._readableStreamController),ur!==void 0&&(cr||Sn(ue._readableStreamController,ur),!Wn&&Pe._readableStreamController._pendingPullIntos.length>0&&Rn(Pe._readableStreamController,0)),(!cr||!Wn)&&X(void 0)},_errorSteps:()=>{u=!1}})}function lt(){if(u)return d=!0,m(void 0);u=!0;let k=Ws(W._readableStreamController);return k===null?ar():Tt(k._view,!1),m(void 0)}function Te(){if(u)return y=!0,m(void 0);u=!0;let k=Ws(G._readableStreamController);return k===null?ar():Tt(k._view,!0),m(void 0)}function Oe(k){if(S=!0,H=k,A){let ee=Pr([H,j]),ue=Ve(s,ee);X(ue)}return ae}function qe(k){if(A=!0,j=k,S){let ee=Pr([H,j]),ue=Ve(s,ee);X(ue)}return ae}function ut(){}return W=va(ut,lt,Oe),G=va(ut,Te,qe),Ye(i),[W,G]}function np(s){return n(s)&&typeof s.getReader<"u"}function sp(s){return np(s)?op(s.getReader()):ip(s)}function ip(s){let i,u=ko(s,"async"),d=r;function y(){let A;try{A=Kh(u)}catch(j){return p(j)}let H=m(A);return v(H,j=>{if(!n(j))throw new TypeError("The promise returned by the iterator.next() method must fulfill with an object");if(Xh(j))qt(i._readableStreamController);else{let G=Zh(j);sr(i._readableStreamController,G)}})}function S(A){let H=u.iterator,j;try{j=gn(H,"return")}catch(X){return p(X)}if(j===void 0)return m(void 0);let W;try{W=F(j,H,[A])}catch(X){return p(X)}let G=m(W);return v(G,X=>{if(!n(X))throw new TypeError("The promise returned by the iterator.return() method must fulfill with an object")})}return i=Ur(d,y,S,0),i}function op(s){let i,u=r;function d(){let S;try{S=s.read()}catch(A){return p(A)}return v(S,A=>{if(!n(A))throw new TypeError("The promise returned by the reader.read() method must fulfill with an object");if(A.done)qt(i._readableStreamController);else{let H=A.value;sr(i._readableStreamController,H)}})}function y(S){try{return m(s.cancel(S))}catch(A){return p(A)}}return i=Ur(u,d,y,0),i}function ap(s,i){z(s,i);let u=s,d=u?.autoAllocateChunkSize,y=u?.cancel,S=u?.pull,A=u?.start,H=u?.type;return{autoAllocateChunkSize:d===void 0?void 0:fe(d,`${i} has member 'autoAllocateChunkSize' that`),cancel:y===void 0?void 0:lp(y,u,`${i} has member 'cancel' that`),pull:S===void 0?void 0:up(S,u,`${i} has member 'pull' that`),start:A===void 0?void 0:cp(A,u,`${i} has member 'start' that`),type:H===void 0?void 0:fp(H,`${i} has member 'type' that`)}}function lp(s,i,u){return Se(s,u),d=>C(s,i,[d])}function up(s,i,u){return Se(s,u),d=>C(s,i,[d])}function cp(s,i,u){return Se(s,u),d=>F(s,i,[d])}function fp(s,i){if(s=`${s}`,s!=="bytes")throw new TypeError(`${i} '${s}' is not a valid enumeration value for ReadableStreamType`);return s}function hp(s,i){return z(s,i),{preventCancel:!!s?.preventCancel}}function xa(s,i){z(s,i);let u=s?.preventAbort,d=s?.preventCancel,y=s?.preventClose,S=s?.signal;return S!==void 0&&dp(S,`${i} has member 'signal' that`),{preventAbort:!!u,preventCancel:!!d,preventClose:!!y,signal:S}}function dp(s,i){if(!Sd(s))throw new TypeError(`${i} is not an AbortSignal.`)}function pp(s,i){z(s,i);let u=s?.readable;I(u,"readable","ReadableWritablePair"),It(u,`${i} has member 'readable' that`);let d=s?.writable;return I(d,"writable","ReadableWritablePair"),la(d,`${i} has member 'writable' that`),{readable:u,writable:d}}class Ee{constructor(i={},u={}){i===void 0?i=null:N(i,"First parameter");let d=An(u,"Second parameter"),y=ap(i,"First parameter");if(ni(this),y.type==="bytes"){if(d.size!==void 0)throw new RangeError("The strategy for a byte stream cannot have a size function");let S=Dr(d,0);ld(this,y,S)}else{let S=En(d),A=Dr(d,1);Jd(this,y,A,S)}}get locked(){if(!wt(this))throw Ft("locked");return Et(this)}cancel(i=void 0){return wt(this)?Et(this)?p(new TypeError("Cannot cancel a stream that already has a reader")):Ve(this,i):p(Ft("cancel"))}getReader(i=void 0){if(!wt(this))throw Ft("getReader");return cd(i,"First parameter").mode===void 0?je(this):na(this)}pipeThrough(i,u={}){if(!wt(this))throw Ft("pipeThrough");re(i,1,"pipeThrough");let d=pp(i,"First parameter"),y=xa(u,"Second parameter");if(Et(this))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(rr(d.writable))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");let S=Aa(this,d.writable,y.preventClose,y.preventAbort,y.preventCancel,y.signal);return x(S),d.readable}pipeTo(i,u={}){if(!wt(this))return p(Ft("pipeTo"));if(i===void 0)return p("Parameter 1 is required in 'pipeTo'.");if(!tr(i))return p(new TypeError("ReadableStream.prototype.pipeTo's first argument must be a WritableStream"));let d;try{d=xa(u,"Second parameter")}catch(y){return p(y)}return Et(this)?p(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):rr(i)?p(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):Aa(this,i,d.preventClose,d.preventAbort,d.preventCancel,d.signal)}tee(){if(!wt(this))throw Ft("tee");let i=ep(this);return Pr(i)}values(i=void 0){if(!wt(this))throw Ft("values");let u=hp(i,"First parameter");return Yh(this,u.preventCancel)}static from(i){return sp(i)}}Object.defineProperties(Ee,{from:{enumerable:!0}}),Object.defineProperties(Ee.prototype,{cancel:{enumerable:!0},getReader:{enumerable:!0},pipeThrough:{enumerable:!0},pipeTo:{enumerable:!0},tee:{enumerable:!0},values:{enumerable:!0},locked:{enumerable:!0}}),a(Ee.from,"from"),a(Ee.prototype.cancel,"cancel"),a(Ee.prototype.getReader,"getReader"),a(Ee.prototype.pipeThrough,"pipeThrough"),a(Ee.prototype.pipeTo,"pipeTo"),a(Ee.prototype.tee,"tee"),a(Ee.prototype.values,"values"),typeof e.toStringTag=="symbol"&&Object.defineProperty(Ee.prototype,e.toStringTag,{value:"ReadableStream",configurable:!0}),typeof e.asyncIterator=="symbol"&&Object.defineProperty(Ee.prototype,e.asyncIterator,{value:Ee.prototype.values,writable:!0,configurable:!0});function Ur(s,i,u,d=1,y=()=>1){let S=Object.create(Ee.prototype);ni(S);let A=Object.create(at.prototype);return Ca(S,A,s,i,u,d,y),S}function va(s,i,u){let d=Object.create(Ee.prototype);ni(d);let y=Object.create(it.prototype);return ra(d,y,s,i,u,0,void 0),d}function ni(s){s._state="readable",s._reader=void 0,s._storedError=void 0,s._disturbed=!1}function wt(s){return!n(s)||!Object.prototype.hasOwnProperty.call(s,"_readableStreamController")?!1:s instanceof Ee}function Et(s){return s._reader!==void 0}function Ve(s,i){if(s._disturbed=!0,s._state==="closed")return m(void 0);if(s._state==="errored")return p(s._storedError);Mr(s);let u=s._reader;if(u!==void 0&&Ht(u)){let y=u._readIntoRequests;u._readIntoRequests=new P,y.forEach(S=>{S._closeSteps(void 0)})}let d=s._readableStreamController[M](i);return v(d,r)}function Mr(s){s._state="closed";let i=s._reader;if(i!==void 0&&(ve(i),bt(i))){let u=i._readRequests;i._readRequests=new P,u.forEach(d=>{d._closeSteps()})}}function Oa(s,i){s._state="errored",s._storedError=i;let u=s._reader;u!==void 0&&(Re(u,i),bt(u)?No(u,i):aa(u,i))}function Ft(s){return new TypeError(`ReadableStream.prototype.${s} can only be used on a ReadableStream`)}function $a(s,i){z(s,i);let u=s?.highWaterMark;return I(u,"highWaterMark","QueuingStrategyInit"),{highWaterMark:V(u)}}let Ia=s=>s.byteLength;a(Ia,"size");class Hn{constructor(i){re(i,1,"ByteLengthQueuingStrategy"),i=$a(i,"First parameter"),this._byteLengthQueuingStrategyHighWaterMark=i.highWaterMark}get highWaterMark(){if(!Pa(this))throw La("highWaterMark");return this._byteLengthQueuingStrategyHighWaterMark}get size(){if(!Pa(this))throw La("size");return Ia}}Object.defineProperties(Hn.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),typeof e.toStringTag=="symbol"&&Object.defineProperty(Hn.prototype,e.toStringTag,{value:"ByteLengthQueuingStrategy",configurable:!0});function La(s){return new TypeError(`ByteLengthQueuingStrategy.prototype.${s} can only be used on a ByteLengthQueuingStrategy`)}function Pa(s){return!n(s)||!Object.prototype.hasOwnProperty.call(s,"_byteLengthQueuingStrategyHighWaterMark")?!1:s instanceof Hn}let Na=()=>1;a(Na,"size");class Dn{constructor(i){re(i,1,"CountQueuingStrategy"),i=$a(i,"First parameter"),this._countQueuingStrategyHighWaterMark=i.highWaterMark}get highWaterMark(){if(!Da(this))throw Ha("highWaterMark");return this._countQueuingStrategyHighWaterMark}get size(){if(!Da(this))throw Ha("size");return Na}}Object.defineProperties(Dn.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),typeof e.toStringTag=="symbol"&&Object.defineProperty(Dn.prototype,e.toStringTag,{value:"CountQueuingStrategy",configurable:!0});function Ha(s){return new TypeError(`CountQueuingStrategy.prototype.${s} can only be used on a CountQueuingStrategy`)}function Da(s){return!n(s)||!Object.prototype.hasOwnProperty.call(s,"_countQueuingStrategyHighWaterMark")?!1:s instanceof Dn}function mp(s,i){z(s,i);let u=s?.cancel,d=s?.flush,y=s?.readableType,S=s?.start,A=s?.transform,H=s?.writableType;return{cancel:u===void 0?void 0:_p(u,s,`${i} has member 'cancel' that`),flush:d===void 0?void 0:gp(d,s,`${i} has member 'flush' that`),readableType:y,start:S===void 0?void 0:bp(S,s,`${i} has member 'start' that`),transform:A===void 0?void 0:yp(A,s,`${i} has member 'transform' that`),writableType:H}}function gp(s,i,u){return Se(s,u),d=>C(s,i,[d])}function bp(s,i,u){return Se(s,u),d=>F(s,i,[d])}function yp(s,i,u){return Se(s,u),(d,y)=>C(s,i,[d,y])}function _p(s,i,u){return Se(s,u),d=>C(s,i,[d])}class Bn{constructor(i={},u={},d={}){i===void 0&&(i=null);let y=An(u,"Second parameter"),S=An(d,"Third parameter"),A=mp(i,"First parameter");if(A.readableType!==void 0)throw new RangeError("Invalid readableType specified");if(A.writableType!==void 0)throw new RangeError("Invalid writableType specified");let H=Dr(S,0),j=En(S),W=Dr(y,1),G=En(y),X,ae=f(Ye=>{X=Ye});Rp(this,ae,W,G,H,j),wp(this,A),A.start!==void 0?X(A.start(this._transformStreamController)):X(void 0)}get readable(){if(!Ba(this))throw Ma("readable");return this._readable}get writable(){if(!Ba(this))throw Ma("writable");return this._writable}}Object.defineProperties(Bn.prototype,{readable:{enumerable:!0},writable:{enumerable:!0}}),typeof e.toStringTag=="symbol"&&Object.defineProperty(Bn.prototype,e.toStringTag,{value:"TransformStream",configurable:!0});function Rp(s,i,u,d,y,S){function A(){return i}function H(ae){return Tp(s,ae)}function j(ae){return Cp(s,ae)}function W(){return xp(s)}s._writable=Ad(A,H,W,j,u,d);function G(){return vp(s)}function X(ae){return Op(s,ae)}s._readable=Ur(A,G,X,y,S),s._backpressure=void 0,s._backpressureChangePromise=void 0,s._backpressureChangePromise_resolve=void 0,qn(s,!0),s._transformStreamController=void 0}function Ba(s){return!n(s)||!Object.prototype.hasOwnProperty.call(s,"_transformStreamController")?!1:s instanceof Bn}function qa(s,i){Ge(s._readable._readableStreamController,i),si(s,i)}function si(s,i){Un(s._transformStreamController),Br(s._writable._writableStreamController,i),ii(s)}function ii(s){s._backpressure&&qn(s,!1)}function qn(s,i){s._backpressureChangePromise!==void 0&&s._backpressureChangePromise_resolve(),s._backpressureChangePromise=f(u=>{s._backpressureChangePromise_resolve=u}),s._backpressure=i}class At{constructor(){throw new TypeError("Illegal constructor")}get desiredSize(){if(!Fn(this))throw Mn("desiredSize");let i=this._controlledTransformStream._readable._readableStreamController;return ri(i)}enqueue(i=void 0){if(!Fn(this))throw Mn("enqueue");Fa(this,i)}error(i=void 0){if(!Fn(this))throw Mn("error");Ep(this,i)}terminate(){if(!Fn(this))throw Mn("terminate");Ap(this)}}Object.defineProperties(At.prototype,{enqueue:{enumerable:!0},error:{enumerable:!0},terminate:{enumerable:!0},desiredSize:{enumerable:!0}}),a(At.prototype.enqueue,"enqueue"),a(At.prototype.error,"error"),a(At.prototype.terminate,"terminate"),typeof e.toStringTag=="symbol"&&Object.defineProperty(At.prototype,e.toStringTag,{value:"TransformStreamDefaultController",configurable:!0});function Fn(s){return!n(s)||!Object.prototype.hasOwnProperty.call(s,"_controlledTransformStream")?!1:s instanceof At}function Sp(s,i,u,d,y){i._controlledTransformStream=s,s._transformStreamController=i,i._transformAlgorithm=u,i._flushAlgorithm=d,i._cancelAlgorithm=y,i._finishPromise=void 0,i._finishPromise_resolve=void 0,i._finishPromise_reject=void 0}function wp(s,i){let u=Object.create(At.prototype),d,y,S;i.transform!==void 0?d=A=>i.transform(A,u):d=A=>{try{return Fa(u,A),m(void 0)}catch(H){return p(H)}},i.flush!==void 0?y=()=>i.flush(u):y=()=>m(void 0),i.cancel!==void 0?S=A=>i.cancel(A):S=()=>m(void 0),Sp(s,u,d,y,S)}function Un(s){s._transformAlgorithm=void 0,s._flushAlgorithm=void 0,s._cancelAlgorithm=void 0}function Fa(s,i){let u=s._controlledTransformStream,d=u._readable._readableStreamController;if(!ir(d))throw new TypeError("Readable side is not in a state that permits enqueue");try{sr(d,i)}catch(S){throw si(u,S),u._readable._storedError}Zd(d)!==u._backpressure&&qn(u,!0)}function Ep(s,i){qa(s._controlledTransformStream,i)}function Ua(s,i){let u=s._transformAlgorithm(i);return v(u,void 0,d=>{throw qa(s._controlledTransformStream,d),d})}function Ap(s){let i=s._controlledTransformStream,u=i._readable._readableStreamController;qt(u);let d=new TypeError("TransformStream terminated");si(i,d)}function Tp(s,i){let u=s._transformStreamController;if(s._backpressure){let d=s._backpressureChangePromise;return v(d,()=>{let y=s._writable;if(y._state==="erroring")throw y._storedError;return Ua(u,i)})}return Ua(u,i)}function Cp(s,i){let u=s._transformStreamController;if(u._finishPromise!==void 0)return u._finishPromise;let d=s._readable;u._finishPromise=f((S,A)=>{u._finishPromise_resolve=S,u._finishPromise_reject=A});let y=u._cancelAlgorithm(i);return Un(u),b(y,()=>(d._state==="errored"?or(u,d._storedError):(Ge(d._readableStreamController,i),oi(u)),null),S=>(Ge(d._readableStreamController,S),or(u,S),null)),u._finishPromise}function xp(s){let i=s._transformStreamController;if(i._finishPromise!==void 0)return i._finishPromise;let u=s._readable;i._finishPromise=f((y,S)=>{i._finishPromise_resolve=y,i._finishPromise_reject=S});let d=i._flushAlgorithm();return Un(i),b(d,()=>(u._state==="errored"?or(i,u._storedError):(qt(u._readableStreamController),oi(i)),null),y=>(Ge(u._readableStreamController,y),or(i,y),null)),i._finishPromise}function vp(s){return qn(s,!1),s._backpressureChangePromise}function Op(s,i){let u=s._transformStreamController;if(u._finishPromise!==void 0)return u._finishPromise;let d=s._writable;u._finishPromise=f((S,A)=>{u._finishPromise_resolve=S,u._finishPromise_reject=A});let y=u._cancelAlgorithm(i);return Un(u),b(y,()=>(d._state==="errored"?or(u,d._storedError):(Br(d._writableStreamController,i),ii(s),oi(u)),null),S=>(Br(d._writableStreamController,S),ii(s),or(u,S),null)),u._finishPromise}function Mn(s){return new TypeError(`TransformStreamDefaultController.prototype.${s} can only be used on a TransformStreamDefaultController`)}function oi(s){s._finishPromise_resolve!==void 0&&(s._finishPromise_resolve(),s._finishPromise_resolve=void 0,s._finishPromise_reject=void 0)}function or(s,i){s._finishPromise_reject!==void 0&&(x(s._finishPromise),s._finishPromise_reject(i),s._finishPromise_resolve=void 0,s._finishPromise_reject=void 0)}function Ma(s){return new TypeError(`TransformStream.prototype.${s} can only be used on a TransformStream`)}t.ByteLengthQueuingStrategy=Hn,t.CountQueuingStrategy=Dn,t.ReadableByteStreamController=it,t.ReadableStream=Ee,t.ReadableStreamBYOBReader=Rt,t.ReadableStreamBYOBRequest=Lt,t.ReadableStreamDefaultController=at,t.ReadableStreamDefaultReader=gt,t.TransformStream=Bn,t.TransformStreamDefaultController=At,t.WritableStream=St,t.WritableStreamDefaultController=nr,t.WritableStreamDefaultWriter=ot})});var sl=L(()=>{if(!globalThis.ReadableStream)try{let t=Ne("node:process"),{emitWarning:e}=t;try{t.emitWarning=()=>{},Object.assign(globalThis,Ne("node:stream/web")),t.emitWarning=e}catch(r){throw t.emitWarning=e,r}}catch{Object.assign(globalThis,nl())}try{let{Blob:t}=Ne("buffer");t&&!t.prototype.stream&&(t.prototype.stream=function(r){let n=0,o=this;return new ReadableStream({type:"bytes",async pull(a){let h=await o.slice(n,Math.min(o.size,n+65536)).arrayBuffer();n+=h.byteLength,a.enqueue(new Uint8Array(h)),n===o.size&&a.close()}})})}catch{}});async function*yi(t,e=!0){for(let r of t)if("stream"in r)yield*r.stream();else if(ArrayBuffer.isView(r))if(e){let n=r.byteOffset,o=r.byteOffset+r.byteLength;for(;n!==o;){let a=Math.min(o-n,il),l=r.buffer.slice(n,n+a);n+=l.byteLength,yield new Uint8Array(l)}}else yield r;else{let n=0,o=r;for(;n!==o.size;){let l=await o.slice(n,Math.min(o.size,n+il)).arrayBuffer();n+=l.byteLength,yield new Uint8Array(l)}}}var vR,il,ol,Vp,ct,zr=Wr(()=>{vR=Fe(sl(),1);il=65536;ol=class _i{#t=[];#n="";#e=0;#u="transparent";constructor(e=[],r={}){if(typeof e!="object"||e===null)throw new TypeError("Failed to construct 'Blob': The provided value cannot be converted to a sequence.");if(typeof e[Symbol.iterator]!="function")throw new TypeError("Failed to construct 'Blob': The object must have a callable @@iterator property.");if(typeof r!="object"&&typeof r!="function")throw new TypeError("Failed to construct 'Blob': parameter 2 cannot convert to dictionary.");r===null&&(r={});let n=new TextEncoder;for(let a of e){let l;ArrayBuffer.isView(a)?l=new Uint8Array(a.buffer.slice(a.byteOffset,a.byteOffset+a.byteLength)):a instanceof ArrayBuffer?l=new Uint8Array(a.slice(0)):a instanceof _i?l=a:l=n.encode(`${a}`),this.#e+=ArrayBuffer.isView(l)?l.byteLength:l.size,this.#t.push(l)}this.#u=`${r.endings===void 0?"transparent":r.endings}`;let o=r.type===void 0?"":String(r.type);this.#n=/^[\x20-\x7E]*$/.test(o)?o:""}get size(){return this.#e}get type(){return this.#n}async text(){let e=new TextDecoder,r="";for await(let n of yi(this.#t,!1))r+=e.decode(n,{stream:!0});return r+=e.decode(),r}async arrayBuffer(){let e=new Uint8Array(this.size),r=0;for await(let n of yi(this.#t,!1))e.set(n,r),r+=n.length;return e.buffer}stream(){let e=yi(this.#t,!0);return new globalThis.ReadableStream({type:"bytes",async pull(r){let n=await e.next();n.done?r.close():r.enqueue(n.value)},async cancel(){await e.return()}})}slice(e=0,r=this.size,n=""){let{size:o}=this,a=e<0?Math.max(o+e,0):Math.min(e,o),l=r<0?Math.max(o+r,0):Math.min(r,o),h=Math.max(l-a,0),c=this.#t,f=[],m=0;for(let g of c){if(m>=h)break;let b=ArrayBuffer.isView(g)?g.byteLength:g.size;if(a&&b<=a)a-=b,l-=b;else{let R;ArrayBuffer.isView(g)?(R=g.subarray(a,Math.min(b,l)),m+=R.byteLength):(R=g.slice(a,Math.min(b,l)),m+=R.size),l-=b,f.push(R),a=0}}let p=new _i([],{type:String(n).toLowerCase()});return p.#e=h,p.#t=f,p}get[Symbol.toStringTag](){return"Blob"}static[Symbol.hasInstance](e){return e&&typeof e=="object"&&typeof e.constructor=="function"&&(typeof e.stream=="function"||typeof e.arrayBuffer=="function")&&/^(Blob|File)$/.test(e[Symbol.toStringTag])}};Object.defineProperties(ol.prototype,{size:{enumerable:!0},type:{enumerable:!0},slice:{enumerable:!0}});Vp=ol,ct=Vp});var Yp,Qp,hr,Ri=Wr(()=>{zr();Yp=class extends ct{#t=0;#n="";constructor(e,r,n={}){if(arguments.length<2)throw new TypeError(`Failed to construct 'File': 2 arguments required, but only ${arguments.length} present.`);super(e,n),n===null&&(n={});let o=n.lastModified===void 0?Date.now():Number(n.lastModified);Number.isNaN(o)||(this.#t=o),this.#n=String(r)}get name(){return this.#n}get lastModified(){return this.#t}get[Symbol.toStringTag](){return"File"}static[Symbol.hasInstance](e){return!!e&&e instanceof ct&&/^(File)$/.test(e[Symbol.toStringTag])}},Qp=Yp,hr=Qp});function ul(t,e=ct){var r=`${al()}${al()}`.replace(/\./g,"").slice(-28).padStart(32,"-"),n=[],o=`--${r}\r
Content-Disposition: form-data; name="`;return t.forEach((a,l)=>typeof a=="string"?n.push(o+Si(l)+`"\r
\r
${a.replace(/\r(?!\n)|(?<!\r)\n/g,`\r
`)}\r
`):n.push(o+Si(l)+`"; filename="${Si(a.name,1)}"\r
Content-Type: ${a.type||"application/octet-stream"}\r
\r
`,a,`\r
`)),n.push(`--${r}--`),new e(n,{type:"multipart/form-data; boundary="+r})}var jr,Kp,Xp,al,Zp,ll,Si,Ut,Mt,zn=Wr(()=>{zr();Ri();({toStringTag:jr,iterator:Kp,hasInstance:Xp}=Symbol),al=Math.random,Zp="append,set,get,getAll,delete,keys,values,entries,forEach,constructor".split(","),ll=(t,e,r)=>(t+="",/^(Blob|File)$/.test(e&&e[jr])?[(r=r!==void 0?r+"":e[jr]=="File"?e.name:"blob",t),e.name!==r||e[jr]=="blob"?new hr([e],r,e):e]:[t,e+""]),Si=(t,e)=>(e?t:t.replace(/\r?\n|\r/g,`\r
`)).replace(/\n/g,"%0A").replace(/\r/g,"%0D").replace(/"/g,"%22"),Ut=(t,e,r)=>{if(e.length<r)throw new TypeError(`Failed to execute '${t}' on 'FormData': ${r} arguments required, but only ${e.length} present.`)},Mt=class{#t=[];constructor(...e){if(e.length)throw new TypeError("Failed to construct 'FormData': parameter 1 is not of type 'HTMLFormElement'.")}get[jr](){return"FormData"}[Kp](){return this.entries()}static[Xp](e){return e&&typeof e=="object"&&e[jr]==="FormData"&&!Zp.some(r=>typeof e[r]!="function")}append(...e){Ut("append",arguments,2),this.#t.push(ll(...e))}delete(e){Ut("delete",arguments,1),e+="",this.#t=this.#t.filter(([r])=>r!==e)}get(e){Ut("get",arguments,1),e+="";for(var r=this.#t,n=r.length,o=0;o<n;o++)if(r[o][0]===e)return r[o][1];return null}getAll(e,r){return Ut("getAll",arguments,1),r=[],e+="",this.#t.forEach(n=>n[0]===e&&r.push(n[1])),r}has(e){return Ut("has",arguments,1),e+="",this.#t.some(r=>r[0]===e)}forEach(e,r){Ut("forEach",arguments,1);for(var[n,o]of this)e.call(r,o,n,this)}set(...e){Ut("set",arguments,2);var r=[],n=!0;e=ll(...e),this.#t.forEach(o=>{o[0]===e[0]?n&&(n=!r.push(e)):r.push(o)}),n&&r.push(e),this.#t=r}*entries(){yield*this.#t}*keys(){for(var[e]of this)yield e}*values(){for(var[,e]of this)yield e}}});var pl=L((MR,dl)=>{if(!globalThis.DOMException)try{let{MessageChannel:t}=Ne("worker_threads"),e=new t().port1,r=new ArrayBuffer;e.postMessage(r,[r,r])}catch(t){t.constructor.name==="DOMException"&&(globalThis.DOMException=t.constructor)}dl.exports=globalThis.DOMException});import{statSync as kR,createReadStream as zR,promises as Jp}from"node:fs";var em,VR,Ei=Wr(()=>{em=Fe(pl(),1);Ri();zr();({stat:VR}=Jp)});var gl={};Hp(gl,{toFormData:()=>am});function om(t){let e=t.match(/\bfilename=("(.*?)"|([^()<>@,;:\\"/[\]?={}\s\t]+))($|;\s)/i);if(!e)return;let r=e[2]||e[3]||"",n=r.slice(r.lastIndexOf("\\")+1);return n=n.replace(/%22/g,'"'),n=n.replace(/&#(\d{4});/g,(o,a)=>String.fromCharCode(a)),n}async function am(t,e){if(!/multipart/i.test(e))throw new TypeError("Failed to fetch");let r=e.match(/boundary=(?:"([^"]+)"|([^;]+))/i);if(!r)throw new TypeError("no or bad content-type header, no multipart boundary");let n=new Ai(r[1]||r[2]),o,a,l,h,c,f,m=[],p=new Mt,g=x=>{l+=v.decode(x,{stream:!0})},b=x=>{m.push(x)},R=()=>{let x=new hr(m,f,{type:c});p.append(h,x)},w=()=>{p.append(h,l)},v=new TextDecoder("utf-8");v.decode(),n.onPartBegin=function(){n.onPartData=g,n.onPartEnd=w,o="",a="",l="",h="",c="",f=null,m.length=0},n.onHeaderField=function(x){o+=v.decode(x,{stream:!0})},n.onHeaderValue=function(x){a+=v.decode(x,{stream:!0})},n.onHeaderEnd=function(){if(a+=v.decode(),o=o.toLowerCase(),o==="content-disposition"){let x=a.match(/\bname=("([^"]*)"|([^()<>@,;:\\"/[\]?={}\s\t]+))/i);x&&(h=x[2]||x[3]||""),f=om(a),f&&(n.onPartData=b,n.onPartEnd=R)}else o==="content-type"&&(c=a);a="",o=""};for await(let x of t)n.write(x);return n.end(),p}var Ze,ce,ml,Ct,Gn,Vn,tm,Vr,rm,nm,sm,im,Wt,Ai,bl=Wr(()=>{Ei();zn();Ze=0,ce={START_BOUNDARY:Ze++,HEADER_FIELD_START:Ze++,HEADER_FIELD:Ze++,HEADER_VALUE_START:Ze++,HEADER_VALUE:Ze++,HEADER_VALUE_ALMOST_DONE:Ze++,HEADERS_ALMOST_DONE:Ze++,PART_DATA_START:Ze++,PART_DATA:Ze++,END:Ze++},ml=1,Ct={PART_BOUNDARY:ml,LAST_BOUNDARY:ml*=2},Gn=10,Vn=13,tm=32,Vr=45,rm=58,nm=97,sm=122,im=t=>t|32,Wt=()=>{},Ai=class{constructor(e){this.index=0,this.flags=0,this.onHeaderEnd=Wt,this.onHeaderField=Wt,this.onHeadersEnd=Wt,this.onHeaderValue=Wt,this.onPartBegin=Wt,this.onPartData=Wt,this.onPartEnd=Wt,this.boundaryChars={},e=`\r
--`+e;let r=new Uint8Array(e.length);for(let n=0;n<e.length;n++)r[n]=e.charCodeAt(n),this.boundaryChars[r[n]]=!0;this.boundary=r,this.lookbehind=new Uint8Array(this.boundary.length+8),this.state=ce.START_BOUNDARY}write(e){let r=0,n=e.length,o=this.index,{lookbehind:a,boundary:l,boundaryChars:h,index:c,state:f,flags:m}=this,p=this.boundary.length,g=p-1,b=e.length,R,w,v=C=>{this[C+"Mark"]=r},x=C=>{delete this[C+"Mark"]},O=(C,$,P,D)=>{($===void 0||$!==P)&&this[C](D&&D.subarray($,P))},F=(C,$)=>{let P=C+"Mark";P in this&&($?(O(C,this[P],r,e),delete this[P]):(O(C,this[P],e.length,e),this[P]=0))};for(r=0;r<n;r++)switch(R=e[r],f){case ce.START_BOUNDARY:if(c===l.length-2){if(R===Vr)m|=Ct.LAST_BOUNDARY;else if(R!==Vn)return;c++;break}else if(c-1===l.length-2){if(m&Ct.LAST_BOUNDARY&&R===Vr)f=ce.END,m=0;else if(!(m&Ct.LAST_BOUNDARY)&&R===Gn)c=0,O("onPartBegin"),f=ce.HEADER_FIELD_START;else return;break}R!==l[c+2]&&(c=-2),R===l[c+2]&&c++;break;case ce.HEADER_FIELD_START:f=ce.HEADER_FIELD,v("onHeaderField"),c=0;case ce.HEADER_FIELD:if(R===Vn){x("onHeaderField"),f=ce.HEADERS_ALMOST_DONE;break}if(c++,R===Vr)break;if(R===rm){if(c===1)return;F("onHeaderField",!0),f=ce.HEADER_VALUE_START;break}if(w=im(R),w<nm||w>sm)return;break;case ce.HEADER_VALUE_START:if(R===tm)break;v("onHeaderValue"),f=ce.HEADER_VALUE;case ce.HEADER_VALUE:R===Vn&&(F("onHeaderValue",!0),O("onHeaderEnd"),f=ce.HEADER_VALUE_ALMOST_DONE);break;case ce.HEADER_VALUE_ALMOST_DONE:if(R!==Gn)return;f=ce.HEADER_FIELD_START;break;case ce.HEADERS_ALMOST_DONE:if(R!==Gn)return;O("onHeadersEnd"),f=ce.PART_DATA_START;break;case ce.PART_DATA_START:f=ce.PART_DATA,v("onPartData");case ce.PART_DATA:if(o=c,c===0){for(r+=g;r<b&&!(e[r]in h);)r+=p;r-=g,R=e[r]}if(c<l.length)l[c]===R?(c===0&&F("onPartData",!0),c++):c=0;else if(c===l.length)c++,R===Vn?m|=Ct.PART_BOUNDARY:R===Vr?m|=Ct.LAST_BOUNDARY:c=0;else if(c-1===l.length)if(m&Ct.PART_BOUNDARY){if(c=0,R===Gn){m&=~Ct.PART_BOUNDARY,O("onPartEnd"),O("onPartBegin"),f=ce.HEADER_FIELD_START;break}}else m&Ct.LAST_BOUNDARY&&R===Vr?(O("onPartEnd"),f=ce.END,m=0):c=0;if(c>0)a[c-1]=R;else if(o>0){let C=new Uint8Array(a.buffer,a.byteOffset,a.byteLength);O("onPartData",0,o,C),o=0,v("onPartData"),r--}break;case ce.END:break;default:throw new Error(`Unexpected state entered: ${f}`)}F("onHeaderField"),F("onHeaderValue"),F("onPartData"),this.index=c,this.state=f,this.flags=m}end(){if(this.state===ce.HEADER_FIELD_START&&this.index===0||this.state===ce.PART_DATA&&this.index===this.boundary.length)this.onPartEnd();else if(this.state!==ce.END)throw new Error("MultipartParser.end(): stream ended unexpectedly")}}});var Hl=L((QS,Nl)=>{function Sm(t){return Buffer.from(t,"base64").toString("utf8")}function wm(t){return Buffer.from(t,"utf8").toString("base64")}Nl.exports={decodeBase64:Sm,encodeBase64:wm}});var Fl=L(zt=>{zt.parse=zt.decode=Em;zt.stringify=zt.encode=Dl;zt.safe=br;zt.unsafe=ts;var vi=typeof process<"u"&&process.platform==="win32"?`\r
`:`
`;function Dl(t,e){var r=[],n="";typeof e=="string"?e={section:e,whitespace:!1}:(e=e||{},e.whitespace=e.whitespace===!0);var o=e.whitespace?" = ":"=";return Object.keys(t).forEach(function(a,l,h){var c=t[a];c&&Array.isArray(c)?c.forEach(function(f){n+=br(a+"[]")+o+br(f)+`
`}):c&&typeof c=="object"?r.push(a):n+=br(a)+o+br(c)+vi}),e.section&&n.length&&(n="["+br(e.section)+"]"+vi+n),r.forEach(function(a,l,h){var c=Bl(a).join("\\."),f=(e.section?e.section+".":"")+c,m=Dl(t[a],{section:f,whitespace:e.whitespace});n.length&&m.length&&(n+=vi),n+=m}),n}function Bl(t){return t.replace(/\1/g,"LITERAL\\1LITERAL").replace(/\\\./g,"").split(/\./).map(function(e){return e.replace(/\1/g,"\\.").replace(/\2LITERAL\\1LITERAL\2/g,"")})}function Em(t){var e={},r=e,n=null,o=/^\[([^\]]*)\]$|^([^=]+)(=(.*))?$/i,a=t.split(/[\r\n]+/g);return a.forEach(function(l,h,c){if(!(!l||l.match(/^\s*[;#]/))){var f=l.match(o);if(f){if(f[1]!==void 0){if(n=ts(f[1]),n==="__proto__"){r={};return}r=e[n]=e[n]||{};return}var m=ts(f[2]);if(m!=="__proto__"){var p=f[3]?ts(f[4]):!0;switch(p){case"true":case"false":case"null":p=JSON.parse(p)}if(m.length>2&&m.slice(-2)==="[]"){if(m=m.substring(0,m.length-2),m==="__proto__")return;r[m]?Array.isArray(r[m])||(r[m]=[r[m]]):r[m]=[]}Array.isArray(r[m])?r[m].push(p):r[m]=p}}}}),Object.keys(e).filter(function(l,h,c){if(!e[l]||typeof e[l]!="object"||Array.isArray(e[l]))return!1;var f=Bl(l),m=e,p=f.pop(),g=p.replace(/\\\./g,".");return f.forEach(function(b,R,w){b!=="__proto__"&&((!m[b]||typeof m[b]!="object")&&(m[b]={}),m=m[b])}),m===e&&g===p?!1:(m[g]=e[l],!0)}).forEach(function(l,h,c){delete e[l]}),e}function ql(t){return t.charAt(0)==='"'&&t.slice(-1)==='"'||t.charAt(0)==="'"&&t.slice(-1)==="'"}function br(t){return typeof t!="string"||t.match(/[=\r\n]/)||t.match(/^\[/)||t.length>1&&ql(t)||t!==t.trim()?JSON.stringify(t):t.replace(/;/g,"\\;").replace(/#/g,"\\#")}function ts(t,e){if(t=(t||"").trim(),ql(t)){t.charAt(0)==="'"&&(t=t.substr(1,t.length-2));try{t=JSON.parse(t)}catch{}}else{for(var r=!1,n="",o=0,a=t.length;o<a;o++){var l=t.charAt(o);if(r)"\\;#".indexOf(l)!==-1?n+=l:n+="\\"+l,r=!1;else{if(";#".indexOf(l)!==-1)break;l==="\\"?r=!0:n+=l}}return r&&(n+="\\"),n.trim()}return t}});var Wl=L((XS,Ml)=>{"use strict";var Oi=1,Ul=2;function Am(){return""}function Tm(t,e,r){return t.slice(e,r).replace(/\S/g," ")}Ml.exports=function(t,e){e=e||{};for(var r,n,o=!1,a=!1,l=0,h="",c=e.whitespace===!1?Am:Tm,f=0;f<t.length;f++){if(r=t[f],n=t[f+1],!a&&r==='"'){var m=t[f-1]==="\\"&&t[f-2]!=="\\";m||(o=!o)}if(!o){if(!a&&r+n==="//")h+=t.slice(l,f),l=f,a=Oi,f++;else if(a===Oi&&r+n===`\r
`){f++,a=!1,h+=c(t,l,f),l=f;continue}else if(a===Oi&&r===`
`)a=!1,h+=c(t,l,f),l=f;else if(!a&&r+n==="/*"){h+=t.slice(l,f),l=f,a=Ul,f++;continue}else if(a===Ul&&r+n==="*/"){f++,a=!1,h+=c(t,l,f+1),l=f+1;continue}}}return h+(a?c(t.substr(l)):t.substr(l))}});var zl=L(yr=>{"use strict";var kl=Ne("fs"),Cm=Fl(),Qr=Ne("path"),xm=Wl(),vm=yr.parse=function(t){return/^\s*{/.test(t)?JSON.parse(xm(t)):Cm.parse(t)},Om=yr.file=function(){var t=[].slice.call(arguments).filter(function(o){return o!=null});for(var e in t)if(typeof t[e]!="string")return;var r=Qr.join.apply(null,t),n;try{return kl.readFileSync(r,"utf-8")}catch{return}},ZS=yr.json=function(){var t=Om.apply(null,arguments);return t?vm(t):null},JS=yr.env=function(t,e){e=e||process.env;var r={},n=t.length;for(var o in e)if(o.toLowerCase().indexOf(t.toLowerCase())===0){for(var a=o.substring(n).split("__"),l;(l=a.indexOf(""))>-1;)a.splice(l,1);var h=r;a.forEach(function(f,m){!f||typeof h!="object"||(m===a.length-1&&(h[f]=e[o]),h[f]===void 0&&(h[f]={}),h=h[f])})}return r},ew=yr.find=function(){var t=Qr.join.apply(null,[].slice.call(arguments));function e(r,n){var o=Qr.join(r,n);try{return kl.statSync(o),o}catch{if(Qr.dirname(r)!==r)return e(Qr.dirname(r),n)}}return e(process.cwd(),t)}});var Kl=L((rw,Ql)=>{"use strict";function Gl(t){return t instanceof Buffer||t instanceof Date||t instanceof RegExp}function Vl(t){if(t instanceof Buffer){var e=Buffer.alloc?Buffer.alloc(t.length):new Buffer(t.length);return t.copy(e),e}else{if(t instanceof Date)return new Date(t.getTime());if(t instanceof RegExp)return new RegExp(t);throw new Error("Unexpected situation")}}function Yl(t){var e=[];return t.forEach(function(r,n){typeof r=="object"&&r!==null?Array.isArray(r)?e[n]=Yl(r):Gl(r)?e[n]=Vl(r):e[n]=$i({},r):e[n]=r}),e}function jl(t,e){return e==="__proto__"?void 0:t[e]}var $i=Ql.exports=function(){if(arguments.length<1||typeof arguments[0]!="object")return!1;if(arguments.length<2)return arguments[0];var t=arguments[0],e=Array.prototype.slice.call(arguments,1),r,n,o;return e.forEach(function(a){typeof a!="object"||a===null||Array.isArray(a)||Object.keys(a).forEach(function(l){if(n=jl(t,l),r=jl(a,l),r!==t)if(typeof r!="object"||r===null){t[l]=r;return}else if(Array.isArray(r)){t[l]=Yl(r);return}else if(Gl(r)){t[l]=Vl(r);return}else if(typeof n!="object"||n===null||Array.isArray(n)){t[l]=$i({},r);return}else{t[l]=$i(n,r);return}})}),t}});var Ii=L((nw,Jl)=>{var Kr=zl(),_r=Ne("path").join,$m=Kl(),Xl="/etc",Zl=process.platform==="win32",Xr=Zl?process.env.USERPROFILE:process.env.HOME;Jl.exports=function(t,e,r,n){if(typeof t!="string")throw new Error("rc(name): name *must* be string");r||(r=bi()(process.argv.slice(2))),e=(typeof e=="string"?Kr.json(e):e)||{},n=n||Kr.parse;var o=Kr.env(t+"_"),a=[e],l=[];function h(c){if(!(l.indexOf(c)>=0)){var f=Kr.file(c);f&&(a.push(n(f)),l.push(c))}}return Zl||[_r(Xl,t,"config"),_r(Xl,t+"rc")].forEach(h),Xr&&[_r(Xr,".config",t,"config"),_r(Xr,".config",t),_r(Xr,"."+t,"config"),_r(Xr,"."+t+"rc")].forEach(h),h(Kr.find("."+t+"rc")),o.config&&h(o.config),r.config&&h(r.config),$m.apply(null,a.concat([o,r,l.length?{configs:l,config:l[l.length-1]}:void 0]))}});var au=L((sw,ou)=>{var Li=Ne("url"),su=Hl(),Im=su.decodeBase64,Lm=su.encodeBase64,eu=":_authToken",tu=":_auth",ru=":username",nu=":_password";ou.exports=function(){var t,e;return arguments.length>=2?(t=arguments[0],e=arguments[1]):typeof arguments[0]=="string"?t=arguments[0]:e=arguments[0],e=e||{},e.npmrc=e.npmrc||Ii()("npm",{registry:"https://registry.npmjs.org/"},{config:process.env.npm_config_userconfig||process.env.NPM_CONFIG_USERCONFIG}),t=t||e.npmrc.registry,iu(t,e)||Pm(e.npmrc)};function iu(t,e){for(var r=Li.parse(t,!1,!0),n;n!=="/"&&r.pathname!==n;){n=r.pathname||"/";var o="//"+r.host+n.replace(/\/$/,""),a=Hm(o,e.npmrc);if(a)return a;if(!e.recursive)return/\/$/.test(t)?void 0:iu(Li.resolve(t,"."),e);r.pathname=Li.resolve(Nm(n),"..")||"/"}}function Pm(t){if(t._auth){var e=rs(t._auth);return{token:e,type:"Basic"}}}function Nm(t){return t[t.length-1]==="/"?t:t+"/"}function Hm(t,e){var r=Dm(e[t+eu]||e[t+"/"+eu]);if(r)return r;var n=e[t+ru]||e[t+"/"+ru],o=e[t+nu]||e[t+"/"+nu],a=Bm(n,o);if(a)return a;var l=qm(e[t+tu]||e[t+"/"+tu]);if(l)return l}function rs(t){return t.replace(/^\$\{?([^}]*)\}?$/,function(e,r){return process.env[r]})}function Dm(t){if(t){var e=rs(t);return{token:e,type:"Bearer"}}}function Bm(t,e){if(!(!t||!e)){var r=Im(rs(e)),n=Lm(t+":"+r);return{token:n,type:"Basic",password:r,username:t}}}function qm(t){if(t){var e=rs(t);return{token:e,type:"Basic"}}}});var Zr=L((iw,lu)=>{var Fm="2.0.0",Um=Number.MAX_SAFE_INTEGER||9007199254740991,Mm=16;lu.exports={SEMVER_SPEC_VERSION:Fm,MAX_LENGTH:256,MAX_SAFE_INTEGER:Um,MAX_SAFE_COMPONENT_LENGTH:Mm}});var Jr=L((ow,uu)=>{var Wm=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...t)=>console.error("SEMVER",...t):()=>{};uu.exports=Wm});var jt=L((vt,cu)=>{var{MAX_SAFE_COMPONENT_LENGTH:Pi}=Zr(),km=Jr();vt=cu.exports={};var zm=vt.re=[],B=vt.src=[],q=vt.t={},jm=0,Q=(t,e,r)=>{let n=jm++;km(t,n,e),q[t]=n,B[n]=e,zm[n]=new RegExp(e,r?"g":void 0)};Q("NUMERICIDENTIFIER","0|[1-9]\\d*");Q("NUMERICIDENTIFIERLOOSE","[0-9]+");Q("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*");Q("MAINVERSION",`(${B[q.NUMERICIDENTIFIER]})\\.(${B[q.NUMERICIDENTIFIER]})\\.(${B[q.NUMERICIDENTIFIER]})`);Q("MAINVERSIONLOOSE",`(${B[q.NUMERICIDENTIFIERLOOSE]})\\.(${B[q.NUMERICIDENTIFIERLOOSE]})\\.(${B[q.NUMERICIDENTIFIERLOOSE]})`);Q("PRERELEASEIDENTIFIER",`(?:${B[q.NUMERICIDENTIFIER]}|${B[q.NONNUMERICIDENTIFIER]})`);Q("PRERELEASEIDENTIFIERLOOSE",`(?:${B[q.NUMERICIDENTIFIERLOOSE]}|${B[q.NONNUMERICIDENTIFIER]})`);Q("PRERELEASE",`(?:-(${B[q.PRERELEASEIDENTIFIER]}(?:\\.${B[q.PRERELEASEIDENTIFIER]})*))`);Q("PRERELEASELOOSE",`(?:-?(${B[q.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${B[q.PRERELEASEIDENTIFIERLOOSE]})*))`);Q("BUILDIDENTIFIER","[0-9A-Za-z-]+");Q("BUILD",`(?:\\+(${B[q.BUILDIDENTIFIER]}(?:\\.${B[q.BUILDIDENTIFIER]})*))`);Q("FULLPLAIN",`v?${B[q.MAINVERSION]}${B[q.PRERELEASE]}?${B[q.BUILD]}?`);Q("FULL",`^${B[q.FULLPLAIN]}$`);Q("LOOSEPLAIN",`[v=\\s]*${B[q.MAINVERSIONLOOSE]}${B[q.PRERELEASELOOSE]}?${B[q.BUILD]}?`);Q("LOOSE",`^${B[q.LOOSEPLAIN]}$`);Q("GTLT","((?:<|>)?=?)");Q("XRANGEIDENTIFIERLOOSE",`${B[q.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);Q("XRANGEIDENTIFIER",`${B[q.NUMERICIDENTIFIER]}|x|X|\\*`);Q("XRANGEPLAIN",`[v=\\s]*(${B[q.XRANGEIDENTIFIER]})(?:\\.(${B[q.XRANGEIDENTIFIER]})(?:\\.(${B[q.XRANGEIDENTIFIER]})(?:${B[q.PRERELEASE]})?${B[q.BUILD]}?)?)?`);Q("XRANGEPLAINLOOSE",`[v=\\s]*(${B[q.XRANGEIDENTIFIERLOOSE]})(?:\\.(${B[q.XRANGEIDENTIFIERLOOSE]})(?:\\.(${B[q.XRANGEIDENTIFIERLOOSE]})(?:${B[q.PRERELEASELOOSE]})?${B[q.BUILD]}?)?)?`);Q("XRANGE",`^${B[q.GTLT]}\\s*${B[q.XRANGEPLAIN]}$`);Q("XRANGELOOSE",`^${B[q.GTLT]}\\s*${B[q.XRANGEPLAINLOOSE]}$`);Q("COERCE",`(^|[^\\d])(\\d{1,${Pi}})(?:\\.(\\d{1,${Pi}}))?(?:\\.(\\d{1,${Pi}}))?(?:$|[^\\d])`);Q("COERCERTL",B[q.COERCE],!0);Q("LONETILDE","(?:~>?)");Q("TILDETRIM",`(\\s*)${B[q.LONETILDE]}\\s+`,!0);vt.tildeTrimReplace="$1~";Q("TILDE",`^${B[q.LONETILDE]}${B[q.XRANGEPLAIN]}$`);Q("TILDELOOSE",`^${B[q.LONETILDE]}${B[q.XRANGEPLAINLOOSE]}$`);Q("LONECARET","(?:\\^)");Q("CARETTRIM",`(\\s*)${B[q.LONECARET]}\\s+`,!0);vt.caretTrimReplace="$1^";Q("CARET",`^${B[q.LONECARET]}${B[q.XRANGEPLAIN]}$`);Q("CARETLOOSE",`^${B[q.LONECARET]}${B[q.XRANGEPLAINLOOSE]}$`);Q("COMPARATORLOOSE",`^${B[q.GTLT]}\\s*(${B[q.LOOSEPLAIN]})$|^$`);Q("COMPARATOR",`^${B[q.GTLT]}\\s*(${B[q.FULLPLAIN]})$|^$`);Q("COMPARATORTRIM",`(\\s*)${B[q.GTLT]}\\s*(${B[q.LOOSEPLAIN]}|${B[q.XRANGEPLAIN]})`,!0);vt.comparatorTrimReplace="$1$2$3";Q("HYPHENRANGE",`^\\s*(${B[q.XRANGEPLAIN]})\\s+-\\s+(${B[q.XRANGEPLAIN]})\\s*$`);Q("HYPHENRANGELOOSE",`^\\s*(${B[q.XRANGEPLAINLOOSE]})\\s+-\\s+(${B[q.XRANGEPLAINLOOSE]})\\s*$`);Q("STAR","(<|>)?=?\\s*\\*");Q("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$");Q("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")});var en=L((aw,fu)=>{var Gm=["includePrerelease","loose","rtl"],Vm=t=>t?typeof t!="object"?{loose:!0}:Gm.filter(e=>t[e]).reduce((e,r)=>(e[r]=!0,e),{}):{};fu.exports=Vm});var Ni=L((lw,pu)=>{var hu=/^[0-9]+$/,du=(t,e)=>{let r=hu.test(t),n=hu.test(e);return r&&n&&(t=+t,e=+e),t===e?0:r&&!n?-1:n&&!r?1:t<e?-1:1},Ym=(t,e)=>du(e,t);pu.exports={compareIdentifiers:du,rcompareIdentifiers:Ym}});var Ae=L((uw,yu)=>{var ns=Jr(),{MAX_LENGTH:mu,MAX_SAFE_INTEGER:ss}=Zr(),{re:gu,t:bu}=jt(),Qm=en(),{compareIdentifiers:Rr}=Ni(),Hi=class t{constructor(e,r){if(r=Qm(r),e instanceof t){if(e.loose===!!r.loose&&e.includePrerelease===!!r.includePrerelease)return e;e=e.version}else if(typeof e!="string")throw new TypeError(`Invalid Version: ${e}`);if(e.length>mu)throw new TypeError(`version is longer than ${mu} characters`);ns("SemVer",e,r),this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease;let n=e.trim().match(r.loose?gu[bu.LOOSE]:gu[bu.FULL]);if(!n)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>ss||this.major<0)throw new TypeError("Invalid major version");if(this.minor>ss||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>ss||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(o=>{if(/^[0-9]+$/.test(o)){let a=+o;if(a>=0&&a<ss)return a}return o}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(ns("SemVer.compare",this.version,this.options,e),!(e instanceof t)){if(typeof e=="string"&&e===this.version)return 0;e=new t(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof t||(e=new t(e,this.options)),Rr(this.major,e.major)||Rr(this.minor,e.minor)||Rr(this.patch,e.patch)}comparePre(e){if(e instanceof t||(e=new t(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let r=0;do{let n=this.prerelease[r],o=e.prerelease[r];if(ns("prerelease compare",r,n,o),n===void 0&&o===void 0)return 0;if(o===void 0)return 1;if(n===void 0)return-1;if(n===o)continue;return Rr(n,o)}while(++r)}compareBuild(e){e instanceof t||(e=new t(e,this.options));let r=0;do{let n=this.build[r],o=e.build[r];if(ns("prerelease compare",r,n,o),n===void 0&&o===void 0)return 0;if(o===void 0)return 1;if(n===void 0)return-1;if(n===o)continue;return Rr(n,o)}while(++r)}inc(e,r){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",r);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",r);break;case"prepatch":this.prerelease.length=0,this.inc("patch",r),this.inc("pre",r);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",r),this.inc("pre",r);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":if(this.prerelease.length===0)this.prerelease=[0];else{let n=this.prerelease.length;for(;--n>=0;)typeof this.prerelease[n]=="number"&&(this.prerelease[n]++,n=-2);n===-1&&this.prerelease.push(0)}r&&(Rr(this.prerelease[0],r)===0?isNaN(this.prerelease[1])&&(this.prerelease=[r,0]):this.prerelease=[r,0]);break;default:throw new Error(`invalid increment argument: ${e}`)}return this.format(),this.raw=this.version,this}};yu.exports=Hi});var Gt=L((cw,wu)=>{var{MAX_LENGTH:Km}=Zr(),{re:_u,t:Ru}=jt(),Su=Ae(),Xm=en(),Zm=(t,e)=>{if(e=Xm(e),t instanceof Su)return t;if(typeof t!="string"||t.length>Km||!(e.loose?_u[Ru.LOOSE]:_u[Ru.FULL]).test(t))return null;try{return new Su(t,e)}catch{return null}};wu.exports=Zm});var Au=L((fw,Eu)=>{var Jm=Gt(),eg=(t,e)=>{let r=Jm(t,e);return r?r.version:null};Eu.exports=eg});var Cu=L((hw,Tu)=>{var tg=Gt(),rg=(t,e)=>{let r=tg(t.trim().replace(/^[=v]+/,""),e);return r?r.version:null};Tu.exports=rg});var Ou=L((dw,vu)=>{var xu=Ae(),ng=(t,e,r,n)=>{typeof r=="string"&&(n=r,r=void 0);try{return new xu(t instanceof xu?t.version:t,r).inc(e,n).version}catch{return null}};vu.exports=ng});var We=L((pw,Iu)=>{var $u=Ae(),sg=(t,e,r)=>new $u(t,r).compare(new $u(e,r));Iu.exports=sg});var is=L((mw,Lu)=>{var ig=We(),og=(t,e,r)=>ig(t,e,r)===0;Lu.exports=og});var Hu=L((gw,Nu)=>{var Pu=Gt(),ag=is(),lg=(t,e)=>{if(ag(t,e))return null;{let r=Pu(t),n=Pu(e),o=r.prerelease.length||n.prerelease.length,a=o?"pre":"",l=o?"prerelease":"";for(let h in r)if((h==="major"||h==="minor"||h==="patch")&&r[h]!==n[h])return a+h;return l}};Nu.exports=lg});var Bu=L((bw,Du)=>{var ug=Ae(),cg=(t,e)=>new ug(t,e).major;Du.exports=cg});var Fu=L((yw,qu)=>{var fg=Ae(),hg=(t,e)=>new fg(t,e).minor;qu.exports=hg});var Mu=L((_w,Uu)=>{var dg=Ae(),pg=(t,e)=>new dg(t,e).patch;Uu.exports=pg});var ku=L((Rw,Wu)=>{var mg=Gt(),gg=(t,e)=>{let r=mg(t,e);return r&&r.prerelease.length?r.prerelease:null};Wu.exports=gg});var ju=L((Sw,zu)=>{var bg=We(),yg=(t,e,r)=>bg(e,t,r);zu.exports=yg});var Vu=L((ww,Gu)=>{var _g=We(),Rg=(t,e)=>_g(t,e,!0);Gu.exports=Rg});var os=L((Ew,Qu)=>{var Yu=Ae(),Sg=(t,e,r)=>{let n=new Yu(t,r),o=new Yu(e,r);return n.compare(o)||n.compareBuild(o)};Qu.exports=Sg});var Xu=L((Aw,Ku)=>{var wg=os(),Eg=(t,e)=>t.sort((r,n)=>wg(r,n,e));Ku.exports=Eg});var Ju=L((Tw,Zu)=>{var Ag=os(),Tg=(t,e)=>t.sort((r,n)=>Ag(n,r,e));Zu.exports=Tg});var tn=L((Cw,ec)=>{var Cg=We(),xg=(t,e,r)=>Cg(t,e,r)>0;ec.exports=xg});var as=L((xw,tc)=>{var vg=We(),Og=(t,e,r)=>vg(t,e,r)<0;tc.exports=Og});var Di=L((vw,rc)=>{var $g=We(),Ig=(t,e,r)=>$g(t,e,r)!==0;rc.exports=Ig});var ls=L((Ow,nc)=>{var Lg=We(),Pg=(t,e,r)=>Lg(t,e,r)>=0;nc.exports=Pg});var us=L(($w,sc)=>{var Ng=We(),Hg=(t,e,r)=>Ng(t,e,r)<=0;sc.exports=Hg});var Bi=L((Iw,ic)=>{var Dg=is(),Bg=Di(),qg=tn(),Fg=ls(),Ug=as(),Mg=us(),Wg=(t,e,r,n)=>{switch(e){case"===":return typeof t=="object"&&(t=t.version),typeof r=="object"&&(r=r.version),t===r;case"!==":return typeof t=="object"&&(t=t.version),typeof r=="object"&&(r=r.version),t!==r;case"":case"=":case"==":return Dg(t,r,n);case"!=":return Bg(t,r,n);case">":return qg(t,r,n);case">=":return Fg(t,r,n);case"<":return Ug(t,r,n);case"<=":return Mg(t,r,n);default:throw new TypeError(`Invalid operator: ${e}`)}};ic.exports=Wg});var ac=L((Lw,oc)=>{var kg=Ae(),zg=Gt(),{re:cs,t:fs}=jt(),jg=(t,e)=>{if(t instanceof kg)return t;if(typeof t=="number"&&(t=String(t)),typeof t!="string")return null;e=e||{};let r=null;if(!e.rtl)r=t.match(cs[fs.COERCE]);else{let n;for(;(n=cs[fs.COERCERTL].exec(t))&&(!r||r.index+r[0].length!==t.length);)(!r||n.index+n[0].length!==r.index+r[0].length)&&(r=n),cs[fs.COERCERTL].lastIndex=n.index+n[1].length+n[2].length;cs[fs.COERCERTL].lastIndex=-1}return r===null?null:zg(`${r[2]}.${r[3]||"0"}.${r[4]||"0"}`,e)};oc.exports=jg});var uc=L((Pw,lc)=>{"use strict";lc.exports=function(t){t.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}}});var fc=L((Nw,cc)=>{"use strict";cc.exports=se;se.Node=Vt;se.create=se;function se(t){var e=this;if(e instanceof se||(e=new se),e.tail=null,e.head=null,e.length=0,t&&typeof t.forEach=="function")t.forEach(function(o){e.push(o)});else if(arguments.length>0)for(var r=0,n=arguments.length;r<n;r++)e.push(arguments[r]);return e}se.prototype.removeNode=function(t){if(t.list!==this)throw new Error("removing node which does not belong to this list");var e=t.next,r=t.prev;return e&&(e.prev=r),r&&(r.next=e),t===this.head&&(this.head=e),t===this.tail&&(this.tail=r),t.list.length--,t.next=null,t.prev=null,t.list=null,e};se.prototype.unshiftNode=function(t){if(t!==this.head){t.list&&t.list.removeNode(t);var e=this.head;t.list=this,t.next=e,e&&(e.prev=t),this.head=t,this.tail||(this.tail=t),this.length++}};se.prototype.pushNode=function(t){if(t!==this.tail){t.list&&t.list.removeNode(t);var e=this.tail;t.list=this,t.prev=e,e&&(e.next=t),this.tail=t,this.head||(this.head=t),this.length++}};se.prototype.push=function(){for(var t=0,e=arguments.length;t<e;t++)Vg(this,arguments[t]);return this.length};se.prototype.unshift=function(){for(var t=0,e=arguments.length;t<e;t++)Yg(this,arguments[t]);return this.length};se.prototype.pop=function(){if(this.tail){var t=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,t}};se.prototype.shift=function(){if(this.head){var t=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,t}};se.prototype.forEach=function(t,e){e=e||this;for(var r=this.head,n=0;r!==null;n++)t.call(e,r.value,n,this),r=r.next};se.prototype.forEachReverse=function(t,e){e=e||this;for(var r=this.tail,n=this.length-1;r!==null;n--)t.call(e,r.value,n,this),r=r.prev};se.prototype.get=function(t){for(var e=0,r=this.head;r!==null&&e<t;e++)r=r.next;if(e===t&&r!==null)return r.value};se.prototype.getReverse=function(t){for(var e=0,r=this.tail;r!==null&&e<t;e++)r=r.prev;if(e===t&&r!==null)return r.value};se.prototype.map=function(t,e){e=e||this;for(var r=new se,n=this.head;n!==null;)r.push(t.call(e,n.value,this)),n=n.next;return r};se.prototype.mapReverse=function(t,e){e=e||this;for(var r=new se,n=this.tail;n!==null;)r.push(t.call(e,n.value,this)),n=n.prev;return r};se.prototype.reduce=function(t,e){var r,n=this.head;if(arguments.length>1)r=e;else if(this.head)n=this.head.next,r=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var o=0;n!==null;o++)r=t(r,n.value,o),n=n.next;return r};se.prototype.reduceReverse=function(t,e){var r,n=this.tail;if(arguments.length>1)r=e;else if(this.tail)n=this.tail.prev,r=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var o=this.length-1;n!==null;o--)r=t(r,n.value,o),n=n.prev;return r};se.prototype.toArray=function(){for(var t=new Array(this.length),e=0,r=this.head;r!==null;e++)t[e]=r.value,r=r.next;return t};se.prototype.toArrayReverse=function(){for(var t=new Array(this.length),e=0,r=this.tail;r!==null;e++)t[e]=r.value,r=r.prev;return t};se.prototype.slice=function(t,e){e=e||this.length,e<0&&(e+=this.length),t=t||0,t<0&&(t+=this.length);var r=new se;if(e<t||e<0)return r;t<0&&(t=0),e>this.length&&(e=this.length);for(var n=0,o=this.head;o!==null&&n<t;n++)o=o.next;for(;o!==null&&n<e;n++,o=o.next)r.push(o.value);return r};se.prototype.sliceReverse=function(t,e){e=e||this.length,e<0&&(e+=this.length),t=t||0,t<0&&(t+=this.length);var r=new se;if(e<t||e<0)return r;t<0&&(t=0),e>this.length&&(e=this.length);for(var n=this.length,o=this.tail;o!==null&&n>e;n--)o=o.prev;for(;o!==null&&n>t;n--,o=o.prev)r.push(o.value);return r};se.prototype.splice=function(t,e,...r){t>this.length&&(t=this.length-1),t<0&&(t=this.length+t);for(var n=0,o=this.head;o!==null&&n<t;n++)o=o.next;for(var a=[],n=0;o&&n<e;n++)a.push(o.value),o=this.removeNode(o);o===null&&(o=this.tail),o!==this.head&&o!==this.tail&&(o=o.prev);for(var n=0;n<r.length;n++)o=Gg(this,o,r[n]);return a};se.prototype.reverse=function(){for(var t=this.head,e=this.tail,r=t;r!==null;r=r.prev){var n=r.prev;r.prev=r.next,r.next=n}return this.head=e,this.tail=t,this};function Gg(t,e,r){var n=e===t.head?new Vt(r,null,e,t):new Vt(r,e,e.next,t);return n.next===null&&(t.tail=n),n.prev===null&&(t.head=n),t.length++,n}function Vg(t,e){t.tail=new Vt(e,t.tail,null,t),t.head||(t.head=t.tail),t.length++}function Yg(t,e){t.head=new Vt(e,null,t.head,t),t.tail||(t.tail=t.head),t.length++}function Vt(t,e,r,n){if(!(this instanceof Vt))return new Vt(t,e,r,n);this.list=n,this.value=t,e?(e.next=this,this.prev=e):this.prev=null,r?(r.prev=this,this.next=r):this.next=null}try{uc()(se)}catch{}});var gc=L((Hw,mc)=>{"use strict";var Qg=fc(),Yt=Symbol("max"),dt=Symbol("length"),Sr=Symbol("lengthCalculator"),nn=Symbol("allowStale"),Qt=Symbol("maxAge"),ht=Symbol("dispose"),hc=Symbol("noDisposeOnSet"),_e=Symbol("lruList"),Ke=Symbol("cache"),pc=Symbol("updateAgeOnGet"),qi=()=>1,Ui=class{constructor(e){if(typeof e=="number"&&(e={max:e}),e||(e={}),e.max&&(typeof e.max!="number"||e.max<0))throw new TypeError("max must be a non-negative number");let r=this[Yt]=e.max||1/0,n=e.length||qi;if(this[Sr]=typeof n!="function"?qi:n,this[nn]=e.stale||!1,e.maxAge&&typeof e.maxAge!="number")throw new TypeError("maxAge must be a number");this[Qt]=e.maxAge||0,this[ht]=e.dispose,this[hc]=e.noDisposeOnSet||!1,this[pc]=e.updateAgeOnGet||!1,this.reset()}set max(e){if(typeof e!="number"||e<0)throw new TypeError("max must be a non-negative number");this[Yt]=e||1/0,rn(this)}get max(){return this[Yt]}set allowStale(e){this[nn]=!!e}get allowStale(){return this[nn]}set maxAge(e){if(typeof e!="number")throw new TypeError("maxAge must be a non-negative number");this[Qt]=e,rn(this)}get maxAge(){return this[Qt]}set lengthCalculator(e){typeof e!="function"&&(e=qi),e!==this[Sr]&&(this[Sr]=e,this[dt]=0,this[_e].forEach(r=>{r.length=this[Sr](r.value,r.key),this[dt]+=r.length})),rn(this)}get lengthCalculator(){return this[Sr]}get length(){return this[dt]}get itemCount(){return this[_e].length}rforEach(e,r){r=r||this;for(let n=this[_e].tail;n!==null;){let o=n.prev;dc(this,e,n,r),n=o}}forEach(e,r){r=r||this;for(let n=this[_e].head;n!==null;){let o=n.next;dc(this,e,n,r),n=o}}keys(){return this[_e].toArray().map(e=>e.key)}values(){return this[_e].toArray().map(e=>e.value)}reset(){this[ht]&&this[_e]&&this[_e].length&&this[_e].forEach(e=>this[ht](e.key,e.value)),this[Ke]=new Map,this[_e]=new Qg,this[dt]=0}dump(){return this[_e].map(e=>hs(this,e)?!1:{k:e.key,v:e.value,e:e.now+(e.maxAge||0)}).toArray().filter(e=>e)}dumpLru(){return this[_e]}set(e,r,n){if(n=n||this[Qt],n&&typeof n!="number")throw new TypeError("maxAge must be a number");let o=n?Date.now():0,a=this[Sr](r,e);if(this[Ke].has(e)){if(a>this[Yt])return wr(this,this[Ke].get(e)),!1;let c=this[Ke].get(e).value;return this[ht]&&(this[hc]||this[ht](e,c.value)),c.now=o,c.maxAge=n,c.value=r,this[dt]+=a-c.length,c.length=a,this.get(e),rn(this),!0}let l=new Mi(e,r,a,o,n);return l.length>this[Yt]?(this[ht]&&this[ht](e,r),!1):(this[dt]+=l.length,this[_e].unshift(l),this[Ke].set(e,this[_e].head),rn(this),!0)}has(e){if(!this[Ke].has(e))return!1;let r=this[Ke].get(e).value;return!hs(this,r)}get(e){return Fi(this,e,!0)}peek(e){return Fi(this,e,!1)}pop(){let e=this[_e].tail;return e?(wr(this,e),e.value):null}del(e){wr(this,this[Ke].get(e))}load(e){this.reset();let r=Date.now();for(let n=e.length-1;n>=0;n--){let o=e[n],a=o.e||0;if(a===0)this.set(o.k,o.v);else{let l=a-r;l>0&&this.set(o.k,o.v,l)}}}prune(){this[Ke].forEach((e,r)=>Fi(this,r,!1))}},Fi=(t,e,r)=>{let n=t[Ke].get(e);if(n){let o=n.value;if(hs(t,o)){if(wr(t,n),!t[nn])return}else r&&(t[pc]&&(n.value.now=Date.now()),t[_e].unshiftNode(n));return o.value}},hs=(t,e)=>{if(!e||!e.maxAge&&!t[Qt])return!1;let r=Date.now()-e.now;return e.maxAge?r>e.maxAge:t[Qt]&&r>t[Qt]},rn=t=>{if(t[dt]>t[Yt])for(let e=t[_e].tail;t[dt]>t[Yt]&&e!==null;){let r=e.prev;wr(t,e),e=r}},wr=(t,e)=>{if(e){let r=e.value;t[ht]&&t[ht](r.key,r.value),t[dt]-=r.length,t[Ke].delete(r.key),t[_e].removeNode(e)}},Mi=class{constructor(e,r,n,o,a){this.key=e,this.value=r,this.length=n,this.now=o,this.maxAge=a||0}},dc=(t,e,r,n)=>{let o=r.value;hs(t,o)&&(wr(t,r),t[nn]||(o=void 0)),o&&e.call(n,o.value,o.key,t)};mc.exports=Ui});var ke=L((Dw,Rc)=>{var Wi=class t{constructor(e,r){if(r=Xg(r),e instanceof t)return e.loose===!!r.loose&&e.includePrerelease===!!r.includePrerelease?e:new t(e.raw,r);if(e instanceof ki)return this.raw=e.value,this.set=[[e]],this.format(),this;if(this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease,this.raw=e,this.set=e.split("||").map(n=>this.parseRange(n.trim())).filter(n=>n.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${e}`);if(this.set.length>1){let n=this.set[0];if(this.set=this.set.filter(o=>!yc(o[0])),this.set.length===0)this.set=[n];else if(this.set.length>1){for(let o of this.set)if(o.length===1&&rb(o[0])){this.set=[o];break}}}this.format()}format(){return this.range=this.set.map(e=>e.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(e){e=e.trim();let n=`parseRange:${Object.keys(this.options).join(",")}:${e}`,o=bc.get(n);if(o)return o;let a=this.options.loose,l=a?Le[Ce.HYPHENRANGELOOSE]:Le[Ce.HYPHENRANGE];e=e.replace(l,hb(this.options.includePrerelease)),he("hyphen replace",e),e=e.replace(Le[Ce.COMPARATORTRIM],Jg),he("comparator trim",e),e=e.replace(Le[Ce.TILDETRIM],eb),e=e.replace(Le[Ce.CARETTRIM],tb),e=e.split(/\s+/).join(" ");let h=e.split(" ").map(p=>nb(p,this.options)).join(" ").split(/\s+/).map(p=>fb(p,this.options));a&&(h=h.filter(p=>(he("loose invalid filter",p,this.options),!!p.match(Le[Ce.COMPARATORLOOSE])))),he("range list",h);let c=new Map,f=h.map(p=>new ki(p,this.options));for(let p of f){if(yc(p))return[p];c.set(p.value,p)}c.size>1&&c.has("")&&c.delete("");let m=[...c.values()];return bc.set(n,m),m}intersects(e,r){if(!(e instanceof t))throw new TypeError("a Range is required");return this.set.some(n=>_c(n,r)&&e.set.some(o=>_c(o,r)&&n.every(a=>o.every(l=>a.intersects(l,r)))))}test(e){if(!e)return!1;if(typeof e=="string")try{e=new Zg(e,this.options)}catch{return!1}for(let r=0;r<this.set.length;r++)if(db(this.set[r],e,this.options))return!0;return!1}};Rc.exports=Wi;var Kg=gc(),bc=new Kg({max:1e3}),Xg=en(),ki=sn(),he=Jr(),Zg=Ae(),{re:Le,t:Ce,comparatorTrimReplace:Jg,tildeTrimReplace:eb,caretTrimReplace:tb}=jt(),yc=t=>t.value==="<0.0.0-0",rb=t=>t.value==="",_c=(t,e)=>{let r=!0,n=t.slice(),o=n.pop();for(;r&&n.length;)r=n.every(a=>o.intersects(a,e)),o=n.pop();return r},nb=(t,e)=>(he("comp",t,e),t=ob(t,e),he("caret",t),t=sb(t,e),he("tildes",t),t=lb(t,e),he("xrange",t),t=cb(t,e),he("stars",t),t),xe=t=>!t||t.toLowerCase()==="x"||t==="*",sb=(t,e)=>t.trim().split(/\s+/).map(r=>ib(r,e)).join(" "),ib=(t,e)=>{let r=e.loose?Le[Ce.TILDELOOSE]:Le[Ce.TILDE];return t.replace(r,(n,o,a,l,h)=>{he("tilde",t,n,o,a,l,h);let c;return xe(o)?c="":xe(a)?c=`>=${o}.0.0 <${+o+1}.0.0-0`:xe(l)?c=`>=${o}.${a}.0 <${o}.${+a+1}.0-0`:h?(he("replaceTilde pr",h),c=`>=${o}.${a}.${l}-${h} <${o}.${+a+1}.0-0`):c=`>=${o}.${a}.${l} <${o}.${+a+1}.0-0`,he("tilde return",c),c})},ob=(t,e)=>t.trim().split(/\s+/).map(r=>ab(r,e)).join(" "),ab=(t,e)=>{he("caret",t,e);let r=e.loose?Le[Ce.CARETLOOSE]:Le[Ce.CARET],n=e.includePrerelease?"-0":"";return t.replace(r,(o,a,l,h,c)=>{he("caret",t,o,a,l,h,c);let f;return xe(a)?f="":xe(l)?f=`>=${a}.0.0${n} <${+a+1}.0.0-0`:xe(h)?a==="0"?f=`>=${a}.${l}.0${n} <${a}.${+l+1}.0-0`:f=`>=${a}.${l}.0${n} <${+a+1}.0.0-0`:c?(he("replaceCaret pr",c),a==="0"?l==="0"?f=`>=${a}.${l}.${h}-${c} <${a}.${l}.${+h+1}-0`:f=`>=${a}.${l}.${h}-${c} <${a}.${+l+1}.0-0`:f=`>=${a}.${l}.${h}-${c} <${+a+1}.0.0-0`):(he("no pr"),a==="0"?l==="0"?f=`>=${a}.${l}.${h}${n} <${a}.${l}.${+h+1}-0`:f=`>=${a}.${l}.${h}${n} <${a}.${+l+1}.0-0`:f=`>=${a}.${l}.${h} <${+a+1}.0.0-0`),he("caret return",f),f})},lb=(t,e)=>(he("replaceXRanges",t,e),t.split(/\s+/).map(r=>ub(r,e)).join(" ")),ub=(t,e)=>{t=t.trim();let r=e.loose?Le[Ce.XRANGELOOSE]:Le[Ce.XRANGE];return t.replace(r,(n,o,a,l,h,c)=>{he("xRange",t,n,o,a,l,h,c);let f=xe(a),m=f||xe(l),p=m||xe(h),g=p;return o==="="&&g&&(o=""),c=e.includePrerelease?"-0":"",f?o===">"||o==="<"?n="<0.0.0-0":n="*":o&&g?(m&&(l=0),h=0,o===">"?(o=">=",m?(a=+a+1,l=0,h=0):(l=+l+1,h=0)):o==="<="&&(o="<",m?a=+a+1:l=+l+1),o==="<"&&(c="-0"),n=`${o+a}.${l}.${h}${c}`):m?n=`>=${a}.0.0${c} <${+a+1}.0.0-0`:p&&(n=`>=${a}.${l}.0${c} <${a}.${+l+1}.0-0`),he("xRange return",n),n})},cb=(t,e)=>(he("replaceStars",t,e),t.trim().replace(Le[Ce.STAR],"")),fb=(t,e)=>(he("replaceGTE0",t,e),t.trim().replace(Le[e.includePrerelease?Ce.GTE0PRE:Ce.GTE0],"")),hb=t=>(e,r,n,o,a,l,h,c,f,m,p,g,b)=>(xe(n)?r="":xe(o)?r=`>=${n}.0.0${t?"-0":""}`:xe(a)?r=`>=${n}.${o}.0${t?"-0":""}`:l?r=`>=${r}`:r=`>=${r}${t?"-0":""}`,xe(f)?c="":xe(m)?c=`<${+f+1}.0.0-0`:xe(p)?c=`<${f}.${+m+1}.0-0`:g?c=`<=${f}.${m}.${p}-${g}`:t?c=`<${f}.${m}.${+p+1}-0`:c=`<=${c}`,`${r} ${c}`.trim()),db=(t,e,r)=>{for(let n=0;n<t.length;n++)if(!t[n].test(e))return!1;if(e.prerelease.length&&!r.includePrerelease){for(let n=0;n<t.length;n++)if(he(t[n].semver),t[n].semver!==ki.ANY&&t[n].semver.prerelease.length>0){let o=t[n].semver;if(o.major===e.major&&o.minor===e.minor&&o.patch===e.patch)return!0}return!1}return!0}});var sn=L((Bw,Tc)=>{var on=Symbol("SemVer ANY"),Gi=class t{static get ANY(){return on}constructor(e,r){if(r=pb(r),e instanceof t){if(e.loose===!!r.loose)return e;e=e.value}ji("comparator",e,r),this.options=r,this.loose=!!r.loose,this.parse(e),this.semver===on?this.value="":this.value=this.operator+this.semver.version,ji("comp",this)}parse(e){let r=this.options.loose?Sc[wc.COMPARATORLOOSE]:Sc[wc.COMPARATOR],n=e.match(r);if(!n)throw new TypeError(`Invalid comparator: ${e}`);this.operator=n[1]!==void 0?n[1]:"",this.operator==="="&&(this.operator=""),n[2]?this.semver=new Ec(n[2],this.options.loose):this.semver=on}toString(){return this.value}test(e){if(ji("Comparator.test",e,this.options.loose),this.semver===on||e===on)return!0;if(typeof e=="string")try{e=new Ec(e,this.options)}catch{return!1}return zi(e,this.operator,this.semver,this.options)}intersects(e,r){if(!(e instanceof t))throw new TypeError("a Comparator is required");if((!r||typeof r!="object")&&(r={loose:!!r,includePrerelease:!1}),this.operator==="")return this.value===""?!0:new Ac(e.value,r).test(this.value);if(e.operator==="")return e.value===""?!0:new Ac(this.value,r).test(e.semver);let n=(this.operator===">="||this.operator===">")&&(e.operator===">="||e.operator===">"),o=(this.operator==="<="||this.operator==="<")&&(e.operator==="<="||e.operator==="<"),a=this.semver.version===e.semver.version,l=(this.operator===">="||this.operator==="<=")&&(e.operator===">="||e.operator==="<="),h=zi(this.semver,"<",e.semver,r)&&(this.operator===">="||this.operator===">")&&(e.operator==="<="||e.operator==="<"),c=zi(this.semver,">",e.semver,r)&&(this.operator==="<="||this.operator==="<")&&(e.operator===">="||e.operator===">");return n||o||a&&l||h||c}};Tc.exports=Gi;var pb=en(),{re:Sc,t:wc}=jt(),zi=Bi(),ji=Jr(),Ec=Ae(),Ac=ke()});var an=L((qw,Cc)=>{var mb=ke(),gb=(t,e,r)=>{try{e=new mb(e,r)}catch{return!1}return e.test(t)};Cc.exports=gb});var vc=L((Fw,xc)=>{var bb=ke(),yb=(t,e)=>new bb(t,e).set.map(r=>r.map(n=>n.value).join(" ").trim().split(" "));xc.exports=yb});var $c=L((Uw,Oc)=>{var _b=Ae(),Rb=ke(),Sb=(t,e,r)=>{let n=null,o=null,a=null;try{a=new Rb(e,r)}catch{return null}return t.forEach(l=>{a.test(l)&&(!n||o.compare(l)===-1)&&(n=l,o=new _b(n,r))}),n};Oc.exports=Sb});var Lc=L((Mw,Ic)=>{var wb=Ae(),Eb=ke(),Ab=(t,e,r)=>{let n=null,o=null,a=null;try{a=new Eb(e,r)}catch{return null}return t.forEach(l=>{a.test(l)&&(!n||o.compare(l)===1)&&(n=l,o=new wb(n,r))}),n};Ic.exports=Ab});var Hc=L((Ww,Nc)=>{var Vi=Ae(),Tb=ke(),Pc=tn(),Cb=(t,e)=>{t=new Tb(t,e);let r=new Vi("0.0.0");if(t.test(r)||(r=new Vi("0.0.0-0"),t.test(r)))return r;r=null;for(let n=0;n<t.set.length;++n){let o=t.set[n],a=null;o.forEach(l=>{let h=new Vi(l.semver.version);switch(l.operator){case">":h.prerelease.length===0?h.patch++:h.prerelease.push(0),h.raw=h.format();case"":case">=":(!a||Pc(h,a))&&(a=h);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${l.operator}`)}}),a&&(!r||Pc(r,a))&&(r=a)}return r&&t.test(r)?r:null};Nc.exports=Cb});var Bc=L((kw,Dc)=>{var xb=ke(),vb=(t,e)=>{try{return new xb(t,e).range||"*"}catch{return null}};Dc.exports=vb});var ds=L((zw,Mc)=>{var Ob=Ae(),Uc=sn(),{ANY:$b}=Uc,Ib=ke(),Lb=an(),qc=tn(),Fc=as(),Pb=us(),Nb=ls(),Hb=(t,e,r,n)=>{t=new Ob(t,n),e=new Ib(e,n);let o,a,l,h,c;switch(r){case">":o=qc,a=Pb,l=Fc,h=">",c=">=";break;case"<":o=Fc,a=Nb,l=qc,h="<",c="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(Lb(t,e,n))return!1;for(let f=0;f<e.set.length;++f){let m=e.set[f],p=null,g=null;if(m.forEach(b=>{b.semver===$b&&(b=new Uc(">=0.0.0")),p=p||b,g=g||b,o(b.semver,p.semver,n)?p=b:l(b.semver,g.semver,n)&&(g=b)}),p.operator===h||p.operator===c||(!g.operator||g.operator===h)&&a(t,g.semver))return!1;if(g.operator===c&&l(t,g.semver))return!1}return!0};Mc.exports=Hb});var kc=L((jw,Wc)=>{var Db=ds(),Bb=(t,e,r)=>Db(t,e,">",r);Wc.exports=Bb});var jc=L((Gw,zc)=>{var qb=ds(),Fb=(t,e,r)=>qb(t,e,"<",r);zc.exports=Fb});var Yc=L((Vw,Vc)=>{var Gc=ke(),Ub=(t,e,r)=>(t=new Gc(t,r),e=new Gc(e,r),t.intersects(e));Vc.exports=Ub});var Kc=L((Yw,Qc)=>{var Mb=an(),Wb=We();Qc.exports=(t,e,r)=>{let n=[],o=null,a=null,l=t.sort((m,p)=>Wb(m,p,r));for(let m of l)Mb(m,e,r)?(a=m,o||(o=m)):(a&&n.push([o,a]),a=null,o=null);o&&n.push([o,null]);let h=[];for(let[m,p]of n)m===p?h.push(m):!p&&m===l[0]?h.push("*"):p?m===l[0]?h.push(`<=${p}`):h.push(`${m} - ${p}`):h.push(`>=${m}`);let c=h.join(" || "),f=typeof e.raw=="string"?e.raw:String(e);return c.length<f.length?c:e}});var tf=L((Qw,ef)=>{var Xc=ke(),ps=sn(),{ANY:Yi}=ps,ln=an(),Qi=We(),kb=(t,e,r={})=>{if(t===e)return!0;t=new Xc(t,r),e=new Xc(e,r);let n=!1;e:for(let o of t.set){for(let a of e.set){let l=zb(o,a,r);if(n=n||l!==null,l)continue e}if(n)return!1}return!0},zb=(t,e,r)=>{if(t===e)return!0;if(t.length===1&&t[0].semver===Yi){if(e.length===1&&e[0].semver===Yi)return!0;r.includePrerelease?t=[new ps(">=0.0.0-0")]:t=[new ps(">=0.0.0")]}if(e.length===1&&e[0].semver===Yi){if(r.includePrerelease)return!0;e=[new ps(">=0.0.0")]}let n=new Set,o,a;for(let b of t)b.operator===">"||b.operator===">="?o=Zc(o,b,r):b.operator==="<"||b.operator==="<="?a=Jc(a,b,r):n.add(b.semver);if(n.size>1)return null;let l;if(o&&a){if(l=Qi(o.semver,a.semver,r),l>0)return null;if(l===0&&(o.operator!==">="||a.operator!=="<="))return null}for(let b of n){if(o&&!ln(b,String(o),r)||a&&!ln(b,String(a),r))return null;for(let R of e)if(!ln(b,String(R),r))return!1;return!0}let h,c,f,m,p=a&&!r.includePrerelease&&a.semver.prerelease.length?a.semver:!1,g=o&&!r.includePrerelease&&o.semver.prerelease.length?o.semver:!1;p&&p.prerelease.length===1&&a.operator==="<"&&p.prerelease[0]===0&&(p=!1);for(let b of e){if(m=m||b.operator===">"||b.operator===">=",f=f||b.operator==="<"||b.operator==="<=",o){if(g&&b.semver.prerelease&&b.semver.prerelease.length&&b.semver.major===g.major&&b.semver.minor===g.minor&&b.semver.patch===g.patch&&(g=!1),b.operator===">"||b.operator===">="){if(h=Zc(o,b,r),h===b&&h!==o)return!1}else if(o.operator===">="&&!ln(o.semver,String(b),r))return!1}if(a){if(p&&b.semver.prerelease&&b.semver.prerelease.length&&b.semver.major===p.major&&b.semver.minor===p.minor&&b.semver.patch===p.patch&&(p=!1),b.operator==="<"||b.operator==="<="){if(c=Jc(a,b,r),c===b&&c!==a)return!1}else if(a.operator==="<="&&!ln(a.semver,String(b),r))return!1}if(!b.operator&&(a||o)&&l!==0)return!1}return!(o&&f&&!a&&l!==0||a&&m&&!o&&l!==0||g||p)},Zc=(t,e,r)=>{if(!t)return e;let n=Qi(t.semver,e.semver,r);return n>0?t:n<0||e.operator===">"&&t.operator===">="?e:t},Jc=(t,e,r)=>{if(!t)return e;let n=Qi(t.semver,e.semver,r);return n<0?t:n>0||e.operator==="<"&&t.operator==="<="?e:t};ef.exports=kb});var sf=L((Kw,nf)=>{var Ki=jt(),jb=Zr(),Gb=Ae(),rf=Ni(),Vb=Gt(),Yb=Au(),Qb=Cu(),Kb=Ou(),Xb=Hu(),Zb=Bu(),Jb=Fu(),ey=Mu(),ty=ku(),ry=We(),ny=ju(),sy=Vu(),iy=os(),oy=Xu(),ay=Ju(),ly=tn(),uy=as(),cy=is(),fy=Di(),hy=ls(),dy=us(),py=Bi(),my=ac(),gy=sn(),by=ke(),yy=an(),_y=vc(),Ry=$c(),Sy=Lc(),wy=Hc(),Ey=Bc(),Ay=ds(),Ty=kc(),Cy=jc(),xy=Yc(),vy=Kc(),Oy=tf();nf.exports={parse:Vb,valid:Yb,clean:Qb,inc:Kb,diff:Xb,major:Zb,minor:Jb,patch:ey,prerelease:ty,compare:ry,rcompare:ny,compareLoose:sy,compareBuild:iy,sort:oy,rsort:ay,gt:ly,lt:uy,eq:cy,neq:fy,gte:hy,lte:dy,cmp:py,coerce:my,Comparator:gy,Range:by,satisfies:yy,toComparators:_y,maxSatisfying:Ry,minSatisfying:Sy,minVersion:wy,validRange:Ey,outside:Ay,gtr:Ty,ltr:Cy,intersects:xy,simplifyRange:vy,subset:Oy,SemVer:Gb,re:Ki.re,src:Ki.src,tokens:Ki.t,SEMVER_SPEC_VERSION:jb.SEMVER_SPEC_VERSION,compareIdentifiers:rf.compareIdentifiers,rcompareIdentifiers:rf.rcompareIdentifiers}});var cf=L((Xw,uf)=>{uf.exports=function(t,e){e||(e={});var r=e.hsep===void 0?"  ":e.hsep,n=e.align||[],o=e.stringLength||function(c){return String(c).length},a=af(t,function(c,f){return lf(f,function(m,p){var g=of(m);(!c[p]||g>c[p])&&(c[p]=g)}),c},[]),l=ms(t,function(c){return ms(c,function(f,m){var p=String(f);if(n[m]==="."){var g=of(p),b=a[m]+(/\./.test(p)?1:2)-(o(p)-g);return p+Array(b).join(" ")}else return p})}),h=af(l,function(c,f){return lf(f,function(m,p){var g=o(m);(!c[p]||g>c[p])&&(c[p]=g)}),c},[]);return ms(l,function(c){return ms(c,function(f,m){var p=h[m]-o(f)||0,g=Array(Math.max(p+1,1)).join(" ");return n[m]==="r"||n[m]==="."?g+f:n[m]==="c"?Array(Math.ceil(p/2+1)).join(" ")+f+Array(Math.floor(p/2+1)).join(" "):f+g}).join(r).replace(/\s+$/,"")}).join(`
`)};function of(t){var e=/\.[^.]*$/.exec(t);return e?e.index+1:t.length}function af(t,e,r){if(t.reduce)return t.reduce(e,r);for(var n=0,o=arguments.length>=3?r:t[n++];n<t.length;n++)e(o,t[n],n);return o}function lf(t,e){if(t.forEach)return t.forEach(e);for(var r=0;r<t.length;r++)e.call(t,t[r],r)}function ms(t,e){if(t.map)return t.map(e);for(var r=[],n=0;n<t.length;n++)r.push(e.call(t,t[n],n));return r}});var mf=L(bs=>{"use strict";Object.defineProperty(bs,"__esModule",{value:!0});bs.LRUCache=void 0;var Er=typeof performance=="object"&&performance&&typeof performance.now=="function"?performance:Date,hf=new Set,Xi=typeof process=="object"&&process?process:{},df=(t,e,r,n)=>{typeof Xi.emitWarning=="function"?Xi.emitWarning(t,e,r,n):console.error(`[${r}] ${e}: ${t}`)},gs=globalThis.AbortController,ff=globalThis.AbortSignal;if(typeof gs>"u"){ff=class{onabort;_onabort=[];reason;aborted=!1;addEventListener(n,o){this._onabort.push(o)}},gs=class{constructor(){e()}signal=new ff;abort(n){if(!this.signal.aborted){this.signal.reason=n,this.signal.aborted=!0;for(let o of this.signal._onabort)o(n);this.signal.onabort?.(n)}}};let t=Xi.env?.LRU_CACHE_IGNORE_AC_WARNING!=="1",e=()=>{t&&(t=!1,df("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",e))}}var $y=t=>!hf.has(t),eE=Symbol("type"),Ot=t=>t&&t===Math.floor(t)&&t>0&&isFinite(t),pf=t=>Ot(t)?t<=Math.pow(2,8)?Uint8Array:t<=Math.pow(2,16)?Uint16Array:t<=Math.pow(2,32)?Uint32Array:t<=Number.MAX_SAFE_INTEGER?Ar:null:null,Ar=class extends Array{constructor(e){super(e),this.fill(0)}},Zi=class t{heap;length;static#t=!1;static create(e){let r=pf(e);if(!r)return[];t.#t=!0;let n=new t(e,r);return t.#t=!1,n}constructor(e,r){if(!t.#t)throw new TypeError("instantiate Stack using Stack.create(n)");this.heap=new r(e),this.length=0}push(e){this.heap[this.length++]=e}pop(){return this.heap[--this.length]}},Ji=class t{#t;#n;#e;#u;#A;ttl;ttlResolution;ttlAutopurge;updateAgeOnGet;updateAgeOnHas;allowStale;noDisposeOnSet;noUpdateTTL;maxEntrySize;sizeCalculation;noDeleteOnFetchRejection;noDeleteOnStaleGet;allowStaleOnFetchAbort;allowStaleOnFetchRejection;ignoreFetchAbort;#a;#m;#s;#i;#r;#c;#d;#f;#l;#y;#h;#_;#R;#g;#S;#C;#p;static unsafeExposeInternals(e){return{starts:e.#R,ttls:e.#g,sizes:e.#_,keyMap:e.#s,keyList:e.#i,valList:e.#r,next:e.#c,prev:e.#d,get head(){return e.#f},get tail(){return e.#l},free:e.#y,isBackgroundFetch:r=>e.#o(r),backgroundFetch:(r,n,o,a)=>e.#L(r,n,o,a),moveToTail:r=>e.#O(r),indexes:r=>e.#w(r),rindexes:r=>e.#E(r),isStale:r=>e.#b(r)}}get max(){return this.#t}get maxSize(){return this.#n}get calculatedSize(){return this.#m}get size(){return this.#a}get fetchMethod(){return this.#A}get dispose(){return this.#e}get disposeAfter(){return this.#u}constructor(e){let{max:r=0,ttl:n,ttlResolution:o=1,ttlAutopurge:a,updateAgeOnGet:l,updateAgeOnHas:h,allowStale:c,dispose:f,disposeAfter:m,noDisposeOnSet:p,noUpdateTTL:g,maxSize:b=0,maxEntrySize:R=0,sizeCalculation:w,fetchMethod:v,noDeleteOnFetchRejection:x,noDeleteOnStaleGet:O,allowStaleOnFetchRejection:F,allowStaleOnFetchAbort:C,ignoreFetchAbort:$}=e;if(r!==0&&!Ot(r))throw new TypeError("max option must be a nonnegative integer");let P=r?pf(r):Array;if(!P)throw new Error("invalid max value: "+r);if(this.#t=r,this.#n=b,this.maxEntrySize=R||this.#n,this.sizeCalculation=w,this.sizeCalculation){if(!this.#n&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if(typeof this.sizeCalculation!="function")throw new TypeError("sizeCalculation set to non-function")}if(v!==void 0&&typeof v!="function")throw new TypeError("fetchMethod must be a function if specified");if(this.#A=v,this.#C=!!v,this.#s=new Map,this.#i=new Array(r).fill(void 0),this.#r=new Array(r).fill(void 0),this.#c=new P(r),this.#d=new P(r),this.#f=0,this.#l=0,this.#y=Zi.create(r),this.#a=0,this.#m=0,typeof f=="function"&&(this.#e=f),typeof m=="function"?(this.#u=m,this.#h=[]):(this.#u=void 0,this.#h=void 0),this.#S=!!this.#e,this.#p=!!this.#u,this.noDisposeOnSet=!!p,this.noUpdateTTL=!!g,this.noDeleteOnFetchRejection=!!x,this.allowStaleOnFetchRejection=!!F,this.allowStaleOnFetchAbort=!!C,this.ignoreFetchAbort=!!$,this.maxEntrySize!==0){if(this.#n!==0&&!Ot(this.#n))throw new TypeError("maxSize must be a positive integer if specified");if(!Ot(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");this.#q()}if(this.allowStale=!!c,this.noDeleteOnStaleGet=!!O,this.updateAgeOnGet=!!l,this.updateAgeOnHas=!!h,this.ttlResolution=Ot(o)||o===0?o:1,this.ttlAutopurge=!!a,this.ttl=n||0,this.ttl){if(!Ot(this.ttl))throw new TypeError("ttl must be a positive integer if specified");this.#P()}if(this.#t===0&&this.ttl===0&&this.#n===0)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!this.#t&&!this.#n){let D="LRU_CACHE_UNBOUNDED";$y(D)&&(hf.add(D),df("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",D,t))}}getRemainingTTL(e){return this.#s.has(e)?1/0:0}#P(){let e=new Ar(this.#t),r=new Ar(this.#t);this.#g=e,this.#R=r,this.#N=(a,l,h=Er.now())=>{if(r[a]=l!==0?h:0,e[a]=l,l!==0&&this.ttlAutopurge){let c=setTimeout(()=>{this.#b(a)&&this.delete(this.#i[a])},l+1);c.unref&&c.unref()}},this.#x=a=>{r[a]=e[a]!==0?Er.now():0},this.#T=(a,l)=>{if(e[l]){let h=e[l],c=r[l];if(!h||!c)return;a.ttl=h,a.start=c,a.now=n||o();let f=a.now-c;a.remainingTTL=h-f}};let n=0,o=()=>{let a=Er.now();if(this.ttlResolution>0){n=a;let l=setTimeout(()=>n=0,this.ttlResolution);l.unref&&l.unref()}return a};this.getRemainingTTL=a=>{let l=this.#s.get(a);if(l===void 0)return 0;let h=e[l],c=r[l];if(!h||!c)return 1/0;let f=(n||o())-c;return h-f},this.#b=a=>{let l=r[a],h=e[a];return!!h&&!!l&&(n||o())-l>h}}#x=()=>{};#T=()=>{};#N=()=>{};#b=()=>!1;#q(){let e=new Ar(this.#t);this.#m=0,this.#_=e,this.#v=r=>{this.#m-=e[r],e[r]=0},this.#H=(r,n,o,a)=>{if(this.#o(n))return 0;if(!Ot(o))if(a){if(typeof a!="function")throw new TypeError("sizeCalculation must be a function");if(o=a(n,r),!Ot(o))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}else throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");return o},this.#$=(r,n,o)=>{if(e[r]=n,this.#n){let a=this.#n-e[r];for(;this.#m>a;)this.#I(!0)}this.#m+=e[r],o&&(o.entrySize=n,o.totalCalculatedSize=this.#m)}}#v=e=>{};#$=(e,r,n)=>{};#H=(e,r,n,o)=>{if(n||o)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0};*#w({allowStale:e=this.allowStale}={}){if(this.#a)for(let r=this.#l;!(!this.#D(r)||((e||!this.#b(r))&&(yield r),r===this.#f));)r=this.#d[r]}*#E({allowStale:e=this.allowStale}={}){if(this.#a)for(let r=this.#f;!(!this.#D(r)||((e||!this.#b(r))&&(yield r),r===this.#l));)r=this.#c[r]}#D(e){return e!==void 0&&this.#s.get(this.#i[e])===e}*entries(){for(let e of this.#w())this.#r[e]!==void 0&&this.#i[e]!==void 0&&!this.#o(this.#r[e])&&(yield[this.#i[e],this.#r[e]])}*rentries(){for(let e of this.#E())this.#r[e]!==void 0&&this.#i[e]!==void 0&&!this.#o(this.#r[e])&&(yield[this.#i[e],this.#r[e]])}*keys(){for(let e of this.#w()){let r=this.#i[e];r!==void 0&&!this.#o(this.#r[e])&&(yield r)}}*rkeys(){for(let e of this.#E()){let r=this.#i[e];r!==void 0&&!this.#o(this.#r[e])&&(yield r)}}*values(){for(let e of this.#w())this.#r[e]!==void 0&&!this.#o(this.#r[e])&&(yield this.#r[e])}*rvalues(){for(let e of this.#E())this.#r[e]!==void 0&&!this.#o(this.#r[e])&&(yield this.#r[e])}[Symbol.iterator](){return this.entries()}[Symbol.toStringTag]="LRUCache";find(e,r={}){for(let n of this.#w()){let o=this.#r[n],a=this.#o(o)?o.__staleWhileFetching:o;if(a!==void 0&&e(a,this.#i[n],this))return this.get(this.#i[n],r)}}forEach(e,r=this){for(let n of this.#w()){let o=this.#r[n],a=this.#o(o)?o.__staleWhileFetching:o;a!==void 0&&e.call(r,a,this.#i[n],this)}}rforEach(e,r=this){for(let n of this.#E()){let o=this.#r[n],a=this.#o(o)?o.__staleWhileFetching:o;a!==void 0&&e.call(r,a,this.#i[n],this)}}purgeStale(){let e=!1;for(let r of this.#E({allowStale:!0}))this.#b(r)&&(this.delete(this.#i[r]),e=!0);return e}info(e){let r=this.#s.get(e);if(r===void 0)return;let n=this.#r[r],o=this.#o(n)?n.__staleWhileFetching:n;if(o===void 0)return;let a={value:o};if(this.#g&&this.#R){let l=this.#g[r],h=this.#R[r];if(l&&h){let c=l-(Er.now()-h);a.ttl=c,a.start=Date.now()}}return this.#_&&(a.size=this.#_[r]),a}dump(){let e=[];for(let r of this.#w({allowStale:!0})){let n=this.#i[r],o=this.#r[r],a=this.#o(o)?o.__staleWhileFetching:o;if(a===void 0||n===void 0)continue;let l={value:a};if(this.#g&&this.#R){l.ttl=this.#g[r];let h=Er.now()-this.#R[r];l.start=Math.floor(Date.now()-h)}this.#_&&(l.size=this.#_[r]),e.unshift([n,l])}return e}load(e){this.clear();for(let[r,n]of e){if(n.start){let o=Date.now()-n.start;n.start=Er.now()-o}this.set(r,n.value,n)}}set(e,r,n={}){if(r===void 0)return this.delete(e),this;let{ttl:o=this.ttl,start:a,noDisposeOnSet:l=this.noDisposeOnSet,sizeCalculation:h=this.sizeCalculation,status:c}=n,{noUpdateTTL:f=this.noUpdateTTL}=n,m=this.#H(e,r,n.size||0,h);if(this.maxEntrySize&&m>this.maxEntrySize)return c&&(c.set="miss",c.maxEntrySizeExceeded=!0),this.delete(e),this;let p=this.#a===0?void 0:this.#s.get(e);if(p===void 0)p=this.#a===0?this.#l:this.#y.length!==0?this.#y.pop():this.#a===this.#t?this.#I(!1):this.#a,this.#i[p]=e,this.#r[p]=r,this.#s.set(e,p),this.#c[this.#l]=p,this.#d[p]=this.#l,this.#l=p,this.#a++,this.#$(p,m,c),c&&(c.set="add"),f=!1;else{this.#O(p);let g=this.#r[p];if(r!==g){if(this.#C&&this.#o(g)){g.__abortController.abort(new Error("replaced"));let{__staleWhileFetching:b}=g;b!==void 0&&!l&&(this.#S&&this.#e?.(b,e,"set"),this.#p&&this.#h?.push([b,e,"set"]))}else l||(this.#S&&this.#e?.(g,e,"set"),this.#p&&this.#h?.push([g,e,"set"]));if(this.#v(p),this.#$(p,m,c),this.#r[p]=r,c){c.set="replace";let b=g&&this.#o(g)?g.__staleWhileFetching:g;b!==void 0&&(c.oldValue=b)}}else c&&(c.set="update")}if(o!==0&&!this.#g&&this.#P(),this.#g&&(f||this.#N(p,o,a),c&&this.#T(c,p)),!l&&this.#p&&this.#h){let g=this.#h,b;for(;b=g?.shift();)this.#u?.(...b)}return this}pop(){try{for(;this.#a;){let e=this.#r[this.#f];if(this.#I(!0),this.#o(e)){if(e.__staleWhileFetching)return e.__staleWhileFetching}else if(e!==void 0)return e}}finally{if(this.#p&&this.#h){let e=this.#h,r;for(;r=e?.shift();)this.#u?.(...r)}}}#I(e){let r=this.#f,n=this.#i[r],o=this.#r[r];return this.#C&&this.#o(o)?o.__abortController.abort(new Error("evicted")):(this.#S||this.#p)&&(this.#S&&this.#e?.(o,n,"evict"),this.#p&&this.#h?.push([o,n,"evict"])),this.#v(r),e&&(this.#i[r]=void 0,this.#r[r]=void 0,this.#y.push(r)),this.#a===1?(this.#f=this.#l=0,this.#y.length=0):this.#f=this.#c[r],this.#s.delete(n),this.#a--,r}has(e,r={}){let{updateAgeOnHas:n=this.updateAgeOnHas,status:o}=r,a=this.#s.get(e);if(a!==void 0){let l=this.#r[a];if(this.#o(l)&&l.__staleWhileFetching===void 0)return!1;if(this.#b(a))o&&(o.has="stale",this.#T(o,a));else return n&&this.#x(a),o&&(o.has="hit",this.#T(o,a)),!0}else o&&(o.has="miss");return!1}peek(e,r={}){let{allowStale:n=this.allowStale}=r,o=this.#s.get(e);if(o===void 0||!n&&this.#b(o))return;let a=this.#r[o];return this.#o(a)?a.__staleWhileFetching:a}#L(e,r,n,o){let a=r===void 0?void 0:this.#r[r];if(this.#o(a))return a;let l=new gs,{signal:h}=n;h?.addEventListener("abort",()=>l.abort(h.reason),{signal:l.signal});let c={signal:l.signal,options:n,context:o},f=(w,v=!1)=>{let{aborted:x}=l.signal,O=n.ignoreFetchAbort&&w!==void 0;if(n.status&&(x&&!v?(n.status.fetchAborted=!0,n.status.fetchError=l.signal.reason,O&&(n.status.fetchAbortIgnored=!0)):n.status.fetchResolved=!0),x&&!O&&!v)return p(l.signal.reason);let F=b;return this.#r[r]===b&&(w===void 0?F.__staleWhileFetching?this.#r[r]=F.__staleWhileFetching:this.delete(e):(n.status&&(n.status.fetchUpdated=!0),this.set(e,w,c.options))),w},m=w=>(n.status&&(n.status.fetchRejected=!0,n.status.fetchError=w),p(w)),p=w=>{let{aborted:v}=l.signal,x=v&&n.allowStaleOnFetchAbort,O=x||n.allowStaleOnFetchRejection,F=O||n.noDeleteOnFetchRejection,C=b;if(this.#r[r]===b&&(!F||C.__staleWhileFetching===void 0?this.delete(e):x||(this.#r[r]=C.__staleWhileFetching)),O)return n.status&&C.__staleWhileFetching!==void 0&&(n.status.returnedStale=!0),C.__staleWhileFetching;if(C.__returned===C)throw w},g=(w,v)=>{let x=this.#A?.(e,a,c);x&&x instanceof Promise&&x.then(O=>w(O===void 0?void 0:O),v),l.signal.addEventListener("abort",()=>{(!n.ignoreFetchAbort||n.allowStaleOnFetchAbort)&&(w(void 0),n.allowStaleOnFetchAbort&&(w=O=>f(O,!0)))})};n.status&&(n.status.fetchDispatched=!0);let b=new Promise(g).then(f,m),R=Object.assign(b,{__abortController:l,__staleWhileFetching:a,__returned:void 0});return r===void 0?(this.set(e,R,{...c.options,status:void 0}),r=this.#s.get(e)):this.#r[r]=R,R}#o(e){if(!this.#C)return!1;let r=e;return!!r&&r instanceof Promise&&r.hasOwnProperty("__staleWhileFetching")&&r.__abortController instanceof gs}async fetch(e,r={}){let{allowStale:n=this.allowStale,updateAgeOnGet:o=this.updateAgeOnGet,noDeleteOnStaleGet:a=this.noDeleteOnStaleGet,ttl:l=this.ttl,noDisposeOnSet:h=this.noDisposeOnSet,size:c=0,sizeCalculation:f=this.sizeCalculation,noUpdateTTL:m=this.noUpdateTTL,noDeleteOnFetchRejection:p=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:g=this.allowStaleOnFetchRejection,ignoreFetchAbort:b=this.ignoreFetchAbort,allowStaleOnFetchAbort:R=this.allowStaleOnFetchAbort,context:w,forceRefresh:v=!1,status:x,signal:O}=r;if(!this.#C)return x&&(x.fetch="get"),this.get(e,{allowStale:n,updateAgeOnGet:o,noDeleteOnStaleGet:a,status:x});let F={allowStale:n,updateAgeOnGet:o,noDeleteOnStaleGet:a,ttl:l,noDisposeOnSet:h,size:c,sizeCalculation:f,noUpdateTTL:m,noDeleteOnFetchRejection:p,allowStaleOnFetchRejection:g,allowStaleOnFetchAbort:R,ignoreFetchAbort:b,status:x,signal:O},C=this.#s.get(e);if(C===void 0){x&&(x.fetch="miss");let $=this.#L(e,C,F,w);return $.__returned=$}else{let $=this.#r[C];if(this.#o($)){let _=n&&$.__staleWhileFetching!==void 0;return x&&(x.fetch="inflight",_&&(x.returnedStale=!0)),_?$.__staleWhileFetching:$.__returned=$}let P=this.#b(C);if(!v&&!P)return x&&(x.fetch="hit"),this.#O(C),o&&this.#x(C),x&&this.#T(x,C),$;let D=this.#L(e,C,F,w),M=D.__staleWhileFetching!==void 0&&n;return x&&(x.fetch=P?"stale":"refresh",M&&P&&(x.returnedStale=!0)),M?D.__staleWhileFetching:D.__returned=D}}get(e,r={}){let{allowStale:n=this.allowStale,updateAgeOnGet:o=this.updateAgeOnGet,noDeleteOnStaleGet:a=this.noDeleteOnStaleGet,status:l}=r,h=this.#s.get(e);if(h!==void 0){let c=this.#r[h],f=this.#o(c);return l&&this.#T(l,h),this.#b(h)?(l&&(l.get="stale"),f?(l&&n&&c.__staleWhileFetching!==void 0&&(l.returnedStale=!0),n?c.__staleWhileFetching:void 0):(a||this.delete(e),l&&n&&(l.returnedStale=!0),n?c:void 0)):(l&&(l.get="hit"),f?c.__staleWhileFetching:(this.#O(h),o&&this.#x(h),c))}else l&&(l.get="miss")}#B(e,r){this.#d[r]=e,this.#c[e]=r}#O(e){e!==this.#l&&(e===this.#f?this.#f=this.#c[e]:this.#B(this.#d[e],this.#c[e]),this.#B(this.#l,e),this.#l=e)}delete(e){let r=!1;if(this.#a!==0){let n=this.#s.get(e);if(n!==void 0)if(r=!0,this.#a===1)this.clear();else{this.#v(n);let o=this.#r[n];if(this.#o(o)?o.__abortController.abort(new Error("deleted")):(this.#S||this.#p)&&(this.#S&&this.#e?.(o,e,"delete"),this.#p&&this.#h?.push([o,e,"delete"])),this.#s.delete(e),this.#i[n]=void 0,this.#r[n]=void 0,n===this.#l)this.#l=this.#d[n];else if(n===this.#f)this.#f=this.#c[n];else{let a=this.#d[n];this.#c[a]=this.#c[n];let l=this.#c[n];this.#d[l]=this.#d[n]}this.#a--,this.#y.push(n)}}if(this.#p&&this.#h?.length){let n=this.#h,o;for(;o=n?.shift();)this.#u?.(...o)}return r}clear(){for(let e of this.#E({allowStale:!0})){let r=this.#r[e];if(this.#o(r))r.__abortController.abort(new Error("deleted"));else{let n=this.#i[e];this.#S&&this.#e?.(r,n,"delete"),this.#p&&this.#h?.push([r,n,"delete"])}}if(this.#s.clear(),this.#r.fill(void 0),this.#i.fill(void 0),this.#g&&this.#R&&(this.#g.fill(0),this.#R.fill(0)),this.#_&&this.#_.fill(0),this.#f=0,this.#l=0,this.#y.length=0,this.#m=0,this.#a=0,this.#p&&this.#h){let e=this.#h,r;for(;r=e?.shift();)this.#u?.(...r)}}};bs.LRUCache=Ji});var yf=L((rE,bf)=>{"use strict";var ie=(...t)=>t.every(e=>e)?t.join(""):"",be=t=>t?encodeURIComponent(t):"",gf=t=>t.toLowerCase().replace(/^\W+|\/|\W+$/g,"").replace(/\W+/g,"-"),Iy={sshtemplate:({domain:t,user:e,project:r,committish:n})=>`git@${t}:${e}/${r}.git${ie("#",n)}`,sshurltemplate:({domain:t,user:e,project:r,committish:n})=>`git+ssh://git@${t}/${e}/${r}.git${ie("#",n)}`,edittemplate:({domain:t,user:e,project:r,committish:n,editpath:o,path:a})=>`https://${t}/${e}/${r}${ie("/",o,"/",be(n||"HEAD"),"/",a)}`,browsetemplate:({domain:t,user:e,project:r,committish:n,treepath:o})=>`https://${t}/${e}/${r}${ie("/",o,"/",be(n))}`,browsetreetemplate:({domain:t,user:e,project:r,committish:n,treepath:o,path:a,fragment:l,hashformat:h})=>`https://${t}/${e}/${r}/${o}/${be(n||"HEAD")}/${a}${ie("#",h(l||""))}`,browseblobtemplate:({domain:t,user:e,project:r,committish:n,blobpath:o,path:a,fragment:l,hashformat:h})=>`https://${t}/${e}/${r}/${o}/${be(n||"HEAD")}/${a}${ie("#",h(l||""))}`,docstemplate:({domain:t,user:e,project:r,treepath:n,committish:o})=>`https://${t}/${e}/${r}${ie("/",n,"/",be(o))}#readme`,httpstemplate:({auth:t,domain:e,user:r,project:n,committish:o})=>`git+https://${ie(t,"@")}${e}/${r}/${n}.git${ie("#",o)}`,filetemplate:({domain:t,user:e,project:r,committish:n,path:o})=>`https://${t}/${e}/${r}/raw/${be(n||"HEAD")}/${o}`,shortcuttemplate:({type:t,user:e,project:r,committish:n})=>`${t}:${e}/${r}${ie("#",n)}`,pathtemplate:({user:t,project:e,committish:r})=>`${t}/${e}${ie("#",r)}`,bugstemplate:({domain:t,user:e,project:r})=>`https://${t}/${e}/${r}/issues`,hashformat:gf},$t={};$t.github={protocols:["git:","http:","git+ssh:","git+https:","ssh:","https:"],domain:"github.com",treepath:"tree",blobpath:"blob",editpath:"edit",filetemplate:({auth:t,user:e,project:r,committish:n,path:o})=>`https://${ie(t,"@")}raw.githubusercontent.com/${e}/${r}/${be(n||"HEAD")}/${o}`,gittemplate:({auth:t,domain:e,user:r,project:n,committish:o})=>`git://${ie(t,"@")}${e}/${r}/${n}.git${ie("#",o)}`,tarballtemplate:({domain:t,user:e,project:r,committish:n})=>`https://codeload.${t}/${e}/${r}/tar.gz/${be(n||"HEAD")}`,extract:t=>{let[,e,r,n,o]=t.pathname.split("/",5);if(!(n&&n!=="tree")&&(n||(o=t.hash.slice(1)),r&&r.endsWith(".git")&&(r=r.slice(0,-4)),!(!e||!r)))return{user:e,project:r,committish:o}}};$t.bitbucket={protocols:["git+ssh:","git+https:","ssh:","https:"],domain:"bitbucket.org",treepath:"src",blobpath:"src",editpath:"?mode=edit",edittemplate:({domain:t,user:e,project:r,committish:n,treepath:o,path:a,editpath:l})=>`https://${t}/${e}/${r}${ie("/",o,"/",be(n||"HEAD"),"/",a,l)}`,tarballtemplate:({domain:t,user:e,project:r,committish:n})=>`https://${t}/${e}/${r}/get/${be(n||"HEAD")}.tar.gz`,extract:t=>{let[,e,r,n]=t.pathname.split("/",4);if(!["get"].includes(n)&&(r&&r.endsWith(".git")&&(r=r.slice(0,-4)),!(!e||!r)))return{user:e,project:r,committish:t.hash.slice(1)}}};$t.gitlab={protocols:["git+ssh:","git+https:","ssh:","https:"],domain:"gitlab.com",treepath:"tree",blobpath:"tree",editpath:"-/edit",httpstemplate:({auth:t,domain:e,user:r,project:n,committish:o})=>`git+https://${ie(t,"@")}${e}/${r}/${n}.git${ie("#",o)}`,tarballtemplate:({domain:t,user:e,project:r,committish:n})=>`https://${t}/${e}/${r}/repository/archive.tar.gz?ref=${be(n||"HEAD")}`,extract:t=>{let e=t.pathname.slice(1);if(e.includes("/-/")||e.includes("/archive.tar.gz"))return;let r=e.split("/"),n=r.pop();n.endsWith(".git")&&(n=n.slice(0,-4));let o=r.join("/");if(!(!o||!n))return{user:o,project:n,committish:t.hash.slice(1)}}};$t.gist={protocols:["git:","git+ssh:","git+https:","ssh:","https:"],domain:"gist.github.com",editpath:"edit",sshtemplate:({domain:t,project:e,committish:r})=>`git@${t}:${e}.git${ie("#",r)}`,sshurltemplate:({domain:t,project:e,committish:r})=>`git+ssh://git@${t}/${e}.git${ie("#",r)}`,edittemplate:({domain:t,user:e,project:r,committish:n,editpath:o})=>`https://${t}/${e}/${r}${ie("/",be(n))}/${o}`,browsetemplate:({domain:t,project:e,committish:r})=>`https://${t}/${e}${ie("/",be(r))}`,browsetreetemplate:({domain:t,project:e,committish:r,path:n,hashformat:o})=>`https://${t}/${e}${ie("/",be(r))}${ie("#",o(n))}`,browseblobtemplate:({domain:t,project:e,committish:r,path:n,hashformat:o})=>`https://${t}/${e}${ie("/",be(r))}${ie("#",o(n))}`,docstemplate:({domain:t,project:e,committish:r})=>`https://${t}/${e}${ie("/",be(r))}`,httpstemplate:({domain:t,project:e,committish:r})=>`git+https://${t}/${e}.git${ie("#",r)}`,filetemplate:({user:t,project:e,committish:r,path:n})=>`https://gist.githubusercontent.com/${t}/${e}/raw${ie("/",be(r))}/${n}`,shortcuttemplate:({type:t,project:e,committish:r})=>`${t}:${e}${ie("#",r)}`,pathtemplate:({project:t,committish:e})=>`${t}${ie("#",e)}`,bugstemplate:({domain:t,project:e})=>`https://${t}/${e}`,gittemplate:({domain:t,project:e,committish:r})=>`git://${t}/${e}.git${ie("#",r)}`,tarballtemplate:({project:t,committish:e})=>`https://codeload.github.com/gist/${t}/tar.gz/${be(e||"HEAD")}`,extract:t=>{let[,e,r,n]=t.pathname.split("/",4);if(n!=="raw"){if(!r){if(!e)return;r=e,e=null}return r.endsWith(".git")&&(r=r.slice(0,-4)),{user:e,project:r,committish:t.hash.slice(1)}}},hashformat:function(t){return t&&"file-"+gf(t)}};$t.sourcehut={protocols:["git+ssh:","https:"],domain:"git.sr.ht",treepath:"tree",blobpath:"tree",filetemplate:({domain:t,user:e,project:r,committish:n,path:o})=>`https://${t}/${e}/${r}/blob/${be(n)||"HEAD"}/${o}`,httpstemplate:({domain:t,user:e,project:r,committish:n})=>`https://${t}/${e}/${r}.git${ie("#",n)}`,tarballtemplate:({domain:t,user:e,project:r,committish:n})=>`https://${t}/${e}/${r}/archive/${be(n)||"HEAD"}.tar.gz`,bugstemplate:({user:t,project:e})=>null,extract:t=>{let[,e,r,n]=t.pathname.split("/",4);if(!["archive"].includes(n)&&(r&&r.endsWith(".git")&&(r=r.slice(0,-4)),!(!e||!r)))return{user:e,project:r,committish:t.hash.slice(1)}}};for(let[t,e]of Object.entries($t))$t[t]=Object.assign({},Iy,e);bf.exports=$t});var to=L((nE,Rf)=>{var Ly=Ne("url"),eo=(t,e,r)=>{let n=t.indexOf(r);return t.lastIndexOf(e,n>-1?n:1/0)},_f=t=>{try{return new Ly.URL(t)}catch{}},Py=(t,e)=>{let r=t.indexOf(":"),n=t.slice(0,r+1);if(Object.prototype.hasOwnProperty.call(e,n))return t;let o=t.indexOf("@");return o>-1?o>r?`git+ssh://${t}`:t:t.indexOf("//")===r+1?t:`${t.slice(0,r+1)}//${t.slice(r+1)}`},Ny=t=>{let e=eo(t,"@","#"),r=eo(t,":","#");return r>e&&(t=t.slice(0,r)+"/"+t.slice(r+1)),eo(t,":","#")===-1&&t.indexOf("//")===-1&&(t=`git+ssh://${t}`),t};Rf.exports=(t,e)=>{let r=e?Py(t,e):t;return _f(r)||_f(Ny(r))}});var wf=L((sE,Sf)=>{"use strict";var Hy=to(),Dy=t=>{let e=t.indexOf("#"),r=t.indexOf("/"),n=t.indexOf("/",r+1),o=t.indexOf(":"),a=/\s/.exec(t),l=t.indexOf("@"),h=!a||e>-1&&a.index>e,c=l===-1||e>-1&&l>e,f=o===-1||e>-1&&o>e,m=n===-1||e>-1&&n>e,p=r>0,g=e>-1?t[e-1]!=="/":!t.endsWith("/"),b=!t.startsWith(".");return h&&p&&g&&b&&c&&f&&m};Sf.exports=(t,e,{gitHosts:r,protocols:n})=>{if(!t)return;let o=Dy(t)?`github:${t}`:t,a=Hy(o,n);if(!a)return;let l=r.byShortcut[a.protocol],h=r.byDomain[a.hostname.startsWith("www.")?a.hostname.slice(4):a.hostname],c=l||h;if(!c)return;let f=r[l||h],m=null;n[a.protocol]?.auth&&(a.username||a.password)&&(m=`${a.username}${a.password?":"+a.password:""}`);let p=null,g=null,b=null,R=null;try{if(l){let w=a.pathname.startsWith("/")?a.pathname.slice(1):a.pathname,v=w.indexOf("@");v>-1&&(w=w.slice(v+1));let x=w.lastIndexOf("/");x>-1?(g=decodeURIComponent(w.slice(0,x)),g||(g=null),b=decodeURIComponent(w.slice(x+1))):b=decodeURIComponent(w),b.endsWith(".git")&&(b=b.slice(0,-4)),a.hash&&(p=decodeURIComponent(a.hash.slice(1))),R="shortcut"}else{if(!f.protocols.includes(a.protocol))return;let w=f.extract(a);if(!w)return;g=w.user&&decodeURIComponent(w.user),b=decodeURIComponent(w.project),p=decodeURIComponent(w.committish),R=n[a.protocol]?.name||a.protocol.slice(0,-1)}}catch(w){if(w instanceof URIError)return;throw w}return[c,g,m,b,p,R,e]}});var Af=L((iE,Ef)=>{"use strict";var{LRUCache:By}=mf(),qy=yf(),Fy=wf(),Uy=to(),ro=new By({max:1e3}),ys=class t{constructor(e,r,n,o,a,l,h={}){Object.assign(this,t.#t[e],{type:e,user:r,auth:n,project:o,committish:a,default:l,opts:h})}static#t={byShortcut:{},byDomain:{}};static#n={"git+ssh:":{name:"sshurl"},"ssh:":{name:"sshurl"},"git+https:":{name:"https",auth:!0},"git:":{auth:!0},"http:":{auth:!0},"https:":{auth:!0},"git+http:":{auth:!0}};static addHost(e,r){t.#t[e]=r,t.#t.byDomain[r.domain]=e,t.#t.byShortcut[`${e}:`]=e,t.#n[`${e}:`]={name:e}}static fromUrl(e,r){if(typeof e!="string")return;let n=e+JSON.stringify(r||{});if(!ro.has(n)){let o=Fy(e,r,{gitHosts:t.#t,protocols:t.#n});ro.set(n,o?new t(...o):void 0)}return ro.get(n)}static parseUrl(e){return Uy(e)}#e(e,r){if(typeof e!="function")return null;let n={...this,...this.opts,...r};n.path||(n.path=""),n.path.startsWith("/")&&(n.path=n.path.slice(1)),n.noCommittish&&(n.committish=null);let o=e(n);return n.noGitPlus&&o.startsWith("git+")?o.slice(4):o}hash(){return this.committish?`#${this.committish}`:""}ssh(e){return this.#e(this.sshtemplate,e)}sshurl(e){return this.#e(this.sshurltemplate,e)}browse(e,...r){return typeof e!="string"?this.#e(this.browsetemplate,e):typeof r[0]!="string"?this.#e(this.browsetreetemplate,{...r[0],path:e}):this.#e(this.browsetreetemplate,{...r[1],fragment:r[0],path:e})}browseFile(e,...r){return typeof r[0]!="string"?this.#e(this.browseblobtemplate,{...r[0],path:e}):this.#e(this.browseblobtemplate,{...r[1],fragment:r[0],path:e})}docs(e){return this.#e(this.docstemplate,e)}bugs(e){return this.#e(this.bugstemplate,e)}https(e){return this.#e(this.httpstemplate,e)}git(e){return this.#e(this.gittemplate,e)}shortcut(e){return this.#e(this.shortcuttemplate,e)}path(e){return this.#e(this.pathtemplate,e)}tarball(e){return this.#e(this.tarballtemplate,{...e,noCommittish:!1})}file(e,r){return this.#e(this.filetemplate,{...r,path:e})}edit(e,r){return this.#e(this.edittemplate,{...r,path:e})}getDefaultRepresentation(){return this.default}toString(e){return this.default&&typeof this[this.default]=="function"?this[this.default](e):this.sshurl(e)}};for(let[t,e]of Object.entries(qy))ys.addHost(t,e);Ef.exports=ys});var un=L((bE,qf)=>{"use strict";var et="\\\\/",Nf=`[^${et}]`,pt="\\.",Jy="\\+",e_="\\?",ws="\\/",t_="(?=.)",Hf="[^/]",co=`(?:${ws}|$)`,Df=`(?:^|${ws})`,fo=`${pt}{1,2}${co}`,r_=`(?!${pt})`,n_=`(?!${Df}${fo})`,s_=`(?!${pt}{0,1}${co})`,i_=`(?!${fo})`,o_=`[^.${ws}]`,a_=`${Hf}*?`,l_="/",Bf={DOT_LITERAL:pt,PLUS_LITERAL:Jy,QMARK_LITERAL:e_,SLASH_LITERAL:ws,ONE_CHAR:t_,QMARK:Hf,END_ANCHOR:co,DOTS_SLASH:fo,NO_DOT:r_,NO_DOTS:n_,NO_DOT_SLASH:s_,NO_DOTS_SLASH:i_,QMARK_NO_DOT:o_,STAR:a_,START_ANCHOR:Df,SEP:l_},u_={...Bf,SLASH_LITERAL:`[${et}]`,QMARK:Nf,STAR:`${Nf}*?`,DOTS_SLASH:`${pt}{1,2}(?:[${et}]|$)`,NO_DOT:`(?!${pt})`,NO_DOTS:`(?!(?:^|[${et}])${pt}{1,2}(?:[${et}]|$))`,NO_DOT_SLASH:`(?!${pt}{0,1}(?:[${et}]|$))`,NO_DOTS_SLASH:`(?!${pt}{1,2}(?:[${et}]|$))`,QMARK_NO_DOT:`[^.${et}]`,START_ANCHOR:`(?:^|[${et}])`,END_ANCHOR:`(?:[${et}]|$)`,SEP:"\\"},c_={alnum:"a-zA-Z0-9",alpha:"a-zA-Z",ascii:"\\x00-\\x7F",blank:" \\t",cntrl:"\\x00-\\x1F\\x7F",digit:"0-9",graph:"\\x21-\\x7E",lower:"a-z",print:"\\x20-\\x7E ",punct:"\\-!\"#$%&'()\\*+,./:;<=>?@[\\]^_`{|}~",space:" \\t\\r\\n\\v\\f",upper:"A-Z",word:"A-Za-z0-9_",xdigit:"A-Fa-f0-9"};qf.exports={MAX_LENGTH:1024*64,POSIX_REGEX_SOURCE:c_,REGEX_BACKSLASH:/\\(?![*+?^${}(|)[\]])/g,REGEX_NON_SPECIAL_CHARS:/^[^@![\].,$*+?^{}()|\\/]+/,REGEX_SPECIAL_CHARS:/[-*+?.^${}(|)[\]]/,REGEX_SPECIAL_CHARS_BACKREF:/(\\?)((\W)(\3*))/g,REGEX_SPECIAL_CHARS_GLOBAL:/([-*+?.^${}(|)[\]])/g,REGEX_REMOVE_BACKSLASH:/(?:\[.*?[^\\]\]|\\(?=.))/g,REPLACEMENTS:{"***":"*","**/**":"**","**/**/**":"**"},CHAR_0:48,CHAR_9:57,CHAR_UPPERCASE_A:65,CHAR_LOWERCASE_A:97,CHAR_UPPERCASE_Z:90,CHAR_LOWERCASE_Z:122,CHAR_LEFT_PARENTHESES:40,CHAR_RIGHT_PARENTHESES:41,CHAR_ASTERISK:42,CHAR_AMPERSAND:38,CHAR_AT:64,CHAR_BACKWARD_SLASH:92,CHAR_CARRIAGE_RETURN:13,CHAR_CIRCUMFLEX_ACCENT:94,CHAR_COLON:58,CHAR_COMMA:44,CHAR_DOT:46,CHAR_DOUBLE_QUOTE:34,CHAR_EQUAL:61,CHAR_EXCLAMATION_MARK:33,CHAR_FORM_FEED:12,CHAR_FORWARD_SLASH:47,CHAR_GRAVE_ACCENT:96,CHAR_HASH:35,CHAR_HYPHEN_MINUS:45,CHAR_LEFT_ANGLE_BRACKET:60,CHAR_LEFT_CURLY_BRACE:123,CHAR_LEFT_SQUARE_BRACKET:91,CHAR_LINE_FEED:10,CHAR_NO_BREAK_SPACE:160,CHAR_PERCENT:37,CHAR_PLUS:43,CHAR_QUESTION_MARK:63,CHAR_RIGHT_ANGLE_BRACKET:62,CHAR_RIGHT_CURLY_BRACE:125,CHAR_RIGHT_SQUARE_BRACKET:93,CHAR_SEMICOLON:59,CHAR_SINGLE_QUOTE:39,CHAR_SPACE:32,CHAR_TAB:9,CHAR_UNDERSCORE:95,CHAR_VERTICAL_LINE:124,CHAR_ZERO_WIDTH_NOBREAK_SPACE:65279,extglobChars(t){return{"!":{type:"negate",open:"(?:(?!(?:",close:`))${t.STAR})`},"?":{type:"qmark",open:"(?:",close:")?"},"+":{type:"plus",open:"(?:",close:")+"},"*":{type:"star",open:"(?:",close:")*"},"@":{type:"at",open:"(?:",close:")"}}},globChars(t){return t===!0?u_:Bf}}});var Es=L(De=>{"use strict";var{REGEX_BACKSLASH:f_,REGEX_REMOVE_BACKSLASH:h_,REGEX_SPECIAL_CHARS:d_,REGEX_SPECIAL_CHARS_GLOBAL:p_}=un();De.isObject=t=>t!==null&&typeof t=="object"&&!Array.isArray(t);De.hasRegexChars=t=>d_.test(t);De.isRegexChar=t=>t.length===1&&De.hasRegexChars(t);De.escapeRegex=t=>t.replace(p_,"\\$1");De.toPosixSlashes=t=>t.replace(f_,"/");De.removeBackslashes=t=>t.replace(h_,e=>e==="\\"?"":e);De.escapeLast=(t,e,r)=>{let n=t.lastIndexOf(e,r);return n===-1?t:t[n-1]==="\\"?De.escapeLast(t,e,n-1):`${t.slice(0,n)}\\${t.slice(n)}`};De.removePrefix=(t,e={})=>{let r=t;return r.startsWith("./")&&(r=r.slice(2),e.prefix="./"),r};De.wrapOutput=(t,e={},r={})=>{let n=r.contains?"":"^",o=r.contains?"":"$",a=`${n}(?:${t})${o}`;return e.negated===!0&&(a=`(?:^(?!${a}).*$)`),a};De.basename=(t,{windows:e}={})=>{let r=t.split(e?/[\\/]/:"/"),n=r[r.length-1];return n===""?r[r.length-2]:n}});var Gf=L((_E,jf)=>{"use strict";var Ff=Es(),{CHAR_ASTERISK:ho,CHAR_AT:m_,CHAR_BACKWARD_SLASH:cn,CHAR_COMMA:g_,CHAR_DOT:po,CHAR_EXCLAMATION_MARK:mo,CHAR_FORWARD_SLASH:zf,CHAR_LEFT_CURLY_BRACE:go,CHAR_LEFT_PARENTHESES:bo,CHAR_LEFT_SQUARE_BRACKET:b_,CHAR_PLUS:y_,CHAR_QUESTION_MARK:Uf,CHAR_RIGHT_CURLY_BRACE:__,CHAR_RIGHT_PARENTHESES:Mf,CHAR_RIGHT_SQUARE_BRACKET:R_}=un(),Wf=t=>t===zf||t===cn,kf=t=>{t.isPrefix!==!0&&(t.depth=t.isGlobstar?1/0:1)},S_=(t,e)=>{let r=e||{},n=t.length-1,o=r.parts===!0||r.scanToEnd===!0,a=[],l=[],h=[],c=t,f=-1,m=0,p=0,g=!1,b=!1,R=!1,w=!1,v=!1,x=!1,O=!1,F=!1,C=!1,$=!1,P=0,D,U,M={value:"",depth:0,isGlob:!1},_=()=>f>=n,ne=()=>c.charCodeAt(f+1),K=()=>(D=U,c.charCodeAt(++f));for(;f<n;){U=K();let Y;if(U===cn){O=M.backslashes=!0,U=K(),U===go&&(x=!0);continue}if(x===!0||U===go){for(P++;_()!==!0&&(U=K());){if(U===cn){O=M.backslashes=!0,K();continue}if(U===go){P++;continue}if(x!==!0&&U===po&&(U=K())===po){if(g=M.isBrace=!0,R=M.isGlob=!0,$=!0,o===!0)continue;break}if(x!==!0&&U===g_){if(g=M.isBrace=!0,R=M.isGlob=!0,$=!0,o===!0)continue;break}if(U===__&&(P--,P===0)){x=!1,g=M.isBrace=!0,$=!0;break}}if(o===!0)continue;break}if(U===zf){if(a.push(f),l.push(M),M={value:"",depth:0,isGlob:!1},$===!0)continue;if(D===po&&f===m+1){m+=2;continue}p=f+1;continue}if(r.noext!==!0&&(U===y_||U===m_||U===ho||U===Uf||U===mo)===!0&&ne()===bo){if(R=M.isGlob=!0,w=M.isExtglob=!0,$=!0,U===mo&&f===m&&(C=!0),o===!0){for(;_()!==!0&&(U=K());){if(U===cn){O=M.backslashes=!0,U=K();continue}if(U===Mf){R=M.isGlob=!0,$=!0;break}}continue}break}if(U===ho){if(D===ho&&(v=M.isGlobstar=!0),R=M.isGlob=!0,$=!0,o===!0)continue;break}if(U===Uf){if(R=M.isGlob=!0,$=!0,o===!0)continue;break}if(U===b_){for(;_()!==!0&&(Y=K());){if(Y===cn){O=M.backslashes=!0,K();continue}if(Y===R_){b=M.isBracket=!0,R=M.isGlob=!0,$=!0;break}}if(o===!0)continue;break}if(r.nonegate!==!0&&U===mo&&f===m){F=M.negated=!0,m++;continue}if(r.noparen!==!0&&U===bo){if(R=M.isGlob=!0,o===!0){for(;_()!==!0&&(U=K());){if(U===bo){O=M.backslashes=!0,U=K();continue}if(U===Mf){$=!0;break}}continue}break}if(R===!0){if($=!0,o===!0)continue;break}}r.noext===!0&&(w=!1,R=!1);let Z=c,E="",T="";m>0&&(E=c.slice(0,m),c=c.slice(m),p-=m),Z&&R===!0&&p>0?(Z=c.slice(0,p),T=c.slice(p)):R===!0?(Z="",T=c):Z=c,Z&&Z!==""&&Z!=="/"&&Z!==c&&Wf(Z.charCodeAt(Z.length-1))&&(Z=Z.slice(0,-1)),r.unescape===!0&&(T&&(T=Ff.removeBackslashes(T)),Z&&O===!0&&(Z=Ff.removeBackslashes(Z)));let pe={prefix:E,input:t,start:m,base:Z,glob:T,isBrace:g,isBracket:b,isGlob:R,isExtglob:w,isGlobstar:v,negated:F,negatedExtglob:C};if(r.tokens===!0&&(pe.maxDepth=0,Wf(U)||l.push(M),pe.tokens=l),r.parts===!0||r.tokens===!0){let Y;for(let J=0;J<a.length;J++){let Re=Y?Y+1:m,me=a[J],ve=t.slice(Re,me);r.tokens&&(J===0&&m!==0?(l[J].isPrefix=!0,l[J].value=E):l[J].value=ve,kf(l[J]),pe.maxDepth+=l[J].depth),(J!==0||ve!=="")&&h.push(ve),Y=me}if(Y&&Y+1<t.length){let J=t.slice(Y+1);h.push(J),r.tokens&&(l[l.length-1].value=J,kf(l[l.length-1]),pe.maxDepth+=l[l.length-1].depth)}pe.slashes=a,pe.parts=h}return pe};jf.exports=S_});var Qf=L((RE,Yf)=>{"use strict";var As=un(),tt=Es(),{MAX_LENGTH:Ts,POSIX_REGEX_SOURCE:w_,REGEX_NON_SPECIAL_CHARS:E_,REGEX_SPECIAL_CHARS_BACKREF:A_,REPLACEMENTS:Vf}=As,T_=(t,e)=>{if(typeof e.expandRange=="function")return e.expandRange(...t,e);t.sort();let r=`[${t.join("-")}]`;try{new RegExp(r)}catch{return t.map(o=>tt.escapeRegex(o)).join("..")}return r},xr=(t,e)=>`Missing ${t}: "${e}" - use "\\\\${e}" to match literal characters`,yo=(t,e)=>{if(typeof t!="string")throw new TypeError("Expected a string");t=Vf[t]||t;let r={...e},n=typeof r.maxLength=="number"?Math.min(Ts,r.maxLength):Ts,o=t.length;if(o>n)throw new SyntaxError(`Input length: ${o}, exceeds maximum allowed length: ${n}`);let a={type:"bos",value:"",output:r.prepend||""},l=[a],h=r.capture?"":"?:",c=As.globChars(r.windows),f=As.extglobChars(c),{DOT_LITERAL:m,PLUS_LITERAL:p,SLASH_LITERAL:g,ONE_CHAR:b,DOTS_SLASH:R,NO_DOT:w,NO_DOT_SLASH:v,NO_DOTS_SLASH:x,QMARK:O,QMARK_NO_DOT:F,STAR:C,START_ANCHOR:$}=c,P=N=>`(${h}(?:(?!${$}${N.dot?R:m}).)*?)`,D=r.dot?"":w,U=r.dot?O:F,M=r.bash===!0?P(r):C;r.capture&&(M=`(${M})`),typeof r.noext=="boolean"&&(r.noextglob=r.noext);let _={input:t,index:-1,start:0,dot:r.dot===!0,consumed:"",output:"",prefix:"",backtrack:!1,negated:!1,brackets:0,braces:0,parens:0,quotes:0,globstar:!1,tokens:l};t=tt.removePrefix(t,_),o=t.length;let ne=[],K=[],Z=[],E=a,T,pe=()=>_.index===o-1,Y=_.peek=(N=1)=>t[_.index+N],J=_.advance=()=>t[++_.index]||"",Re=()=>t.slice(_.index+1),me=(N="",re=0)=>{_.consumed+=N,_.index+=re},ve=N=>{_.output+=N.output!=null?N.output:N.value,me(N.value)},dn=()=>{let N=1;for(;Y()==="!"&&(Y(2)!=="("||Y(3)==="?");)J(),_.start++,N++;return N%2===0?!1:(_.negated=!0,_.start++,!0)},Jt=N=>{_[N]++,Z.push(N)},nt=N=>{_[N]--,Z.pop()},z=N=>{if(E.type==="globstar"){let re=_.braces>0&&(N.type==="comma"||N.type==="brace"),I=N.extglob===!0||ne.length&&(N.type==="pipe"||N.type==="paren");N.type!=="slash"&&N.type!=="paren"&&!re&&!I&&(_.output=_.output.slice(0,-E.output.length),E.type="star",E.value="*",E.output=M,_.output+=E.output)}if(ne.length&&N.type!=="paren"&&(ne[ne.length-1].inner+=N.value),(N.value||N.output)&&ve(N),E&&E.type==="text"&&N.type==="text"){E.output=(E.output||E.value)+N.value,E.value+=N.value;return}N.prev=E,l.push(N),E=N},Se=(N,re)=>{let I={...f[re],conditions:1,inner:""};I.prev=E,I.parens=_.parens,I.output=_.output;let V=(r.capture?"(":"")+I.open;Jt("parens"),z({type:N,value:re,output:_.output?"":b}),z({type:"paren",extglob:!0,value:J(),output:V}),ne.push(I)},Ns=N=>{let re=N.close+(r.capture?")":""),I;if(N.type==="negate"){let V=M;if(N.inner&&N.inner.length>1&&N.inner.includes("/")&&(V=P(r)),(V!==M||pe()||/^\)+$/.test(Re()))&&(re=N.close=`)$))${V}`),N.inner.includes("*")&&(I=Re())&&/^\.[^\\/.]+$/.test(I)){let le=yo(I,{...e,fastpaths:!1}).output;re=N.close=`)${le})${V})`}N.prev.type==="bos"&&(_.negatedExtglob=!0)}z({type:"paren",extglob:!0,value:T,output:re}),nt("parens")};if(r.fastpaths!==!1&&!/(^[*!]|[/()[\]{}"])/.test(t)){let N=!1,re=t.replace(A_,(I,V,le,we,fe,It)=>we==="\\"?(N=!0,I):we==="?"?V?V+we+(fe?O.repeat(fe.length):""):It===0?U+(fe?O.repeat(fe.length):""):O.repeat(le.length):we==="."?m.repeat(le.length):we==="*"?V?V+we+(fe?M:""):M:V?I:`\\${I}`);return N===!0&&(r.unescape===!0?re=re.replace(/\\/g,""):re=re.replace(/\\+/g,I=>I.length%2===0?"\\\\":I?"\\":"")),re===t&&r.contains===!0?(_.output=t,_):(_.output=tt.wrapOutput(re,_,e),_)}for(;!pe();){if(T=J(),T==="\0")continue;if(T==="\\"){let I=Y();if(I==="/"&&r.bash!==!0||I==="."||I===";")continue;if(!I){T+="\\",z({type:"text",value:T});continue}let V=/^\\+/.exec(Re()),le=0;if(V&&V[0].length>2&&(le=V[0].length,_.index+=le,le%2!==0&&(T+="\\")),r.unescape===!0?T=J():T+=J(),_.brackets===0){z({type:"text",value:T});continue}}if(_.brackets>0&&(T!=="]"||E.value==="["||E.value==="[^")){if(r.posix!==!1&&T===":"){let I=E.value.slice(1);if(I.includes("[")&&(E.posix=!0,I.includes(":"))){let V=E.value.lastIndexOf("["),le=E.value.slice(0,V),we=E.value.slice(V+2),fe=w_[we];if(fe){E.value=le+fe,_.backtrack=!0,J(),!a.output&&l.indexOf(E)===1&&(a.output=b);continue}}}(T==="["&&Y()!==":"||T==="-"&&Y()==="]")&&(T=`\\${T}`),T==="]"&&(E.value==="["||E.value==="[^")&&(T=`\\${T}`),r.posix===!0&&T==="!"&&E.value==="["&&(T="^"),E.value+=T,ve({value:T});continue}if(_.quotes===1&&T!=='"'){T=tt.escapeRegex(T),E.value+=T,ve({value:T});continue}if(T==='"'){_.quotes=_.quotes===1?0:1,r.keepQuotes===!0&&z({type:"text",value:T});continue}if(T==="("){Jt("parens"),z({type:"paren",value:T});continue}if(T===")"){if(_.parens===0&&r.strictBrackets===!0)throw new SyntaxError(xr("opening","("));let I=ne[ne.length-1];if(I&&_.parens===I.parens+1){Ns(ne.pop());continue}z({type:"paren",value:T,output:_.parens?")":"\\)"}),nt("parens");continue}if(T==="["){if(r.nobracket===!0||!Re().includes("]")){if(r.nobracket!==!0&&r.strictBrackets===!0)throw new SyntaxError(xr("closing","]"));T=`\\${T}`}else Jt("brackets");z({type:"bracket",value:T});continue}if(T==="]"){if(r.nobracket===!0||E&&E.type==="bracket"&&E.value.length===1){z({type:"text",value:T,output:`\\${T}`});continue}if(_.brackets===0){if(r.strictBrackets===!0)throw new SyntaxError(xr("opening","["));z({type:"text",value:T,output:`\\${T}`});continue}nt("brackets");let I=E.value.slice(1);if(E.posix!==!0&&I[0]==="^"&&!I.includes("/")&&(T=`/${T}`),E.value+=T,ve({value:T}),r.literalBrackets===!1||tt.hasRegexChars(I))continue;let V=tt.escapeRegex(E.value);if(_.output=_.output.slice(0,-E.value.length),r.literalBrackets===!0){_.output+=V,E.value=V;continue}E.value=`(${h}${V}|${E.value})`,_.output+=E.value;continue}if(T==="{"&&r.nobrace!==!0){Jt("braces");let I={type:"brace",value:T,output:"(",outputIndex:_.output.length,tokensIndex:_.tokens.length};K.push(I),z(I);continue}if(T==="}"){let I=K[K.length-1];if(r.nobrace===!0||!I){z({type:"text",value:T,output:T});continue}let V=")";if(I.dots===!0){let le=l.slice(),we=[];for(let fe=le.length-1;fe>=0&&(l.pop(),le[fe].type!=="brace");fe--)le[fe].type!=="dots"&&we.unshift(le[fe].value);V=T_(we,r),_.backtrack=!0}if(I.comma!==!0&&I.dots!==!0){let le=_.output.slice(0,I.outputIndex),we=_.tokens.slice(I.tokensIndex);I.value=I.output="\\{",T=V="\\}",_.output=le;for(let fe of we)_.output+=fe.output||fe.value}z({type:"brace",value:T,output:V}),nt("braces"),K.pop();continue}if(T==="|"){ne.length>0&&ne[ne.length-1].conditions++,z({type:"text",value:T});continue}if(T===","){let I=T,V=K[K.length-1];V&&Z[Z.length-1]==="braces"&&(V.comma=!0,I="|"),z({type:"comma",value:T,output:I});continue}if(T==="/"){if(E.type==="dot"&&_.index===_.start+1){_.start=_.index+1,_.consumed="",_.output="",l.pop(),E=a;continue}z({type:"slash",value:T,output:g});continue}if(T==="."){if(_.braces>0&&E.type==="dot"){E.value==="."&&(E.output=m);let I=K[K.length-1];E.type="dots",E.output+=T,E.value+=T,I.dots=!0;continue}if(_.braces+_.parens===0&&E.type!=="bos"&&E.type!=="slash"){z({type:"text",value:T,output:m});continue}z({type:"dot",value:T,output:m});continue}if(T==="?"){if(!(E&&E.value==="(")&&r.noextglob!==!0&&Y()==="("&&Y(2)!=="?"){Se("qmark",T);continue}if(E&&E.type==="paren"){let V=Y(),le=T;(E.value==="("&&!/[!=<:]/.test(V)||V==="<"&&!/<([!=]|\w+>)/.test(Re()))&&(le=`\\${T}`),z({type:"text",value:T,output:le});continue}if(r.dot!==!0&&(E.type==="slash"||E.type==="bos")){z({type:"qmark",value:T,output:F});continue}z({type:"qmark",value:T,output:O});continue}if(T==="!"){if(r.noextglob!==!0&&Y()==="("&&(Y(2)!=="?"||!/[!=<:]/.test(Y(3)))){Se("negate",T);continue}if(r.nonegate!==!0&&_.index===0){dn();continue}}if(T==="+"){if(r.noextglob!==!0&&Y()==="("&&Y(2)!=="?"){Se("plus",T);continue}if(E&&E.value==="("||r.regex===!1){z({type:"plus",value:T,output:p});continue}if(E&&(E.type==="bracket"||E.type==="paren"||E.type==="brace")||_.parens>0){z({type:"plus",value:T});continue}z({type:"plus",value:p});continue}if(T==="@"){if(r.noextglob!==!0&&Y()==="("&&Y(2)!=="?"){z({type:"at",extglob:!0,value:T,output:""});continue}z({type:"text",value:T});continue}if(T!=="*"){(T==="$"||T==="^")&&(T=`\\${T}`);let I=E_.exec(Re());I&&(T+=I[0],_.index+=I[0].length),z({type:"text",value:T});continue}if(E&&(E.type==="globstar"||E.star===!0)){E.type="star",E.star=!0,E.value+=T,E.output=M,_.backtrack=!0,_.globstar=!0,me(T);continue}let N=Re();if(r.noextglob!==!0&&/^\([^?]/.test(N)){Se("star",T);continue}if(E.type==="star"){if(r.noglobstar===!0){me(T);continue}let I=E.prev,V=I.prev,le=I.type==="slash"||I.type==="bos",we=V&&(V.type==="star"||V.type==="globstar");if(r.bash===!0&&(!le||N[0]&&N[0]!=="/")){z({type:"star",value:T,output:""});continue}let fe=_.braces>0&&(I.type==="comma"||I.type==="brace"),It=ne.length&&(I.type==="pipe"||I.type==="paren");if(!le&&I.type!=="paren"&&!fe&&!It){z({type:"star",value:T,output:""});continue}for(;N.slice(0,3)==="/**";){let je=t[_.index+4];if(je&&je!=="/")break;N=N.slice(3),me("/**",3)}if(I.type==="bos"&&pe()){E.type="globstar",E.value+=T,E.output=P(r),_.output=E.output,_.globstar=!0,me(T);continue}if(I.type==="slash"&&I.prev.type!=="bos"&&!we&&pe()){_.output=_.output.slice(0,-(I.output+E.output).length),I.output=`(?:${I.output}`,E.type="globstar",E.output=P(r)+(r.strictSlashes?")":"|$)"),E.value+=T,_.globstar=!0,_.output+=I.output+E.output,me(T);continue}if(I.type==="slash"&&I.prev.type!=="bos"&&N[0]==="/"){let je=N[1]!==void 0?"|$":"";_.output=_.output.slice(0,-(I.output+E.output).length),I.output=`(?:${I.output}`,E.type="globstar",E.output=`${P(r)}${g}|${g}${je})`,E.value+=T,_.output+=I.output+E.output,_.globstar=!0,me(T+J()),z({type:"slash",value:"/",output:""});continue}if(I.type==="bos"&&N[0]==="/"){E.type="globstar",E.value+=T,E.output=`(?:^|${g}|${P(r)}${g})`,_.output=E.output,_.globstar=!0,me(T+J()),z({type:"slash",value:"/",output:""});continue}_.output=_.output.slice(0,-E.output.length),E.type="globstar",E.output=P(r),E.value+=T,_.output+=E.output,_.globstar=!0,me(T);continue}let re={type:"star",value:T,output:M};if(r.bash===!0){re.output=".*?",(E.type==="bos"||E.type==="slash")&&(re.output=D+re.output),z(re);continue}if(E&&(E.type==="bracket"||E.type==="paren")&&r.regex===!0){re.output=T,z(re);continue}(_.index===_.start||E.type==="slash"||E.type==="dot")&&(E.type==="dot"?(_.output+=v,E.output+=v):r.dot===!0?(_.output+=x,E.output+=x):(_.output+=D,E.output+=D),Y()!=="*"&&(_.output+=b,E.output+=b)),z(re)}for(;_.brackets>0;){if(r.strictBrackets===!0)throw new SyntaxError(xr("closing","]"));_.output=tt.escapeLast(_.output,"["),nt("brackets")}for(;_.parens>0;){if(r.strictBrackets===!0)throw new SyntaxError(xr("closing",")"));_.output=tt.escapeLast(_.output,"("),nt("parens")}for(;_.braces>0;){if(r.strictBrackets===!0)throw new SyntaxError(xr("closing","}"));_.output=tt.escapeLast(_.output,"{"),nt("braces")}if(r.strictSlashes!==!0&&(E.type==="star"||E.type==="bracket")&&z({type:"maybe_slash",value:"",output:`${g}?`}),_.backtrack===!0){_.output="";for(let N of _.tokens)_.output+=N.output!=null?N.output:N.value,N.suffix&&(_.output+=N.suffix)}return _};yo.fastpaths=(t,e)=>{let r={...e},n=typeof r.maxLength=="number"?Math.min(Ts,r.maxLength):Ts,o=t.length;if(o>n)throw new SyntaxError(`Input length: ${o}, exceeds maximum allowed length: ${n}`);t=Vf[t]||t;let{DOT_LITERAL:a,SLASH_LITERAL:l,ONE_CHAR:h,DOTS_SLASH:c,NO_DOT:f,NO_DOTS:m,NO_DOTS_SLASH:p,STAR:g,START_ANCHOR:b}=As.globChars(r.windows),R=r.dot?m:f,w=r.dot?p:f,v=r.capture?"":"?:",x={negated:!1,prefix:""},O=r.bash===!0?".*?":g;r.capture&&(O=`(${O})`);let F=D=>D.noglobstar===!0?O:`(${v}(?:(?!${b}${D.dot?c:a}).)*?)`,C=D=>{switch(D){case"*":return`${R}${h}${O}`;case".*":return`${a}${h}${O}`;case"*.*":return`${R}${O}${a}${h}${O}`;case"*/*":return`${R}${O}${l}${h}${w}${O}`;case"**":return R+F(r);case"**/*":return`(?:${R}${F(r)}${l})?${w}${h}${O}`;case"**/*.*":return`(?:${R}${F(r)}${l})?${w}${O}${a}${h}${O}`;case"**/.*":return`(?:${R}${F(r)}${l})?${a}${h}${O}`;default:{let U=/^(.*?)\.(\w+)$/.exec(D);if(!U)return;let M=C(U[1]);return M?M+a+U[2]:void 0}}},$=tt.removePrefix(t,x),P=C($);return P&&r.strictSlashes!==!0&&(P+=`${l}?`),P};Yf.exports=yo});var Zf=L((SE,Xf)=>{"use strict";var C_=Gf(),_o=Qf(),Kf=Es(),x_=un(),v_=t=>t&&typeof t=="object"&&!Array.isArray(t),ge=(t,e,r=!1)=>{if(Array.isArray(t)){let m=t.map(g=>ge(g,e,r));return g=>{for(let b of m){let R=b(g);if(R)return R}return!1}}let n=v_(t)&&t.tokens&&t.input;if(t===""||typeof t!="string"&&!n)throw new TypeError("Expected pattern to be a non-empty string");let o=e||{},a=o.windows,l=n?ge.compileRe(t,e):ge.makeRe(t,e,!1,!0),h=l.state;delete l.state;let c=()=>!1;if(o.ignore){let m={...e,ignore:null,onMatch:null,onResult:null};c=ge(o.ignore,m,r)}let f=(m,p=!1)=>{let{isMatch:g,match:b,output:R}=ge.test(m,l,e,{glob:t,posix:a}),w={glob:t,state:h,regex:l,posix:a,input:m,output:R,match:b,isMatch:g};return typeof o.onResult=="function"&&o.onResult(w),g===!1?(w.isMatch=!1,p?w:!1):c(m)?(typeof o.onIgnore=="function"&&o.onIgnore(w),w.isMatch=!1,p?w:!1):(typeof o.onMatch=="function"&&o.onMatch(w),p?w:!0)};return r&&(f.state=h),f};ge.test=(t,e,r,{glob:n,posix:o}={})=>{if(typeof t!="string")throw new TypeError("Expected input to be a string");if(t==="")return{isMatch:!1,output:""};let a=r||{},l=a.format||(o?Kf.toPosixSlashes:null),h=t===n,c=h&&l?l(t):t;return h===!1&&(c=l?l(t):t,h=c===n),(h===!1||a.capture===!0)&&(a.matchBase===!0||a.basename===!0?h=ge.matchBase(t,e,r,o):h=e.exec(c)),{isMatch:!!h,match:h,output:c}};ge.matchBase=(t,e,r)=>(e instanceof RegExp?e:ge.makeRe(e,r)).test(Kf.basename(t));ge.isMatch=(t,e,r)=>ge(e,r)(t);ge.parse=(t,e)=>Array.isArray(t)?t.map(r=>ge.parse(r,e)):_o(t,{...e,fastpaths:!1});ge.scan=(t,e)=>C_(t,e);ge.compileRe=(t,e,r=!1,n=!1)=>{if(r===!0)return t.output;let o=e||{},a=o.contains?"":"^",l=o.contains?"":"$",h=`${a}(?:${t.output})${l}`;t&&t.negated===!0&&(h=`^(?!${h}).*$`);let c=ge.toRegex(h,e);return n===!0&&(c.state=t),c};ge.makeRe=(t,e={},r=!1,n=!1)=>{if(!t||typeof t!="string")throw new TypeError("Expected a non-empty string");let o={negated:!1,fastpaths:!0};return e.fastpaths!==!1&&(t[0]==="."||t[0]==="*")&&(o.output=_o.fastpaths(t,e)),o.output||(o=_o(t,e)),ge.compileRe(o,e,r,n)};ge.toRegex=(t,e)=>{try{let r=e||{};return new RegExp(t,r.flags||(r.nocase?"i":""))}catch(r){if(e&&e.debug===!0)throw r;return/$^/}};ge.constants=x_;Xf.exports=ge});var rh=L((wE,th)=>{"use strict";var Jf=Zf(),O_=()=>{if(typeof navigator<"u"&&navigator.platform){let t=navigator.platform.toLowerCase();return t==="win32"||t==="windows"}return typeof process<"u"&&process.platform?process.platform==="win32":!1};function eh(t,e,r=!1){return e&&(e.windows===null||e.windows===void 0)&&(e={...e,windows:O_()}),Jf(t,e,r)}Object.assign(eh,Jf);th.exports=eh});var sh=L((EE,nh)=>{"use strict";var Kt=class t extends Error{constructor(e,r,n){super("[ParserError] "+e,r,n),this.name="ParserError",this.code="ParserError",Error.captureStackTrace&&Error.captureStackTrace(this,t)}},Cs=class{constructor(e){this.parser=e,this.buf="",this.returned=null,this.result=null,this.resultTable=null,this.resultArr=null}},fn=class{constructor(){this.pos=0,this.col=0,this.line=0,this.obj={},this.ctx=this.obj,this.stack=[],this._buf="",this.char=null,this.ii=0,this.state=new Cs(this.parseStart)}parse(e){if(e.length===0||e.length==null)return;this._buf=String(e),this.ii=-1,this.char=-1;let r;for(;r===!1||this.nextChar();)r=this.runOne();this._buf=null}nextChar(){return this.char===10&&(++this.line,this.col=-1),++this.ii,this.char=this._buf.codePointAt(this.ii),++this.pos,++this.col,this.haveBuffer()}haveBuffer(){return this.ii<this._buf.length}runOne(){return this.state.parser.call(this,this.state.returned)}finish(){this.char=1114112;let e;do e=this.state.parser,this.runOne();while(this.state.parser!==e);return this.ctx=null,this.state=null,this._buf=null,this.obj}next(e){if(typeof e!="function")throw new Kt("Tried to set state to non-existent state: "+JSON.stringify(e));this.state.parser=e}goto(e){return this.next(e),this.runOne()}call(e,r){r&&this.next(r),this.stack.push(this.state),this.state=new Cs(e)}callNow(e,r){return this.call(e,r),this.runOne()}return(e){if(this.stack.length===0)throw this.error(new Kt("Stack underflow"));e===void 0&&(e=this.state.buf),this.state=this.stack.pop(),this.state.returned=e}returnNow(e){return this.return(e),this.runOne()}consume(){if(this.char===1114112)throw this.error(new Kt("Unexpected end-of-buffer"));this.state.buf+=this._buf[this.ii]}error(e){return e.line=this.line,e.col=this.col,e.pos=this.pos,e}parseStart(){throw new Kt("Must declare a parseStart method")}};fn.END=1114112;fn.Error=Kt;nh.exports=fn});var oh=L((AE,ih)=>{"use strict";ih.exports=t=>{let e=new Date(t);if(isNaN(e))throw new TypeError("Invalid Datetime");return e}});var xs=L((TE,ah)=>{"use strict";ah.exports=(t,e)=>{for(e=String(e);e.length<t;)e="0"+e;return e}});var uh=L((CE,lh)=>{"use strict";var vr=xs(),Ro=class extends Date{constructor(e){super(e+"Z"),this.isFloating=!0}toISOString(){let e=`${this.getUTCFullYear()}-${vr(2,this.getUTCMonth()+1)}-${vr(2,this.getUTCDate())}`,r=`${vr(2,this.getUTCHours())}:${vr(2,this.getUTCMinutes())}:${vr(2,this.getUTCSeconds())}.${vr(3,this.getUTCMilliseconds())}`;return`${e}T${r}`}};lh.exports=t=>{let e=new Ro(t);if(isNaN(e))throw new TypeError("Invalid Datetime");return e}});var hh=L((xE,fh)=>{"use strict";var ch=xs(),$_=global.Date,So=class extends $_{constructor(e){super(e),this.isDate=!0}toISOString(){return`${this.getUTCFullYear()}-${ch(2,this.getUTCMonth()+1)}-${ch(2,this.getUTCDate())}`}};fh.exports=t=>{let e=new So(t);if(isNaN(e))throw new TypeError("Invalid Datetime");return e}});var ph=L((vE,dh)=>{"use strict";var vs=xs(),wo=class extends Date{constructor(e){super(`0000-01-01T${e}Z`),this.isTime=!0}toISOString(){return`${vs(2,this.getUTCHours())}:${vs(2,this.getUTCMinutes())}:${vs(2,this.getUTCSeconds())}.${vs(3,this.getUTCMilliseconds())}`}};dh.exports=t=>{let e=new wo(t);if(isNaN(e))throw new TypeError("Invalid Datetime");return e}});var mh=L((exports,module)=>{"use strict";module.exports=makeParserClass(sh());module.exports.makeParserClass=makeParserClass;var TomlError=class t extends Error{constructor(e){super(e),this.name="TomlError",Error.captureStackTrace&&Error.captureStackTrace(this,t),this.fromTOML=!0,this.wrapped=null}};TomlError.wrap=t=>{let e=new TomlError(t.message);return e.code=t.code,e.wrapped=t,e};module.exports.TomlError=TomlError;var createDateTime=oh(),createDateTimeFloat=uh(),createDate=hh(),createTime=ph(),CTRL_I=9,CTRL_J=10,CTRL_M=13,CTRL_CHAR_BOUNDARY=31,CHAR_SP=32,CHAR_QUOT=34,CHAR_NUM=35,CHAR_APOS=39,CHAR_PLUS=43,CHAR_COMMA=44,CHAR_HYPHEN=45,CHAR_PERIOD=46,CHAR_0=48,CHAR_1=49,CHAR_7=55,CHAR_9=57,CHAR_COLON=58,CHAR_EQUALS=61,CHAR_A=65,CHAR_E=69,CHAR_F=70,CHAR_T=84,CHAR_U=85,CHAR_Z=90,CHAR_LOWBAR=95,CHAR_a=97,CHAR_b=98,CHAR_e=101,CHAR_f=102,CHAR_i=105,CHAR_l=108,CHAR_n=110,CHAR_o=111,CHAR_r=114,CHAR_s=115,CHAR_t=116,CHAR_u=117,CHAR_x=120,CHAR_z=122,CHAR_LCUB=123,CHAR_RCUB=125,CHAR_LSQB=91,CHAR_BSOL=92,CHAR_RSQB=93,CHAR_DEL=127,SURROGATE_FIRST=55296,SURROGATE_LAST=57343,escapes={[CHAR_b]:"\b",[CHAR_t]:"	",[CHAR_n]:`
`,[CHAR_f]:"\f",[CHAR_r]:"\r",[CHAR_QUOT]:'"',[CHAR_BSOL]:"\\"};function isDigit(t){return t>=CHAR_0&&t<=CHAR_9}function isHexit(t){return t>=CHAR_A&&t<=CHAR_F||t>=CHAR_a&&t<=CHAR_f||t>=CHAR_0&&t<=CHAR_9}function isBit(t){return t===CHAR_1||t===CHAR_0}function isOctit(t){return t>=CHAR_0&&t<=CHAR_7}function isAlphaNumQuoteHyphen(t){return t>=CHAR_A&&t<=CHAR_Z||t>=CHAR_a&&t<=CHAR_z||t>=CHAR_0&&t<=CHAR_9||t===CHAR_APOS||t===CHAR_QUOT||t===CHAR_LOWBAR||t===CHAR_HYPHEN}function isAlphaNumHyphen(t){return t>=CHAR_A&&t<=CHAR_Z||t>=CHAR_a&&t<=CHAR_z||t>=CHAR_0&&t<=CHAR_9||t===CHAR_LOWBAR||t===CHAR_HYPHEN}var _type=Symbol("type"),_declared=Symbol("declared"),hasOwnProperty=Object.prototype.hasOwnProperty,defineProperty=Object.defineProperty,descriptor={configurable:!0,enumerable:!0,writable:!0,value:void 0};function hasKey(t,e){return hasOwnProperty.call(t,e)?!0:(e==="__proto__"&&defineProperty(t,"__proto__",descriptor),!1)}var INLINE_TABLE=Symbol("inline-table");function InlineTable(){return Object.defineProperties({},{[_type]:{value:INLINE_TABLE}})}function isInlineTable(t){return t===null||typeof t!="object"?!1:t[_type]===INLINE_TABLE}var TABLE=Symbol("table");function Table(){return Object.defineProperties({},{[_type]:{value:TABLE},[_declared]:{value:!1,writable:!0}})}function isTable(t){return t===null||typeof t!="object"?!1:t[_type]===TABLE}var _contentType=Symbol("content-type"),INLINE_LIST=Symbol("inline-list");function InlineList(t){return Object.defineProperties([],{[_type]:{value:INLINE_LIST},[_contentType]:{value:t}})}function isInlineList(t){return t===null||typeof t!="object"?!1:t[_type]===INLINE_LIST}var LIST=Symbol("list");function List(){return Object.defineProperties([],{[_type]:{value:LIST}})}function isList(t){return t===null||typeof t!="object"?!1:t[_type]===LIST}var _custom;try{let utilInspect=eval("require('util').inspect");_custom=utilInspect.custom}catch(t){}var _inspect=_custom||"inspect",BoxedBigInt=class{constructor(e){try{this.value=global.BigInt.asIntN(64,e)}catch{this.value=null}Object.defineProperty(this,_type,{value:INTEGER})}isNaN(){return this.value===null}toString(){return String(this.value)}[_inspect](){return`[BigInt: ${this.toString()}]}`}valueOf(){return this.value}},INTEGER=Symbol("integer");function Integer(t){let e=Number(t);return Object.is(e,-0)&&(e=0),global.BigInt&&!Number.isSafeInteger(e)?new BoxedBigInt(t):Object.defineProperties(new Number(e),{isNaN:{value:function(){return isNaN(this)}},[_type]:{value:INTEGER},[_inspect]:{value:()=>`[Integer: ${t}]`}})}function isInteger(t){return t===null||typeof t!="object"?!1:t[_type]===INTEGER}var FLOAT=Symbol("float");function Float(t){return Object.defineProperties(new Number(t),{[_type]:{value:FLOAT},[_inspect]:{value:()=>`[Float: ${t}]`}})}function isFloat(t){return t===null||typeof t!="object"?!1:t[_type]===FLOAT}function tomlType(t){let e=typeof t;if(e==="object"){if(t===null)return"null";if(t instanceof Date)return"datetime";if(_type in t)switch(t[_type]){case INLINE_TABLE:return"inline-table";case INLINE_LIST:return"inline-list";case TABLE:return"table";case LIST:return"list";case FLOAT:return"float";case INTEGER:return"integer"}}return e}function makeParserClass(t){class e extends t{constructor(){super(),this.ctx=this.obj=Table()}atEndOfWord(){return this.char===CHAR_NUM||this.char===CTRL_I||this.char===CHAR_SP||this.atEndOfLine()}atEndOfLine(){return this.char===t.END||this.char===CTRL_J||this.char===CTRL_M}parseStart(){if(this.char===t.END)return null;if(this.char===CHAR_LSQB)return this.call(this.parseTableOrList);if(this.char===CHAR_NUM)return this.call(this.parseComment);if(this.char===CTRL_J||this.char===CHAR_SP||this.char===CTRL_I||this.char===CTRL_M)return null;if(isAlphaNumQuoteHyphen(this.char))return this.callNow(this.parseAssignStatement);throw this.error(new TomlError(`Unknown character "${this.char}"`))}parseWhitespaceToEOL(){if(this.char===CHAR_SP||this.char===CTRL_I||this.char===CTRL_M)return null;if(this.char===CHAR_NUM)return this.goto(this.parseComment);if(this.char===t.END||this.char===CTRL_J)return this.return();throw this.error(new TomlError("Unexpected character, expected only whitespace or comments till end of line"))}parseAssignStatement(){return this.callNow(this.parseAssign,this.recordAssignStatement)}recordAssignStatement(n){let o=this.ctx,a=n.key.pop();for(let l of n.key){if(hasKey(o,l)&&(!isTable(o[l])||o[l][_declared]))throw this.error(new TomlError("Can't redefine existing key"));o=o[l]=o[l]||Table()}if(hasKey(o,a))throw this.error(new TomlError("Can't redefine existing key"));return isInteger(n.value)||isFloat(n.value)?o[a]=n.value.valueOf():o[a]=n.value,this.goto(this.parseWhitespaceToEOL)}parseAssign(){return this.callNow(this.parseKeyword,this.recordAssignKeyword)}recordAssignKeyword(n){return this.state.resultTable?this.state.resultTable.push(n):this.state.resultTable=[n],this.goto(this.parseAssignKeywordPreDot)}parseAssignKeywordPreDot(){if(this.char===CHAR_PERIOD)return this.next(this.parseAssignKeywordPostDot);if(this.char!==CHAR_SP&&this.char!==CTRL_I)return this.goto(this.parseAssignEqual)}parseAssignKeywordPostDot(){if(this.char!==CHAR_SP&&this.char!==CTRL_I)return this.callNow(this.parseKeyword,this.recordAssignKeyword)}parseAssignEqual(){if(this.char===CHAR_EQUALS)return this.next(this.parseAssignPreValue);throw this.error(new TomlError('Invalid character, expected "="'))}parseAssignPreValue(){return this.char===CHAR_SP||this.char===CTRL_I?null:this.callNow(this.parseValue,this.recordAssignValue)}recordAssignValue(n){return this.returnNow({key:this.state.resultTable,value:n})}parseComment(){do if(this.char===t.END||this.char===CTRL_J)return this.return();while(this.nextChar())}parseTableOrList(){if(this.char===CHAR_LSQB)this.next(this.parseList);else return this.goto(this.parseTable)}parseTable(){return this.ctx=this.obj,this.goto(this.parseTableNext)}parseTableNext(){return this.char===CHAR_SP||this.char===CTRL_I?null:this.callNow(this.parseKeyword,this.parseTableMore)}parseTableMore(n){if(this.char===CHAR_SP||this.char===CTRL_I)return null;if(this.char===CHAR_RSQB){if(hasKey(this.ctx,n)&&(!isTable(this.ctx[n])||this.ctx[n][_declared]))throw this.error(new TomlError("Can't redefine existing key"));return this.ctx=this.ctx[n]=this.ctx[n]||Table(),this.ctx[_declared]=!0,this.next(this.parseWhitespaceToEOL)}else if(this.char===CHAR_PERIOD){if(!hasKey(this.ctx,n))this.ctx=this.ctx[n]=Table();else if(isTable(this.ctx[n]))this.ctx=this.ctx[n];else if(isList(this.ctx[n]))this.ctx=this.ctx[n][this.ctx[n].length-1];else throw this.error(new TomlError("Can't redefine existing key"));return this.next(this.parseTableNext)}else throw this.error(new TomlError("Unexpected character, expected whitespace, . or ]"))}parseList(){return this.ctx=this.obj,this.goto(this.parseListNext)}parseListNext(){return this.char===CHAR_SP||this.char===CTRL_I?null:this.callNow(this.parseKeyword,this.parseListMore)}parseListMore(n){if(this.char===CHAR_SP||this.char===CTRL_I)return null;if(this.char===CHAR_RSQB){if(hasKey(this.ctx,n)||(this.ctx[n]=List()),isInlineList(this.ctx[n]))throw this.error(new TomlError("Can't extend an inline array"));if(isList(this.ctx[n])){let o=Table();this.ctx[n].push(o),this.ctx=o}else throw this.error(new TomlError("Can't redefine an existing key"));return this.next(this.parseListEnd)}else if(this.char===CHAR_PERIOD){if(!hasKey(this.ctx,n))this.ctx=this.ctx[n]=Table();else{if(isInlineList(this.ctx[n]))throw this.error(new TomlError("Can't extend an inline array"));if(isInlineTable(this.ctx[n]))throw this.error(new TomlError("Can't extend an inline table"));if(isList(this.ctx[n]))this.ctx=this.ctx[n][this.ctx[n].length-1];else if(isTable(this.ctx[n]))this.ctx=this.ctx[n];else throw this.error(new TomlError("Can't redefine an existing key"))}return this.next(this.parseListNext)}else throw this.error(new TomlError("Unexpected character, expected whitespace, . or ]"))}parseListEnd(n){if(this.char===CHAR_RSQB)return this.next(this.parseWhitespaceToEOL);throw this.error(new TomlError("Unexpected character, expected whitespace, . or ]"))}parseValue(){if(this.char===t.END)throw this.error(new TomlError("Key without value"));if(this.char===CHAR_QUOT)return this.next(this.parseDoubleString);if(this.char===CHAR_APOS)return this.next(this.parseSingleString);if(this.char===CHAR_HYPHEN||this.char===CHAR_PLUS)return this.goto(this.parseNumberSign);if(this.char===CHAR_i)return this.next(this.parseInf);if(this.char===CHAR_n)return this.next(this.parseNan);if(isDigit(this.char))return this.goto(this.parseNumberOrDateTime);if(this.char===CHAR_t||this.char===CHAR_f)return this.goto(this.parseBoolean);if(this.char===CHAR_LSQB)return this.call(this.parseInlineList,this.recordValue);if(this.char===CHAR_LCUB)return this.call(this.parseInlineTable,this.recordValue);throw this.error(new TomlError("Unexpected character, expecting string, number, datetime, boolean, inline array or inline table"))}recordValue(n){return this.returnNow(n)}parseInf(){if(this.char===CHAR_n)return this.next(this.parseInf2);throw this.error(new TomlError('Unexpected character, expected "inf", "+inf" or "-inf"'))}parseInf2(){if(this.char===CHAR_f)return this.state.buf==="-"?this.return(-1/0):this.return(1/0);throw this.error(new TomlError('Unexpected character, expected "inf", "+inf" or "-inf"'))}parseNan(){if(this.char===CHAR_a)return this.next(this.parseNan2);throw this.error(new TomlError('Unexpected character, expected "nan"'))}parseNan2(){if(this.char===CHAR_n)return this.return(NaN);throw this.error(new TomlError('Unexpected character, expected "nan"'))}parseKeyword(){return this.char===CHAR_QUOT?this.next(this.parseBasicString):this.char===CHAR_APOS?this.next(this.parseLiteralString):this.goto(this.parseBareKey)}parseBareKey(){do{if(this.char===t.END)throw this.error(new TomlError("Key ended without value"));if(isAlphaNumHyphen(this.char))this.consume();else{if(this.state.buf.length===0)throw this.error(new TomlError("Empty bare keys are not allowed"));return this.returnNow()}}while(this.nextChar())}parseSingleString(){return this.char===CHAR_APOS?this.next(this.parseLiteralMultiStringMaybe):this.goto(this.parseLiteralString)}parseLiteralString(){do{if(this.char===CHAR_APOS)return this.return();if(this.atEndOfLine())throw this.error(new TomlError("Unterminated string"));if(this.char===CHAR_DEL||this.char<=CTRL_CHAR_BOUNDARY&&this.char!==CTRL_I)throw this.errorControlCharInString();this.consume()}while(this.nextChar())}parseLiteralMultiStringMaybe(){return this.char===CHAR_APOS?this.next(this.parseLiteralMultiString):this.returnNow()}parseLiteralMultiString(){return this.char===CTRL_M?null:this.char===CTRL_J?this.next(this.parseLiteralMultiStringContent):this.goto(this.parseLiteralMultiStringContent)}parseLiteralMultiStringContent(){do{if(this.char===CHAR_APOS)return this.next(this.parseLiteralMultiEnd);if(this.char===t.END)throw this.error(new TomlError("Unterminated multi-line string"));if(this.char===CHAR_DEL||this.char<=CTRL_CHAR_BOUNDARY&&this.char!==CTRL_I&&this.char!==CTRL_J&&this.char!==CTRL_M)throw this.errorControlCharInString();this.consume()}while(this.nextChar())}parseLiteralMultiEnd(){return this.char===CHAR_APOS?this.next(this.parseLiteralMultiEnd2):(this.state.buf+="'",this.goto(this.parseLiteralMultiStringContent))}parseLiteralMultiEnd2(){return this.char===CHAR_APOS?this.return():(this.state.buf+="''",this.goto(this.parseLiteralMultiStringContent))}parseDoubleString(){return this.char===CHAR_QUOT?this.next(this.parseMultiStringMaybe):this.goto(this.parseBasicString)}parseBasicString(){do{if(this.char===CHAR_BSOL)return this.call(this.parseEscape,this.recordEscapeReplacement);if(this.char===CHAR_QUOT)return this.return();if(this.atEndOfLine())throw this.error(new TomlError("Unterminated string"));if(this.char===CHAR_DEL||this.char<=CTRL_CHAR_BOUNDARY&&this.char!==CTRL_I)throw this.errorControlCharInString();this.consume()}while(this.nextChar())}recordEscapeReplacement(n){return this.state.buf+=n,this.goto(this.parseBasicString)}parseMultiStringMaybe(){return this.char===CHAR_QUOT?this.next(this.parseMultiString):this.returnNow()}parseMultiString(){return this.char===CTRL_M?null:this.char===CTRL_J?this.next(this.parseMultiStringContent):this.goto(this.parseMultiStringContent)}parseMultiStringContent(){do{if(this.char===CHAR_BSOL)return this.call(this.parseMultiEscape,this.recordMultiEscapeReplacement);if(this.char===CHAR_QUOT)return this.next(this.parseMultiEnd);if(this.char===t.END)throw this.error(new TomlError("Unterminated multi-line string"));if(this.char===CHAR_DEL||this.char<=CTRL_CHAR_BOUNDARY&&this.char!==CTRL_I&&this.char!==CTRL_J&&this.char!==CTRL_M)throw this.errorControlCharInString();this.consume()}while(this.nextChar())}errorControlCharInString(){let n="\\u00";return this.char<16&&(n+="0"),n+=this.char.toString(16),this.error(new TomlError(`Control characters (codes < 0x1f and 0x7f) are not allowed in strings, use ${n} instead`))}recordMultiEscapeReplacement(n){return this.state.buf+=n,this.goto(this.parseMultiStringContent)}parseMultiEnd(){return this.char===CHAR_QUOT?this.next(this.parseMultiEnd2):(this.state.buf+='"',this.goto(this.parseMultiStringContent))}parseMultiEnd2(){return this.char===CHAR_QUOT?this.return():(this.state.buf+='""',this.goto(this.parseMultiStringContent))}parseMultiEscape(){return this.char===CTRL_M||this.char===CTRL_J?this.next(this.parseMultiTrim):this.char===CHAR_SP||this.char===CTRL_I?this.next(this.parsePreMultiTrim):this.goto(this.parseEscape)}parsePreMultiTrim(){if(this.char===CHAR_SP||this.char===CTRL_I)return null;if(this.char===CTRL_M||this.char===CTRL_J)return this.next(this.parseMultiTrim);throw this.error(new TomlError("Can't escape whitespace"))}parseMultiTrim(){return this.char===CTRL_J||this.char===CHAR_SP||this.char===CTRL_I||this.char===CTRL_M?null:this.returnNow()}parseEscape(){if(this.char in escapes)return this.return(escapes[this.char]);if(this.char===CHAR_u)return this.call(this.parseSmallUnicode,this.parseUnicodeReturn);if(this.char===CHAR_U)return this.call(this.parseLargeUnicode,this.parseUnicodeReturn);throw this.error(new TomlError("Unknown escape character: "+this.char))}parseUnicodeReturn(n){try{let o=parseInt(n,16);if(o>=SURROGATE_FIRST&&o<=SURROGATE_LAST)throw this.error(new TomlError("Invalid unicode, character in range 0xD800 - 0xDFFF is reserved"));return this.returnNow(String.fromCodePoint(o))}catch(o){throw this.error(TomlError.wrap(o))}}parseSmallUnicode(){if(isHexit(this.char)){if(this.consume(),this.state.buf.length>=4)return this.return()}else throw this.error(new TomlError("Invalid character in unicode sequence, expected hex"))}parseLargeUnicode(){if(isHexit(this.char)){if(this.consume(),this.state.buf.length>=8)return this.return()}else throw this.error(new TomlError("Invalid character in unicode sequence, expected hex"))}parseNumberSign(){return this.consume(),this.next(this.parseMaybeSignedInfOrNan)}parseMaybeSignedInfOrNan(){return this.char===CHAR_i?this.next(this.parseInf):this.char===CHAR_n?this.next(this.parseNan):this.callNow(this.parseNoUnder,this.parseNumberIntegerStart)}parseNumberIntegerStart(){return this.char===CHAR_0?(this.consume(),this.next(this.parseNumberIntegerExponentOrDecimal)):this.goto(this.parseNumberInteger)}parseNumberIntegerExponentOrDecimal(){return this.char===CHAR_PERIOD?(this.consume(),this.call(this.parseNoUnder,this.parseNumberFloat)):this.char===CHAR_E||this.char===CHAR_e?(this.consume(),this.next(this.parseNumberExponentSign)):this.returnNow(Integer(this.state.buf))}parseNumberInteger(){if(isDigit(this.char))this.consume();else{if(this.char===CHAR_LOWBAR)return this.call(this.parseNoUnder);if(this.char===CHAR_E||this.char===CHAR_e)return this.consume(),this.next(this.parseNumberExponentSign);if(this.char===CHAR_PERIOD)return this.consume(),this.call(this.parseNoUnder,this.parseNumberFloat);{let n=Integer(this.state.buf);if(n.isNaN())throw this.error(new TomlError("Invalid number"));return this.returnNow(n)}}}parseNoUnder(){if(this.char===CHAR_LOWBAR||this.char===CHAR_PERIOD||this.char===CHAR_E||this.char===CHAR_e)throw this.error(new TomlError("Unexpected character, expected digit"));if(this.atEndOfWord())throw this.error(new TomlError("Incomplete number"));return this.returnNow()}parseNoUnderHexOctBinLiteral(){if(this.char===CHAR_LOWBAR||this.char===CHAR_PERIOD)throw this.error(new TomlError("Unexpected character, expected digit"));if(this.atEndOfWord())throw this.error(new TomlError("Incomplete number"));return this.returnNow()}parseNumberFloat(){if(this.char===CHAR_LOWBAR)return this.call(this.parseNoUnder,this.parseNumberFloat);if(isDigit(this.char))this.consume();else return this.char===CHAR_E||this.char===CHAR_e?(this.consume(),this.next(this.parseNumberExponentSign)):this.returnNow(Float(this.state.buf))}parseNumberExponentSign(){if(isDigit(this.char))return this.goto(this.parseNumberExponent);if(this.char===CHAR_HYPHEN||this.char===CHAR_PLUS)this.consume(),this.call(this.parseNoUnder,this.parseNumberExponent);else throw this.error(new TomlError("Unexpected character, expected -, + or digit"))}parseNumberExponent(){if(isDigit(this.char))this.consume();else return this.char===CHAR_LOWBAR?this.call(this.parseNoUnder):this.returnNow(Float(this.state.buf))}parseNumberOrDateTime(){return this.char===CHAR_0?(this.consume(),this.next(this.parseNumberBaseOrDateTime)):this.goto(this.parseNumberOrDateTimeOnly)}parseNumberOrDateTimeOnly(){if(this.char===CHAR_LOWBAR)return this.call(this.parseNoUnder,this.parseNumberInteger);if(isDigit(this.char))this.consume(),this.state.buf.length>4&&this.next(this.parseNumberInteger);else return this.char===CHAR_E||this.char===CHAR_e?(this.consume(),this.next(this.parseNumberExponentSign)):this.char===CHAR_PERIOD?(this.consume(),this.call(this.parseNoUnder,this.parseNumberFloat)):this.char===CHAR_HYPHEN?this.goto(this.parseDateTime):this.char===CHAR_COLON?this.goto(this.parseOnlyTimeHour):this.returnNow(Integer(this.state.buf))}parseDateTimeOnly(){if(this.state.buf.length<4){if(isDigit(this.char))return this.consume();if(this.char===CHAR_COLON)return this.goto(this.parseOnlyTimeHour);throw this.error(new TomlError("Expected digit while parsing year part of a date"))}else{if(this.char===CHAR_HYPHEN)return this.goto(this.parseDateTime);throw this.error(new TomlError("Expected hyphen (-) while parsing year part of date"))}}parseNumberBaseOrDateTime(){return this.char===CHAR_b?(this.consume(),this.call(this.parseNoUnderHexOctBinLiteral,this.parseIntegerBin)):this.char===CHAR_o?(this.consume(),this.call(this.parseNoUnderHexOctBinLiteral,this.parseIntegerOct)):this.char===CHAR_x?(this.consume(),this.call(this.parseNoUnderHexOctBinLiteral,this.parseIntegerHex)):this.char===CHAR_PERIOD?this.goto(this.parseNumberInteger):isDigit(this.char)?this.goto(this.parseDateTimeOnly):this.returnNow(Integer(this.state.buf))}parseIntegerHex(){if(isHexit(this.char))this.consume();else{if(this.char===CHAR_LOWBAR)return this.call(this.parseNoUnderHexOctBinLiteral);{let n=Integer(this.state.buf);if(n.isNaN())throw this.error(new TomlError("Invalid number"));return this.returnNow(n)}}}parseIntegerOct(){if(isOctit(this.char))this.consume();else{if(this.char===CHAR_LOWBAR)return this.call(this.parseNoUnderHexOctBinLiteral);{let n=Integer(this.state.buf);if(n.isNaN())throw this.error(new TomlError("Invalid number"));return this.returnNow(n)}}}parseIntegerBin(){if(isBit(this.char))this.consume();else{if(this.char===CHAR_LOWBAR)return this.call(this.parseNoUnderHexOctBinLiteral);{let n=Integer(this.state.buf);if(n.isNaN())throw this.error(new TomlError("Invalid number"));return this.returnNow(n)}}}parseDateTime(){if(this.state.buf.length<4)throw this.error(new TomlError("Years less than 1000 must be zero padded to four characters"));return this.state.result=this.state.buf,this.state.buf="",this.next(this.parseDateMonth)}parseDateMonth(){if(this.char===CHAR_HYPHEN){if(this.state.buf.length<2)throw this.error(new TomlError("Months less than 10 must be zero padded to two characters"));return this.state.result+="-"+this.state.buf,this.state.buf="",this.next(this.parseDateDay)}else if(isDigit(this.char))this.consume();else throw this.error(new TomlError("Incomplete datetime"))}parseDateDay(){if(this.char===CHAR_T||this.char===CHAR_SP){if(this.state.buf.length<2)throw this.error(new TomlError("Days less than 10 must be zero padded to two characters"));return this.state.result+="-"+this.state.buf,this.state.buf="",this.next(this.parseStartTimeHour)}else{if(this.atEndOfWord())return this.returnNow(createDate(this.state.result+"-"+this.state.buf));if(isDigit(this.char))this.consume();else throw this.error(new TomlError("Incomplete datetime"))}}parseStartTimeHour(){return this.atEndOfWord()?this.returnNow(createDate(this.state.result)):this.goto(this.parseTimeHour)}parseTimeHour(){if(this.char===CHAR_COLON){if(this.state.buf.length<2)throw this.error(new TomlError("Hours less than 10 must be zero padded to two characters"));return this.state.result+="T"+this.state.buf,this.state.buf="",this.next(this.parseTimeMin)}else if(isDigit(this.char))this.consume();else throw this.error(new TomlError("Incomplete datetime"))}parseTimeMin(){if(this.state.buf.length<2&&isDigit(this.char))this.consume();else{if(this.state.buf.length===2&&this.char===CHAR_COLON)return this.state.result+=":"+this.state.buf,this.state.buf="",this.next(this.parseTimeSec);throw this.error(new TomlError("Incomplete datetime"))}}parseTimeSec(){if(isDigit(this.char)){if(this.consume(),this.state.buf.length===2)return this.state.result+=":"+this.state.buf,this.state.buf="",this.next(this.parseTimeZoneOrFraction)}else throw this.error(new TomlError("Incomplete datetime"))}parseOnlyTimeHour(){if(this.char===CHAR_COLON){if(this.state.buf.length<2)throw this.error(new TomlError("Hours less than 10 must be zero padded to two characters"));return this.state.result=this.state.buf,this.state.buf="",this.next(this.parseOnlyTimeMin)}else throw this.error(new TomlError("Incomplete time"))}parseOnlyTimeMin(){if(this.state.buf.length<2&&isDigit(this.char))this.consume();else{if(this.state.buf.length===2&&this.char===CHAR_COLON)return this.state.result+=":"+this.state.buf,this.state.buf="",this.next(this.parseOnlyTimeSec);throw this.error(new TomlError("Incomplete time"))}}parseOnlyTimeSec(){if(isDigit(this.char)){if(this.consume(),this.state.buf.length===2)return this.next(this.parseOnlyTimeFractionMaybe)}else throw this.error(new TomlError("Incomplete time"))}parseOnlyTimeFractionMaybe(){if(this.state.result+=":"+this.state.buf,this.char===CHAR_PERIOD)this.state.buf="",this.next(this.parseOnlyTimeFraction);else return this.return(createTime(this.state.result))}parseOnlyTimeFraction(){if(isDigit(this.char))this.consume();else if(this.atEndOfWord()){if(this.state.buf.length===0)throw this.error(new TomlError("Expected digit in milliseconds"));return this.returnNow(createTime(this.state.result+"."+this.state.buf))}else throw this.error(new TomlError("Unexpected character in datetime, expected period (.), minus (-), plus (+) or Z"))}parseTimeZoneOrFraction(){if(this.char===CHAR_PERIOD)this.consume(),this.next(this.parseDateTimeFraction);else if(this.char===CHAR_HYPHEN||this.char===CHAR_PLUS)this.consume(),this.next(this.parseTimeZoneHour);else{if(this.char===CHAR_Z)return this.consume(),this.return(createDateTime(this.state.result+this.state.buf));if(this.atEndOfWord())return this.returnNow(createDateTimeFloat(this.state.result+this.state.buf));throw this.error(new TomlError("Unexpected character in datetime, expected period (.), minus (-), plus (+) or Z"))}}parseDateTimeFraction(){if(isDigit(this.char))this.consume();else{if(this.state.buf.length===1)throw this.error(new TomlError("Expected digit in milliseconds"));if(this.char===CHAR_HYPHEN||this.char===CHAR_PLUS)this.consume(),this.next(this.parseTimeZoneHour);else{if(this.char===CHAR_Z)return this.consume(),this.return(createDateTime(this.state.result+this.state.buf));if(this.atEndOfWord())return this.returnNow(createDateTimeFloat(this.state.result+this.state.buf));throw this.error(new TomlError("Unexpected character in datetime, expected period (.), minus (-), plus (+) or Z"))}}}parseTimeZoneHour(){if(isDigit(this.char)){if(this.consume(),/\d\d$/.test(this.state.buf))return this.next(this.parseTimeZoneSep)}else throw this.error(new TomlError("Unexpected character in datetime, expected digit"))}parseTimeZoneSep(){if(this.char===CHAR_COLON)this.consume(),this.next(this.parseTimeZoneMin);else throw this.error(new TomlError("Unexpected character in datetime, expected colon"))}parseTimeZoneMin(){if(isDigit(this.char)){if(this.consume(),/\d\d$/.test(this.state.buf))return this.return(createDateTime(this.state.result+this.state.buf))}else throw this.error(new TomlError("Unexpected character in datetime, expected digit"))}parseBoolean(){if(this.char===CHAR_t)return this.consume(),this.next(this.parseTrue_r);if(this.char===CHAR_f)return this.consume(),this.next(this.parseFalse_a)}parseTrue_r(){if(this.char===CHAR_r)return this.consume(),this.next(this.parseTrue_u);throw this.error(new TomlError("Invalid boolean, expected true or false"))}parseTrue_u(){if(this.char===CHAR_u)return this.consume(),this.next(this.parseTrue_e);throw this.error(new TomlError("Invalid boolean, expected true or false"))}parseTrue_e(){if(this.char===CHAR_e)return this.return(!0);throw this.error(new TomlError("Invalid boolean, expected true or false"))}parseFalse_a(){if(this.char===CHAR_a)return this.consume(),this.next(this.parseFalse_l);throw this.error(new TomlError("Invalid boolean, expected true or false"))}parseFalse_l(){if(this.char===CHAR_l)return this.consume(),this.next(this.parseFalse_s);throw this.error(new TomlError("Invalid boolean, expected true or false"))}parseFalse_s(){if(this.char===CHAR_s)return this.consume(),this.next(this.parseFalse_e);throw this.error(new TomlError("Invalid boolean, expected true or false"))}parseFalse_e(){if(this.char===CHAR_e)return this.return(!1);throw this.error(new TomlError("Invalid boolean, expected true or false"))}parseInlineList(){if(this.char===CHAR_SP||this.char===CTRL_I||this.char===CTRL_M||this.char===CTRL_J)return null;if(this.char===t.END)throw this.error(new TomlError("Unterminated inline array"));return this.char===CHAR_NUM?this.call(this.parseComment):this.char===CHAR_RSQB?this.return(this.state.resultArr||InlineList()):this.callNow(this.parseValue,this.recordInlineListValue)}recordInlineListValue(n){if(this.state.resultArr){let o=this.state.resultArr[_contentType],a=tomlType(n);if(o!==a)throw this.error(new TomlError(`Inline lists must be a single type, not a mix of ${o} and ${a}`))}else this.state.resultArr=InlineList(tomlType(n));return isFloat(n)||isInteger(n)?this.state.resultArr.push(n.valueOf()):this.state.resultArr.push(n),this.goto(this.parseInlineListNext)}parseInlineListNext(){if(this.char===CHAR_SP||this.char===CTRL_I||this.char===CTRL_M||this.char===CTRL_J)return null;if(this.char===CHAR_NUM)return this.call(this.parseComment);if(this.char===CHAR_COMMA)return this.next(this.parseInlineList);if(this.char===CHAR_RSQB)return this.goto(this.parseInlineList);throw this.error(new TomlError("Invalid character, expected whitespace, comma (,) or close bracket (])"))}parseInlineTable(){if(this.char===CHAR_SP||this.char===CTRL_I)return null;if(this.char===t.END||this.char===CHAR_NUM||this.char===CTRL_J||this.char===CTRL_M)throw this.error(new TomlError("Unterminated inline array"));return this.char===CHAR_RCUB?this.return(this.state.resultTable||InlineTable()):(this.state.resultTable||(this.state.resultTable=InlineTable()),this.callNow(this.parseAssign,this.recordInlineTableValue))}recordInlineTableValue(n){let o=this.state.resultTable,a=n.key.pop();for(let l of n.key){if(hasKey(o,l)&&(!isTable(o[l])||o[l][_declared]))throw this.error(new TomlError("Can't redefine existing key"));o=o[l]=o[l]||Table()}if(hasKey(o,a))throw this.error(new TomlError("Can't redefine existing key"));return isInteger(n.value)||isFloat(n.value)?o[a]=n.value.valueOf():o[a]=n.value,this.goto(this.parseInlineTableNext)}parseInlineTableNext(){if(this.char===CHAR_SP||this.char===CTRL_I)return null;if(this.char===t.END||this.char===CHAR_NUM||this.char===CTRL_J||this.char===CTRL_M)throw this.error(new TomlError("Unterminated inline array"));if(this.char===CHAR_COMMA)return this.next(this.parseInlineTable);if(this.char===CHAR_RCUB)return this.goto(this.parseInlineTable);throw this.error(new TomlError("Invalid character, expected whitespace, comma (,) or close bracket (])"))}}return e}});var bh=L((OE,gh)=>{"use strict";gh.exports=I_;function I_(t,e){if(t.pos==null||t.line==null)return t;let r=t.message;if(r+=` at row ${t.line+1}, col ${t.col+1}, pos ${t.pos}:
`,e&&e.split){let n=e.split(/\n/),o=String(Math.min(n.length,t.line+3)).length,a=" ";for(;a.length<o;)a+=" ";for(let l=Math.max(0,t.line-1);l<Math.min(n.length,t.line+2);++l){let h=String(l+1);if(h.length<o&&(h=" "+h),t.line===l){r+=h+"> "+n[l]+`
`,r+=a+"  ";for(let c=0;c<t.col;++c)r+=" ";r+=`^
`}else r+=h+": "+n[l]+`
`}}return t.message=r+`
`,t}});var _h=L(($E,yh)=>{"use strict";yh.exports=N_;var L_=mh(),P_=bh();function N_(t){global.Buffer&&global.Buffer.isBuffer(t)&&(t=t.toString("utf8"));let e=new L_;try{return e.parse(t),e.finish()}catch(r){throw P_(r,t)}}});function ui({onlyFirst:t=!1}={}){let e=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PR-TZcf-ntqry=><~]))"].join("|");return new RegExp(e,t?void 0:"g")}var pi=Fe(ja(),1);var Ga=pi.default.HttpProxyAgent,Va=pi.default.HttpsProxyAgent;var kr=class extends Map{#t=0;#n=new Map;#e=new Map;#u;#A;#a;constructor(e={}){if(super(),!(e.maxSize&&e.maxSize>0))throw new TypeError("`maxSize` must be a number greater than 0");if(typeof e.maxAge=="number"&&e.maxAge===0)throw new TypeError("`maxAge` must be a number greater than 0");this.#u=e.maxSize,this.#A=e.maxAge||Number.POSITIVE_INFINITY,this.#a=e.onEviction}get __oldCache(){return this.#e}#m(e){if(typeof this.#a=="function")for(let[r,n]of e)this.#a(r,n.value)}#s(e,r){return typeof r.expiry=="number"&&r.expiry<=Date.now()?(typeof this.#a=="function"&&this.#a(e,r.value),this.delete(e)):!1}#i(e,r){if(this.#s(e,r)===!1)return r.value}#r(e,r){return r.expiry?this.#i(e,r):r.value}#c(e,r){let n=r.get(e);return this.#r(e,n)}#d(e,r){this.#n.set(e,r),this.#t++,this.#t>=this.#u&&(this.#t=0,this.#m(this.#e),this.#e=this.#n,this.#n=new Map)}#f(e,r){this.#e.delete(e),this.#d(e,r)}*#l(){for(let e of this.#e){let[r,n]=e;this.#n.has(r)||this.#s(r,n)===!1&&(yield e)}for(let e of this.#n){let[r,n]=e;this.#s(r,n)===!1&&(yield e)}}get(e){if(this.#n.has(e)){let r=this.#n.get(e);return this.#r(e,r)}if(this.#e.has(e)){let r=this.#e.get(e);if(this.#s(e,r)===!1)return this.#f(e,r),r.value}}set(e,r,{maxAge:n=this.#A}={}){let o=typeof n=="number"&&n!==Number.POSITIVE_INFINITY?Date.now()+n:void 0;return this.#n.has(e)?this.#n.set(e,{value:r,expiry:o}):this.#d(e,{value:r,expiry:o}),this}has(e){return this.#n.has(e)?!this.#s(e,this.#n.get(e)):this.#e.has(e)?!this.#s(e,this.#e.get(e)):!1}peek(e){if(this.#n.has(e))return this.#c(e,this.#n);if(this.#e.has(e))return this.#c(e,this.#e)}delete(e){let r=this.#n.delete(e);return r&&this.#t--,this.#e.delete(e)||r}clear(){this.#n.clear(),this.#e.clear(),this.#t=0}resize(e){if(!(e&&e>0))throw new TypeError("`maxSize` must be a number greater than 0");let r=[...this.#l()],n=r.length-e;n<0?(this.#n=new Map(r),this.#e=new Map,this.#t=r.length):(n>0&&this.#m(r.slice(0,n)),this.#e=new Map(r.slice(n)),this.#n=new Map,this.#t=0),this.#u=e}*keys(){for(let[e]of this)yield e}*values(){for(let[,e]of this)yield e}*[Symbol.iterator](){for(let e of this.#n){let[r,n]=e;this.#s(r,n)===!1&&(yield[r,n.value])}for(let e of this.#e){let[r,n]=e;this.#n.has(r)||this.#s(r,n)===!1&&(yield[r,n.value])}}*entriesDescending(){let e=[...this.#n];for(let r=e.length-1;r>=0;--r){let n=e[r],[o,a]=n;this.#s(o,a)===!1&&(yield[o,a.value])}e=[...this.#e];for(let r=e.length-1;r>=0;--r){let n=e[r],[o,a]=n;this.#n.has(o)||this.#s(o,a)===!1&&(yield[o,a.value])}}*entriesAscending(){for(let[e,r]of this.#l())yield[e,r.value]}get size(){if(!this.#t)return this.#e.size;let e=0;for(let r of this.#e.keys())this.#n.has(r)||e++;return Math.min(this.#t+e,this.#u)}get maxSize(){return this.#u}entries(){return this.entriesAscending()}forEach(e,r=this){for(let[n,o]of this.entriesAscending())e.call(r,o,n,this)}get[Symbol.toStringTag](){return JSON.stringify([...this.entriesAscending()])}};var Xa=Fe(Qa(),1);import{Agent as Wp}from"node:http";import{Agent as kp}from"node:https";var zp={agentCacheSize:512},Ka={maxSockets:64,keepAlive:!1},mi=class t extends Error{constructor(e){super(e),this.name="TimeoutError",Error.captureStackTrace?.(this,t)}};function gi(t,e={}){if(!("undici"in e))throw new Error("The 'undici' option is required");let r={...zp,...e},n=new kr({maxSize:r.agentCacheSize});async function o(l,h={}){let{origin:c,protocol:f}=new URL(l),m=h?.noProxy?null:(0,Xa.getProxyForUrl)(l),p=JSON.stringify({proxyUrl:m,origin:c,...h});if(n.has(p))return n.get(p);let g;if("noProxy"in h&&delete h.noProxy,e.undici){let{ProxyAgent:b,Agent:R}=await import("undici"),w={...h};"keepAlive"in w&&!("pipelining"in w)&&(w.pipelining=w.keepAlive?1:0),"keepAlive"in w&&delete w.keepAlive,"maxSockets"in w&&(w.connections=w.maxSockets,delete w.maxSockets),m?g=new b({...w,uri:m}):g=new R(w)}else{let b=f==="https:";m?g=new(b?Va:Ga)({...h,proxy:m}):g=new(b?kp:Wp)(h)}return n.set(p,g),g}let a=(l,{timeout:h=0,agentOpts:c={},...f}={})=>new Promise(async(m,p)=>{if(!e.undici&&!("agent"in f)){let R=await o(l,{...Ka,...c});R&&(f.agent=R)}else if(e.undici&&!("dispatcher"in f)){let R=await o(l,{...Ka,...c});R&&(f.dispatcher=R)}let g,b;h&&(!("signal"in f)&&globalThis.AbortController&&(b=new AbortController,f.signal=b.signal),g=setTimeout(()=>{b?.abort?.();let R=new mi(`${f.method||"GET"} ${l} timed out after ${h}ms`);p(R)},h),g?.unref?.()),t(l,f).then(R=>{g&&clearTimeout(g),m(R)}).catch(R=>{if(g&&clearTimeout(g),R.name==="AbortError")return m(null);p(R)})});return a.clearCache=()=>{for(let l of n.values())"destroy"in l&&l.destroy();n.clear()},a}var Hh=Fe(bi(),1);import bm from"node:http";import ym from"node:https";import mr from"node:zlib";import Ll,{PassThrough as Pl,pipeline as gr}from"node:stream";import{Buffer as Jn}from"node:buffer";function Gp(t){if(!/^data:/i.test(t))throw new TypeError('`uri` does not appear to be a Data URI (must begin with "data:")');t=t.replace(/\r?\n/g,"");let e=t.indexOf(",");if(e===-1||e<=4)throw new TypeError("malformed data: URI");let r=t.substring(5,e).split(";"),n="",o=!1,a=r[0]||"text/plain",l=a;for(let m=1;m<r.length;m++)r[m]==="base64"?o=!0:r[m]&&(l+=`;${r[m]}`,r[m].indexOf("charset=")===0&&(n=r[m].substring(8)));!r[0]&&!n.length&&(l+=";charset=US-ASCII",n="US-ASCII");let h=o?"base64":"ascii",c=unescape(t.substring(e+1)),f=Buffer.from(c,h);return f.type=a,f.typeFull=l,f.charset=n,f}var tl=Gp;zr();zn();import xt,{PassThrough as yl}from"node:stream";import{types as _l,deprecate as Ci,promisify as lm}from"node:util";import{Buffer as Ue}from"node:buffer";var ft=class extends Error{constructor(e,r){super(e),Error.captureStackTrace(this,this.constructor),this.type=r}get name(){return this.constructor.name}get[Symbol.toStringTag](){return this.constructor.name}};var $e=class extends ft{constructor(e,r,n){super(e,r),n&&(this.code=this.errno=n.code,this.erroredSysCall=n.syscall)}};var jn=Symbol.toStringTag,wi=t=>typeof t=="object"&&typeof t.append=="function"&&typeof t.delete=="function"&&typeof t.get=="function"&&typeof t.getAll=="function"&&typeof t.has=="function"&&typeof t.set=="function"&&typeof t.sort=="function"&&t[jn]==="URLSearchParams",Gr=t=>t&&typeof t=="object"&&typeof t.arrayBuffer=="function"&&typeof t.type=="string"&&typeof t.stream=="function"&&typeof t.constructor=="function"&&/^(Blob|File)$/.test(t[jn]),cl=t=>typeof t=="object"&&(t[jn]==="AbortSignal"||t[jn]==="EventTarget"),fl=(t,e)=>{let r=new URL(e).hostname,n=new URL(t).hostname;return r===n||r.endsWith(`.${n}`)},hl=(t,e)=>{let r=new URL(e).protocol,n=new URL(t).protocol;return r===n};var um=lm(xt.pipeline),Ie=Symbol("Body internals"),Je=class{constructor(e,{size:r=0}={}){let n=null;e===null?e=null:wi(e)?e=Ue.from(e.toString()):Gr(e)||Ue.isBuffer(e)||(_l.isAnyArrayBuffer(e)?e=Ue.from(e):ArrayBuffer.isView(e)?e=Ue.from(e.buffer,e.byteOffset,e.byteLength):e instanceof xt||(e instanceof Mt?(e=ul(e),n=e.type.split("=")[1]):e=Ue.from(String(e))));let o=e;Ue.isBuffer(e)?o=xt.Readable.from(e):Gr(e)&&(o=xt.Readable.from(e.stream())),this[Ie]={body:e,stream:o,boundary:n,disturbed:!1,error:null},this.size=r,e instanceof xt&&e.on("error",a=>{let l=a instanceof ft?a:new $e(`Invalid response body while trying to fetch ${this.url}: ${a.message}`,"system",a);this[Ie].error=l})}get body(){return this[Ie].stream}get bodyUsed(){return this[Ie].disturbed}async arrayBuffer(){let{buffer:e,byteOffset:r,byteLength:n}=await Ti(this);return e.slice(r,r+n)}async formData(){let e=this.headers.get("content-type");if(e.startsWith("application/x-www-form-urlencoded")){let n=new Mt,o=new URLSearchParams(await this.text());for(let[a,l]of o)n.append(a,l);return n}let{toFormData:r}=await Promise.resolve().then(()=>(bl(),gl));return r(this.body,e)}async blob(){let e=this.headers&&this.headers.get("content-type")||this[Ie].body&&this[Ie].body.type||"",r=await this.arrayBuffer();return new ct([r],{type:e})}async json(){let e=await this.text();return JSON.parse(e)}async text(){let e=await Ti(this);return new TextDecoder().decode(e)}buffer(){return Ti(this)}};Je.prototype.buffer=Ci(Je.prototype.buffer,"Please use 'response.arrayBuffer()' instead of 'response.buffer()'","node-fetch#buffer");Object.defineProperties(Je.prototype,{body:{enumerable:!0},bodyUsed:{enumerable:!0},arrayBuffer:{enumerable:!0},blob:{enumerable:!0},json:{enumerable:!0},text:{enumerable:!0},data:{get:Ci(()=>{},"data doesn't exist, use json(), text(), arrayBuffer(), or body instead","https://github.com/node-fetch/node-fetch/issues/1000 (response)")}});async function Ti(t){if(t[Ie].disturbed)throw new TypeError(`body used already for: ${t.url}`);if(t[Ie].disturbed=!0,t[Ie].error)throw t[Ie].error;let{body:e}=t;if(e===null)return Ue.alloc(0);if(!(e instanceof xt))return Ue.alloc(0);let r=[],n=0;try{for await(let o of e){if(t.size>0&&n+o.length>t.size){let a=new $e(`content size at ${t.url} over limit: ${t.size}`,"max-size");throw e.destroy(a),a}n+=o.length,r.push(o)}}catch(o){throw o instanceof ft?o:new $e(`Invalid response body while trying to fetch ${t.url}: ${o.message}`,"system",o)}if(e.readableEnded===!0||e._readableState.ended===!0)try{return r.every(o=>typeof o=="string")?Ue.from(r.join("")):Ue.concat(r,n)}catch(o){throw new $e(`Could not create Buffer from response body for ${t.url}: ${o.message}`,"system",o)}else throw new $e(`Premature close of server response while trying to fetch ${t.url}`)}var dr=(t,e)=>{let r,n,{body:o}=t[Ie];if(t.bodyUsed)throw new Error("cannot clone body after it is used");return o instanceof xt&&typeof o.getBoundary!="function"&&(r=new yl({highWaterMark:e}),n=new yl({highWaterMark:e}),o.pipe(r),o.pipe(n),t[Ie].stream=r,o=n),o},cm=Ci(t=>t.getBoundary(),"form-data doesn't follow the spec and requires special treatment. Use alternative package","https://github.com/node-fetch/node-fetch/issues/1167"),Yn=(t,e)=>t===null?null:typeof t=="string"?"text/plain;charset=UTF-8":wi(t)?"application/x-www-form-urlencoded;charset=UTF-8":Gr(t)?t.type||null:Ue.isBuffer(t)||_l.isAnyArrayBuffer(t)||ArrayBuffer.isView(t)?null:t instanceof Mt?`multipart/form-data; boundary=${e[Ie].boundary}`:t&&typeof t.getBoundary=="function"?`multipart/form-data;boundary=${cm(t)}`:t instanceof xt?null:"text/plain;charset=UTF-8",Rl=t=>{let{body:e}=t[Ie];return e===null?0:Gr(e)?e.size:Ue.isBuffer(e)?e.length:e&&typeof e.getLengthSync=="function"&&e.hasKnownLength&&e.hasKnownLength()?e.getLengthSync():null},Sl=async(t,{body:e})=>{e===null?t.end():await um(e,t)};import{types as wl}from"node:util";import Kn from"node:http";var Qn=typeof Kn.validateHeaderName=="function"?Kn.validateHeaderName:t=>{if(!/^[\^`\-\w!#$%&'*+.|~]+$/.test(t)){let e=new TypeError(`Header name must be a valid HTTP token [${t}]`);throw Object.defineProperty(e,"code",{value:"ERR_INVALID_HTTP_TOKEN"}),e}},xi=typeof Kn.validateHeaderValue=="function"?Kn.validateHeaderValue:(t,e)=>{if(/[^\t\u0020-\u007E\u0080-\u00FF]/.test(e)){let r=new TypeError(`Invalid character in header content ["${t}"]`);throw Object.defineProperty(r,"code",{value:"ERR_INVALID_CHAR"}),r}},He=class t extends URLSearchParams{constructor(e){let r=[];if(e instanceof t){let n=e.raw();for(let[o,a]of Object.entries(n))r.push(...a.map(l=>[o,l]))}else if(e!=null)if(typeof e=="object"&&!wl.isBoxedPrimitive(e)){let n=e[Symbol.iterator];if(n==null)r.push(...Object.entries(e));else{if(typeof n!="function")throw new TypeError("Header pairs must be iterable");r=[...e].map(o=>{if(typeof o!="object"||wl.isBoxedPrimitive(o))throw new TypeError("Each header pair must be an iterable object");return[...o]}).map(o=>{if(o.length!==2)throw new TypeError("Each header pair must be a name/value tuple");return[...o]})}}else throw new TypeError("Failed to construct 'Headers': The provided value is not of type '(sequence<sequence<ByteString>> or record<ByteString, ByteString>)");return r=r.length>0?r.map(([n,o])=>(Qn(n),xi(n,String(o)),[String(n).toLowerCase(),String(o)])):void 0,super(r),new Proxy(this,{get(n,o,a){switch(o){case"append":case"set":return(l,h)=>(Qn(l),xi(l,String(h)),URLSearchParams.prototype[o].call(n,String(l).toLowerCase(),String(h)));case"delete":case"has":case"getAll":return l=>(Qn(l),URLSearchParams.prototype[o].call(n,String(l).toLowerCase()));case"keys":return()=>(n.sort(),new Set(URLSearchParams.prototype.keys.call(n)).keys());default:return Reflect.get(n,o,a)}}})}get[Symbol.toStringTag](){return this.constructor.name}toString(){return Object.prototype.toString.call(this)}get(e){let r=this.getAll(e);if(r.length===0)return null;let n=r.join(", ");return/^content-encoding$/i.test(e)&&(n=n.toLowerCase()),n}forEach(e,r=void 0){for(let n of this.keys())Reflect.apply(e,r,[this.get(n),n,this])}*values(){for(let e of this.keys())yield this.get(e)}*entries(){for(let e of this.keys())yield[e,this.get(e)]}[Symbol.iterator](){return this.entries()}raw(){return[...this.keys()].reduce((e,r)=>(e[r]=this.getAll(r),e),{})}[Symbol.for("nodejs.util.inspect.custom")](){return[...this.keys()].reduce((e,r)=>{let n=this.getAll(r);return r==="host"?e[r]=n[0]:e[r]=n.length>1?n:n[0],e},{})}};Object.defineProperties(He.prototype,["get","entries","forEach","values"].reduce((t,e)=>(t[e]={enumerable:!0},t),{}));function El(t=[]){return new He(t.reduce((e,r,n,o)=>(n%2===0&&e.push(o.slice(n,n+2)),e),[]).filter(([e,r])=>{try{return Qn(e),xi(e,String(r)),!0}catch{return!1}}))}var fm=new Set([301,302,303,307,308]),Xn=t=>fm.has(t);var Qe=Symbol("Response internals"),Me=class t extends Je{constructor(e=null,r={}){super(e,r);let n=r.status!=null?r.status:200,o=new He(r.headers);if(e!==null&&!o.has("Content-Type")){let a=Yn(e,this);a&&o.append("Content-Type",a)}this[Qe]={type:"default",url:r.url,status:n,statusText:r.statusText||"",headers:o,counter:r.counter,highWaterMark:r.highWaterMark}}get type(){return this[Qe].type}get url(){return this[Qe].url||""}get status(){return this[Qe].status}get ok(){return this[Qe].status>=200&&this[Qe].status<300}get redirected(){return this[Qe].counter>0}get statusText(){return this[Qe].statusText}get headers(){return this[Qe].headers}get highWaterMark(){return this[Qe].highWaterMark}clone(){return new t(dr(this,this.highWaterMark),{type:this.type,url:this.url,status:this.status,statusText:this.statusText,headers:this.headers,ok:this.ok,redirected:this.redirected,size:this.size,highWaterMark:this.highWaterMark})}static redirect(e,r=302){if(!Xn(r))throw new RangeError('Failed to execute "redirect" on "response": Invalid status code');return new t(null,{headers:{location:new URL(e).toString()},status:r})}static error(){let e=new t(null,{status:0,statusText:""});return e[Qe].type="error",e}static json(e=void 0,r={}){let n=JSON.stringify(e);if(n===void 0)throw new TypeError("data is not JSON serializable");let o=new He(r&&r.headers);return o.has("content-type")||o.set("content-type","application/json"),new t(n,{...r,headers:o})}get[Symbol.toStringTag](){return"Response"}};Object.defineProperties(Me.prototype,{type:{enumerable:!0},url:{enumerable:!0},status:{enumerable:!0},ok:{enumerable:!0},redirected:{enumerable:!0},statusText:{enumerable:!0},headers:{enumerable:!0},clone:{enumerable:!0}});import{format as pm}from"node:url";import{deprecate as mm}from"node:util";var Al=t=>{if(t.search)return t.search;let e=t.href.length-1,r=t.hash||(t.href[e]==="#"?"#":"");return t.href[e-r.length]==="?"?"?":""};import{isIP as hm}from"node:net";function Tl(t,e=!1){return t==null||(t=new URL(t),/^(about|blob|data):$/.test(t.protocol))?"no-referrer":(t.username="",t.password="",t.hash="",e&&(t.pathname="",t.search=""),t)}var Cl=new Set(["","no-referrer","no-referrer-when-downgrade","same-origin","origin","strict-origin","origin-when-cross-origin","strict-origin-when-cross-origin","unsafe-url"]),xl="strict-origin-when-cross-origin";function vl(t){if(!Cl.has(t))throw new TypeError(`Invalid referrerPolicy: ${t}`);return t}function dm(t){if(/^(http|ws)s:$/.test(t.protocol))return!0;let e=t.host.replace(/(^\[)|(]$)/g,""),r=hm(e);return r===4&&/^127\./.test(e)||r===6&&/^(((0+:){7})|(::(0+:){0,6}))0*1$/.test(e)?!0:t.host==="localhost"||t.host.endsWith(".localhost")?!1:t.protocol==="file:"}function pr(t){return/^about:(blank|srcdoc)$/.test(t)||t.protocol==="data:"||/^(blob|filesystem):$/.test(t.protocol)?!0:dm(t)}function Ol(t,{referrerURLCallback:e,referrerOriginCallback:r}={}){if(t.referrer==="no-referrer"||t.referrerPolicy==="")return null;let n=t.referrerPolicy;if(t.referrer==="about:client")return"no-referrer";let o=t.referrer,a=Tl(o),l=Tl(o,!0);a.toString().length>4096&&(a=l),e&&(a=e(a)),r&&(l=r(l));let h=new URL(t.url);switch(n){case"no-referrer":return"no-referrer";case"origin":return l;case"unsafe-url":return a;case"strict-origin":return pr(a)&&!pr(h)?"no-referrer":l.toString();case"strict-origin-when-cross-origin":return a.origin===h.origin?a:pr(a)&&!pr(h)?"no-referrer":l;case"same-origin":return a.origin===h.origin?a:"no-referrer";case"origin-when-cross-origin":return a.origin===h.origin?a:l;case"no-referrer-when-downgrade":return pr(a)&&!pr(h)?"no-referrer":a;default:throw new TypeError(`Invalid referrerPolicy: ${n}`)}}function $l(t){let e=(t.get("referrer-policy")||"").split(/[,\s]+/),r="";for(let n of e)n&&Cl.has(n)&&(r=n);return r}var ye=Symbol("Request internals"),Yr=t=>typeof t=="object"&&typeof t[ye]=="object",gm=mm(()=>{},".data is not a valid RequestInit property, use .body instead","https://github.com/node-fetch/node-fetch/issues/1000 (request)"),kt=class t extends Je{constructor(e,r={}){let n;if(Yr(e)?n=new URL(e.url):(n=new URL(e),e={}),n.username!==""||n.password!=="")throw new TypeError(`${n} is an url with embedded credentials.`);let o=r.method||e.method||"GET";if(/^(delete|get|head|options|post|put)$/i.test(o)&&(o=o.toUpperCase()),!Yr(r)&&"data"in r&&gm(),(r.body!=null||Yr(e)&&e.body!==null)&&(o==="GET"||o==="HEAD"))throw new TypeError("Request with GET/HEAD method cannot have body");let a=r.body?r.body:Yr(e)&&e.body!==null?dr(e):null;super(a,{size:r.size||e.size||0});let l=new He(r.headers||e.headers||{});if(a!==null&&!l.has("Content-Type")){let f=Yn(a,this);f&&l.set("Content-Type",f)}let h=Yr(e)?e.signal:null;if("signal"in r&&(h=r.signal),h!=null&&!cl(h))throw new TypeError("Expected signal to be an instanceof AbortSignal or EventTarget");let c=r.referrer==null?e.referrer:r.referrer;if(c==="")c="no-referrer";else if(c){let f=new URL(c);c=/^about:(\/\/)?client$/.test(f)?"client":f}else c=void 0;this[ye]={method:o,redirect:r.redirect||e.redirect||"follow",headers:l,parsedURL:n,signal:h,referrer:c},this.follow=r.follow===void 0?e.follow===void 0?20:e.follow:r.follow,this.compress=r.compress===void 0?e.compress===void 0?!0:e.compress:r.compress,this.counter=r.counter||e.counter||0,this.agent=r.agent||e.agent,this.highWaterMark=r.highWaterMark||e.highWaterMark||16384,this.insecureHTTPParser=r.insecureHTTPParser||e.insecureHTTPParser||!1,this.referrerPolicy=r.referrerPolicy||e.referrerPolicy||""}get method(){return this[ye].method}get url(){return pm(this[ye].parsedURL)}get headers(){return this[ye].headers}get redirect(){return this[ye].redirect}get signal(){return this[ye].signal}get referrer(){if(this[ye].referrer==="no-referrer")return"";if(this[ye].referrer==="client")return"about:client";if(this[ye].referrer)return this[ye].referrer.toString()}get referrerPolicy(){return this[ye].referrerPolicy}set referrerPolicy(e){this[ye].referrerPolicy=vl(e)}clone(){return new t(this)}get[Symbol.toStringTag](){return"Request"}};Object.defineProperties(kt.prototype,{method:{enumerable:!0},url:{enumerable:!0},headers:{enumerable:!0},redirect:{enumerable:!0},clone:{enumerable:!0},signal:{enumerable:!0},referrer:{enumerable:!0},referrerPolicy:{enumerable:!0}});var Il=t=>{let{parsedURL:e}=t[ye],r=new He(t[ye].headers);r.has("Accept")||r.set("Accept","*/*");let n=null;if(t.body===null&&/^(post|put)$/i.test(t.method)&&(n="0"),t.body!==null){let h=Rl(t);typeof h=="number"&&!Number.isNaN(h)&&(n=String(h))}n&&r.set("Content-Length",n),t.referrerPolicy===""&&(t.referrerPolicy=xl),t.referrer&&t.referrer!=="no-referrer"?t[ye].referrer=Ol(t):t[ye].referrer="no-referrer",t[ye].referrer instanceof URL&&r.set("Referer",t.referrer),r.has("User-Agent")||r.set("User-Agent","node-fetch"),t.compress&&!r.has("Accept-Encoding")&&r.set("Accept-Encoding","gzip, deflate, br");let{agent:o}=t;typeof o=="function"&&(o=o(e));let a=Al(e),l={path:e.pathname+a,method:t.method,headers:r[Symbol.for("nodejs.util.inspect.custom")](),insecureHTTPParser:t.insecureHTTPParser,agent:o};return{parsedURL:e,options:l}};var Zn=class extends ft{constructor(e,r="aborted"){super(e,r)}};zn();Ei();var _m=new Set(["data:","http:","https:"]);async function es(t,e){return new Promise((r,n)=>{let o=new kt(t,e),{parsedURL:a,options:l}=Il(o);if(!_m.has(a.protocol))throw new TypeError(`node-fetch cannot load ${t}. URL scheme "${a.protocol.replace(/:$/,"")}" is not supported.`);if(a.protocol==="data:"){let R=tl(o.url),w=new Me(R,{headers:{"Content-Type":R.typeFull}});r(w);return}let h=(a.protocol==="https:"?ym:bm).request,{signal:c}=o,f=null,m=()=>{let R=new Zn("The operation was aborted.");n(R),o.body&&o.body instanceof Ll.Readable&&o.body.destroy(R),!(!f||!f.body)&&f.body.emit("error",R)};if(c&&c.aborted){m();return}let p=()=>{m(),b()},g=h(a.toString(),l);c&&c.addEventListener("abort",p);let b=()=>{g.abort(),c&&c.removeEventListener("abort",p)};g.on("error",R=>{n(new $e(`request to ${o.url} failed, reason: ${R.message}`,"system",R)),b()}),Rm(g,R=>{f&&f.body&&f.body.destroy(R)}),process.version<"v14"&&g.on("socket",R=>{let w;R.prependListener("end",()=>{w=R._eventsCount}),R.prependListener("close",v=>{if(f&&w<R._eventsCount&&!v){let x=new Error("Premature close");x.code="ERR_STREAM_PREMATURE_CLOSE",f.body.emit("error",x)}})}),g.on("response",R=>{g.setTimeout(0);let w=El(R.rawHeaders);if(Xn(R.statusCode)){let C=w.get("Location"),$=null;try{$=C===null?null:new URL(C,o.url)}catch{if(o.redirect!=="manual"){n(new $e(`uri requested responds with an invalid redirect URL: ${C}`,"invalid-redirect")),b();return}}switch(o.redirect){case"error":n(new $e(`uri requested responds with a redirect, redirect mode is set to error: ${o.url}`,"no-redirect")),b();return;case"manual":break;case"follow":{if($===null)break;if(o.counter>=o.follow){n(new $e(`maximum redirect reached at: ${o.url}`,"max-redirect")),b();return}let P={headers:new He(o.headers),follow:o.follow,counter:o.counter+1,agent:o.agent,compress:o.compress,method:o.method,body:dr(o),signal:o.signal,size:o.size,referrer:o.referrer,referrerPolicy:o.referrerPolicy};if(!fl(o.url,$)||!hl(o.url,$))for(let U of["authorization","www-authenticate","cookie","cookie2"])P.headers.delete(U);if(R.statusCode!==303&&o.body&&e.body instanceof Ll.Readable){n(new $e("Cannot follow redirect with body being a readable stream","unsupported-redirect")),b();return}(R.statusCode===303||(R.statusCode===301||R.statusCode===302)&&o.method==="POST")&&(P.method="GET",P.body=void 0,P.headers.delete("content-length"));let D=$l(w);D&&(P.referrerPolicy=D),r(es(new kt($,P))),b();return}default:return n(new TypeError(`Redirect option '${o.redirect}' is not a valid value of RequestRedirect`))}}c&&R.once("end",()=>{c.removeEventListener("abort",p)});let v=gr(R,new Pl,C=>{C&&n(C)});process.version<"v12.10"&&R.on("aborted",p);let x={url:o.url,status:R.statusCode,statusText:R.statusMessage,headers:w,size:o.size,counter:o.counter,highWaterMark:o.highWaterMark},O=w.get("Content-Encoding");if(!o.compress||o.method==="HEAD"||O===null||R.statusCode===204||R.statusCode===304){f=new Me(v,x),r(f);return}let F={flush:mr.Z_SYNC_FLUSH,finishFlush:mr.Z_SYNC_FLUSH};if(O==="gzip"||O==="x-gzip"){v=gr(v,mr.createGunzip(F),C=>{C&&n(C)}),f=new Me(v,x),r(f);return}if(O==="deflate"||O==="x-deflate"){let C=gr(R,new Pl,$=>{$&&n($)});C.once("data",$=>{($[0]&15)===8?v=gr(v,mr.createInflate(),P=>{P&&n(P)}):v=gr(v,mr.createInflateRaw(),P=>{P&&n(P)}),f=new Me(v,x),r(f)}),C.once("end",()=>{f||(f=new Me(v,x),r(f))});return}if(O==="br"){v=gr(v,mr.createBrotliDecompress(),C=>{C&&n(C)}),f=new Me(v,x),r(f);return}f=new Me(v,x),r(f)}),Sl(g,o).catch(n)})}function Rm(t,e){let r=Jn.from(`0\r
\r
`),n=!1,o=!1,a;t.on("response",l=>{let{headers:h}=l;n=h["transfer-encoding"]==="chunked"&&!h["content-length"]}),t.on("socket",l=>{let h=()=>{if(n&&!o){let f=new Error("Premature close");f.code="ERR_STREAM_PREMATURE_CLOSE",e(f)}},c=f=>{o=Jn.compare(f.slice(-5),r)===0,!o&&a&&(o=Jn.compare(a.slice(-3),r.slice(0,3))===0&&Jn.compare(f.slice(-2),r.slice(3))===0),a=f};l.prependListener("close",h),l.on("data",c),t.on("close",()=>{l.removeListener("close",h),l.removeListener("data",c)})})}var Dh=Fe(au(),1),Bh=Fe(Ii(),1),oe=Fe(sf(),1),qh=Fe(cf(),1),Fh=Fe(Af(),1);import{cwd as H_,stdout as D_,argv as B_,env as Os,exit as Rh,versions as q_}from"node:process";import{join as Is,dirname as Uh,basename as Eo,resolve as $s}from"node:path";import{lstatSync as Sh,readFileSync as wh,truncateSync as F_,writeFileSync as U_,accessSync as M_}from"node:fs";var My=[[1e3,6e4,"sec"],[6e4,36e5,"min"],[36e5,864e5,"hour"],[864e5,6048e5,"day"],[6048e5,2628e6,"week"],[2628e6,31536e6,"month"],[31536e6,1/0,"year"]],Wy={"1 day ago":"yesterday","1 week ago":"last week","1 month ago":"last month","1 year ago":"last year","in 1 day":"tomorrow","in 1 week":"next week","in 1 month":"next month","in 1 year":"next year"},ky={sec:"second",min:"minute"};function _s(t,{now:e,noAffix:r=!1,times:n=My,nowThreshold:o=2e3,nowString:a="now",aliases:l=!1,aliasesMap:h=Wy,longUnits:c=!1}={}){if(t=typeof t=="number"?t:Date.parse(t),e=e?typeof e=="number"?e:Date.parse(e):new Date,Number.isNaN(t))return"unknown";let f=!1,m=e-t;if(m<0&&(f=!0,m=Math.abs(m)),m<o)return a;let p,g;for(let R=0,w=n.length;R<w;R++){let v=n[R];if(!(m>=v[1])){p=Math.floor(m/v[0]),g=(c&&ky[v[2]]||v[2])+(p>1?"s":"");break}}let b=`${f&&!r?"in ":""}${p} ${g}${!f&&!r?" ago":""}`;return l?h[b]??b:b}import no from"node:process";import zy from"node:os";import Tf from"node:tty";function ze(t,e=globalThis.Deno?globalThis.Deno.args:no.argv){let r=t.startsWith("-")?"":t.length===1?"-":"--",n=e.indexOf(r+t),o=e.indexOf("--");return n!==-1&&(o===-1||n<o)}var{env:de}=no,Rs;ze("no-color")||ze("no-colors")||ze("color=false")||ze("color=never")?Rs=0:(ze("color")||ze("colors")||ze("color=true")||ze("color=always"))&&(Rs=1);function jy(){if("FORCE_COLOR"in de)return de.FORCE_COLOR==="true"?1:de.FORCE_COLOR==="false"?0:de.FORCE_COLOR.length===0?1:Math.min(Number.parseInt(de.FORCE_COLOR,10),3)}function Gy(t){return t===0?!1:{level:t,hasBasic:!0,has256:t>=2,has16m:t>=3}}function Vy(t,{streamIsTTY:e,sniffFlags:r=!0}={}){let n=jy();n!==void 0&&(Rs=n);let o=r?Rs:n;if(o===0)return 0;if(r){if(ze("color=16m")||ze("color=full")||ze("color=truecolor"))return 3;if(ze("color=256"))return 2}if("TF_BUILD"in de&&"AGENT_NAME"in de)return 1;if(t&&!e&&o===void 0)return 0;let a=o||0;if(de.TERM==="dumb")return a;if(no.platform==="win32"){let l=zy.release().split(".");return Number(l[0])>=10&&Number(l[2])>=10586?Number(l[2])>=14931?3:2:1}if("CI"in de)return"GITHUB_ACTIONS"in de||"GITEA_ACTIONS"in de?3:["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","BUILDKITE","DRONE"].some(l=>l in de)||de.CI_NAME==="codeship"?1:a;if("TEAMCITY_VERSION"in de)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(de.TEAMCITY_VERSION)?1:0;if(de.COLORTERM==="truecolor"||de.TERM==="xterm-kitty")return 3;if("TERM_PROGRAM"in de){let l=Number.parseInt((de.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(de.TERM_PROGRAM){case"iTerm.app":return l>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(de.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(de.TERM)||"COLORTERM"in de?1:a}function Cf(t,e={}){let r=Vy(t,{streamIsTTY:t&&t.isTTY,...e});return Gy(r)}var Yy={stdout:Cf({isTTY:Tf.isatty(1)}),stderr:Cf({isTTY:Tf.isatty(2)})},xf=Yy;var vf=!0;function Of(){vf=!1}function so(t,e,r){return vf?`\x1B[${e}m${t.join(" ")}\x1B[${r}m`:t.join(" ")}var io=(...t)=>so(t,31,39),Tr=(...t)=>so(t,32,39);var Ss=(...t)=>so(t,35,39);var Qy=t=>{let e=typeof t;return t!==null&&(e==="object"||e==="function")};var oo=new Set(["__proto__","prototype","constructor"]),Ky=new Set("0123456789");function Xy(t){let e=[],r="",n="start",o=!1;for(let a of t)switch(a){case"\\":{if(n==="index")throw new Error("Invalid character in an index");if(n==="indexEnd")throw new Error("Invalid character after an index");o&&(r+=a),n="property",o=!o;break}case".":{if(n==="index")throw new Error("Invalid character in an index");if(n==="indexEnd"){n="property";break}if(o){o=!1,r+=a;break}if(oo.has(r))return[];e.push(r),r="",n="property";break}case"[":{if(n==="index")throw new Error("Invalid character in an index");if(n==="indexEnd"){n="index";break}if(o){o=!1,r+=a;break}if(n==="property"){if(oo.has(r))return[];e.push(r),r=""}n="index";break}case"]":{if(n==="index"){e.push(Number.parseInt(r,10)),r="",n="indexEnd";break}if(n==="indexEnd")throw new Error("Invalid character after an index")}default:{if(n==="index"&&!Ky.has(a))throw new Error("Invalid character in an index");if(n==="indexEnd")throw new Error("Invalid character after an index");n==="start"&&(n="property"),o&&(o=!1,r+="\\"),r+=a}}switch(o&&(r+="\\"),n){case"property":{if(oo.has(r))return[];e.push(r);break}case"index":throw new Error("Index was not closed");case"start":{e.push("");break}}return e}function Zy(t,e){if(typeof e!="number"&&Array.isArray(t)){let r=Number.parseInt(e,10);return Number.isInteger(r)&&t[r]===t[e]}return!1}function $f(t,e,r){if(!Qy(t)||typeof e!="string")return r===void 0?t:r;let n=Xy(e);if(n.length===0)return r;for(let o=0;o<n.length;o++){let a=n[o];if(Zy(t,a)?t=o===n.length-1?void 0:null:t=t[a],t==null){if(o!==n.length-1)return r;break}}return t===void 0?r:t}var ao=class extends Error{constructor(e){super(),this.name="AbortError",this.message=e}},If=t=>globalThis.DOMException===void 0?new ao(t):new DOMException(t),Lf=t=>{let e=t.reason===void 0?If("This operation was aborted."):t.reason;return e instanceof Error?e:If(e)};async function lo(t,e,{concurrency:r=Number.POSITIVE_INFINITY,stopOnError:n=!0,signal:o}={}){return new Promise((a,l)=>{if(t[Symbol.iterator]===void 0&&t[Symbol.asyncIterator]===void 0)throw new TypeError(`Expected \`input\` to be either an \`Iterable\` or \`AsyncIterable\`, got (${typeof t})`);if(typeof e!="function")throw new TypeError("Mapper function is required");if(!((Number.isSafeInteger(r)||r===Number.POSITIVE_INFINITY)&&r>=1))throw new TypeError(`Expected \`concurrency\` to be an integer from 1 and up or \`Infinity\`, got \`${r}\` (${typeof r})`);let h=[],c=[],f=new Map,m=!1,p=!1,g=!1,b=0,R=0,w=t[Symbol.iterator]===void 0?t[Symbol.asyncIterator]():t[Symbol.iterator](),v=O=>{m=!0,p=!0,l(O)};o&&(o.aborted&&v(Lf(o)),o.addEventListener("abort",()=>{v(Lf(o))}));let x=async()=>{if(p)return;let O=await w.next(),F=R;if(R++,O.done){if(g=!0,b===0&&!p){if(!n&&c.length>0){v(new AggregateError(c));return}if(p=!0,f.size===0){a(h);return}let C=[];for(let[$,P]of h.entries())f.get($)!==Pf&&C.push(P);a(C)}return}b++,(async()=>{try{let C=await O.value;if(p)return;let $=await e(C,F);$===Pf&&f.set(F,$),h[F]=$,b--,await x()}catch(C){if(n)v(C);else{c.push(C),b--;try{await x()}catch($){v($)}}}})()};(async()=>{for(let O=0;O<r;O++){try{await x()}catch(F){v(F);break}if(g||m)break}})()})}var Pf=Symbol("skip");async function uo(t,e){return lo(t,r=>r(),e)}function Cr(t,e){var r=0,n,o;e=e||{};function a(){var l=n,h=arguments.length,c,f;e:for(;l;){if(l.args.length!==arguments.length){l=l.next;continue}for(f=0;f<h;f++)if(l.args[f]!==arguments[f]){l=l.next;continue e}return l!==n&&(l===o&&(o=l.prev),l.prev.next=l.next,l.next&&(l.next.prev=l.prev),l.next=n,l.prev=null,n.prev=l,n=l),l.val}for(c=new Array(h),f=0;f<h;f++)c[f]=arguments[f];return l={args:c,val:t.apply(null,c)},n?(n.prev=l,l.next=n):o=l,r===e.maxSize?(o=o.prev,o.next=null):r++,n=l,l.val}return a.clear=function(){n=null,o=null,r=0},a}var Oo=Fe(rh(),1),Ir;globalThis.fetch&&!q_?.node?Ir=globalThis.fetch:Ir=gi(es,{undici:!1});var Mh=96,mt="\0",W_=/^.*?:\/\/(.*?@)?(github\.com[:/])/i,k_=/^([^/]+)\/([^/#]+)?.*?\/([0-9a-f]+|v?[0-9]+\.[0-9]+\.[0-9]+)$/i,$o=/^[0-9a-f]{7,}$/i,Eh=/[0-9]+(\.[0-9]+)?(\.[0-9]+)?/g,Ls=t=>t.replace(/[|\\{}()[\]^$+*?.-]/g,"\\$&"),z_=Cr(Fh.default.fromUrl),Ao=Cr(Dh.default),Ps=Cr(t=>t.endsWith("/")?t.substring(0,t.length-1):t),j_=new Set(["patch"]),G_=new Set(["patch","minor"]),V_=new Set(["patch","minor","major"]),Wh="15.1.2",te=(0,Hh.default)(B_.slice(2),{boolean:["E","error-on-outdated","U","error-on-unchanged","h","help","j","json","n","no-color","u","update","v","version","V","verbose"],string:["d","allow-downgrade","f","file","g","greatest","m","minor","P","patch","p","prerelease","R","release","r","registry","t","types","githubapi","pypiapi"],alias:{d:"allow-downgrade",E:"error-on-outdated",U:"error-on-unchanged",e:"exclude",f:"file",g:"greatest",h:"help",i:"include",j:"json",m:"minor",n:"no-color",P:"patch",p:"prerelease",r:"registry",R:"release",s:"semver",S:"sockets",t:"types",u:"update",v:"version",V:"verbose"}});(te["no-color"]||!xf.stdout)&&Of();var Or=hn(Zt(te.greatest)),To=hn(Zt(te.prerelease)),Co=hn(Zt(te.release)),Ah=hn(Zt(te.patch)),Th=hn(Zt(te.minor)),Ch=Zt(te["allow-downgrade"]),rt=(0,Bh.default)("npm",{registry:"https://registry.npmjs.org"}),xo={npmrc:rt,recursive:!0},xh=te.githubapi?Ps(te.githubapi):"https://api.github.com",Y_=te.pypiapi?Ps(te.pypiapi):"https://pypi.org",kh=typeof te.sockets=="number"?parseInt(te.sockets):Mh;function Xt(t,e){for(let r of e instanceof Set?e:[])if(r.test(t))return!0;return!1}var Q_=Cr((t,e)=>{let r=e[`${t}:registry`]||e.registry;return r.endsWith("/")?r:`${r}/`});function zh(t,e,r){let n=Is(e,t);try{return M_(n),n}catch{}let o=Uh(e);return r&&n===r||o===e?null:zh(t,o,r)}function K_(t,e){if(t.startsWith("@")){let r=(/@[a-z0-9][\w-.]+/.exec(t)||[])[0],n=Ps(Q_(r,rt));if(n!==e)try{let o=Ao(n,xo);if(o?.token)return[o,n]}catch{}return[Ao(e,xo),e]}else return[Ao(e,xo),e]}var jh=Cr((t,e,r)=>({...Object.keys(t).length&&{agentOpts:t},headers:{"user-agent":`updates/${Wh}`,...r&&{Authorization:`${e} ${r}`}}}));async function X_(t,e,r,n){let[o,a]=K_(t,r),h=(e==="resolutions"?uR(t):t).replace(/\//g,"%2f"),c=`${a}/${h}`;te.verbose&&console.error(`${Ss("fetch")} ${c}`);let f=await Ir(c,jh(n,o?.type,o?.token));if(f?.ok)return te.verbose&&console.error(`${Tr("done")} ${c}`),[await f.json(),e,a,t];throw f?.status&&f?.statusText?new Error(`Received ${f.status} ${f.statusText} for ${t} from ${a}`):new Error(`Unable to fetch ${t} from ${a}`)}async function Z_(t,e,r){let n=`${Y_}/pypi/${t}/json`;te.verbose&&console.error(`${Ss("fetch")} ${n}`);let o=await Ir(n,jh(r));if(o?.ok)return te.verbose&&console.error(`${Tr("done")} ${n}`),[await o.json(),e,null,t];throw o?.status&&o?.statusText?new Error(`Received ${o.status} ${o.statusText} for ${t} from PyPi`):new Error(`Unable to fetch ${t} from PyPi`)}function vh({repository:t,homepage:e,info:r},n,o){r&&(t=r.project_urls.repository||r.project_urls.Repository||r.project_urls.repo||r.project_urls.Repo||r.project_urls.source||r.project_urls.Source||r.project_urls["source code"]||r.project_urls["Source Code"]||r.project_urls.homepage||r.project_urls.Homepage||`https://pypi.org/project/${o}/`);let a;if(n==="https://npm.pkg.github.com")return`https://github.com/${o.replace(/^@/,"")}`;if(t){let l=typeof t=="string"?t:t.url,h=z_(l),c=h?.browse?.();c&&(a=c),a&&t.directory&&h.treepath&&(a=`${a}/${h.treepath}/HEAD/${t.directory}`),!a&&t?.url&&/^https?:/.test(t.url)&&(a=t.url),!a&&l&&(a=l)}return a||e||""}function Oh(t){te.json?console.info(JSON.stringify({message:t})):console.info(t),$r()}function $r(t){if(t){let e=t.stack||t.message;te.json?console.info(JSON.stringify({error:e})):console.info(io(e))}process.exit(t?1:0)}function J_(t={}){for(let r of Object.keys(t))for(let n of Object.values(t[r]))"oldPrint"in n&&(n.old=n.oldPrint,delete n.oldPrint),"newPrint"in n&&(n.new=n.newPrint,delete n.newPrint),"oldOriginal"in n&&(n.old=n.oldOriginal,delete n.oldOriginal);let e=0;for(let r of Object.keys(t))e+=Object.keys(t[r]).length;if(te.json){let r={results:{}};for(let n of Object.keys(t))for(let[o,a]of Object.entries(t[n])){let[l,h]=o.split(mt);r.results[n]||(r.results[n]={}),r.results[n][l]||(r.results[n][l]={}),r.results[n][l][h]=a}console.info(JSON.stringify(r))}else e&&console.info(tR(t));return te["error-on-outdated"]?e?2:0:te["error-on-unchanged"]?e?0:2:0}async function eR(t,e){let{platform:r}=await import("node:os"),n=r()==="win32";n&&F_(t,0),U_(t,e,n?{flag:"r+"}:void 0)}function $h(t,e,r){if(t===e)return t;let n=t.split(/\./),o=e.split(/\./),a=/^[0-9a-zA-Z-.]+$/,l="";for(let h=0;h<n.length;h++)if(n[h]!==o[h]){a.test(n[h])?l+=r(n.slice(h).join(".")):l+=n[h].split("").map(c=>a.test(c)?r(c):c).join("")+r(`.${n.slice(h+1).join(".")}`);break}else l+=`${n[h]}.`;return l}function tR(t){let e=[["NAME","OLD","NEW","AGE","INFO"]],r=new Set;for(let n of Object.keys(t))for(let[o,a]of Object.entries(t[n])){let l=o.split(mt)[1],h=`${n}|${l}`;r.has(h)||(r.add(h),e.push([l,$h(a.old,a.new,io),$h(a.new,a.old,Tr),a.age||"",a.info]))}return(0,qh.default)(e,{hsep:" ",stringLength:n=>n.replace(ui(),"").length})}function rR(t,e){let r=t;for(let n of Object.keys(e)){let o=n.split(mt)[1],a=e[n].oldOriginal||e[n].old,l=new RegExp(`"${Ls(o)}": *"${Ls(a)}"`,"g");r=r.replace(l,`"${o}": "${e[n].new}"`)}return r}function nR(t,e){let r=t;for(let n of Object.keys(e)){let o=n.split(mt)[1],a=e[n].oldOriginal||e[n].old,l=new RegExp(`${Ls(o)} *= *"${Ls(a)}"`,"g");r=r.replace(l,`${o} = "${e[n].new}"`)}return r}function sR(t,e){return t.replace(/[0-9]+\.[0-9]+\.[0-9]+(-.+)?/g,e)}function vo(t){let e=(0,oe.parse)(t);return e?!!e.prerelease.length:!1}function Gh(t){return/[0-9]+\.[0-9]+\.[0-9]+-.+/.test(t)}function iR(t){try{return(0,oe.coerce)(t).version}catch{return null}}function oR(t,e,{range:r,semvers:n,usePre:o,useRel:a,useGreatest:l}={}){let h=iR(r),c=0;n=new Set(n),o=Gh(r)||o,o&&(n.add("prerelease"),n.has("patch")&&n.add("prepatch"),n.has("minor")&&n.add("preminor"),n.has("major")&&n.add("premajor"));for(let f of e){let m=(0,oe.parse)(f);if(m.prerelease.length&&(!o||a))continue;let p=(0,oe.diff)(h,m.version);if(!(!p||!n.has(p)))if(l||!("time"in t))(0,oe.gte)((0,oe.coerce)(m.version).version,h)&&(h=m.version);else{let g=new Date(t.time[f]).getTime();g>=0&&g>c&&(h=m.version,c=g)}}return h||null}function aR(t,{mode:e,range:r,useGreatest:n,useRel:o,usePre:a,semvers:l}={}){if(r==="*"||r.includes("||"))return null;let h=Object.keys(e==="pypi"?t.releases:t.versions).filter(f=>(0,oe.valid)(f)),c=oR(t,h,{range:r,semvers:l,usePre:a,useRel:o,useGreatest:n});if(n)return c;{let f,m;e==="pypi"?(m=t.info.version,f=(0,oe.coerce)(t.info.version).version):f=t["dist-tags"].latest;let p=(0,oe.coerce)(r).version,g=Gh(r),b=vo(c),R=vo(f),w=(0,oe.gt)(c,p);if(!o&&a||g&&b||o&&!w&&g&&!b||g&&!b&&w)return c;if(g&&!b&&!w)return null;let v=(0,oe.diff)(p,f);return v&&v!=="prerelease"&&!l.has(v.replace(/^pre/,""))||o&&vo(f)?c:(0,oe.lt)(f,p)&&!R?Ch===!0||Xt(t.name,Ch)?f:null:m??f}}async function lR([t,e],{useGreatest:r}={}){let n=e.old.replace(W_,""),[o,a,l,h]=k_.exec(n)||[];if(!(!a||!l||!h))if($o.test(h)){let c={maxSockets:kh},f=Os.UPDATES_GITHUB_API_TOKEN||Os.GITHUB_API_TOKEN||Os.GH_TOKEN||Os.HOMEBREW_GITHUB_API_TOKEN;f&&(c.headers={Authorization:`Bearer ${f}`});let m=`${xh}/repos/${a}/${l}/commits`;te.verbose&&console.error(`${Ss("fetch")} ${m}`);let p=await Ir(m,c);if(te.verbose&&p?.ok&&console.error(`${Tr("done")} ${m}`),!p||!p.ok)return;let g=await p.json(),{sha:b,commit:R}=g[0];if(!b||!b.length)return;let w=R?.committer?.date??R?.author?.date;if(b=b.substring(0,h.length),h!==b){let v=e.old.replace(h,b);return{key:t,newRange:v,user:a,repo:l,oldRef:h,newRef:b,newDate:w}}}else{let c=await Ir(`${xh}/repos/${a}/${l}/git/refs/tags`);if(!c||!c.ok)return;let m=(await c.json()).map(g=>g.ref.replace(/^refs\/tags\//,"")),p=h.replace(/^v/,"");if(!(0,oe.valid)(p))return;if(r){let g=h,b=h.replace(/^v/,"");for(let R of m){let w=R.replace(/^v/,"");(0,oe.valid)(w)&&(!g||(0,oe.gt)(w,b))&&(g=R,b=w)}if((0,oe.neq)(p,b))return{key:t,newRange:g,user:a,repo:l,oldRef:h,newRef:g}}else{let g=m[m.length-1],b=g.replace(/^v/,"");if(!(0,oe.valid)(b))return;if((0,oe.neq)(p,b))return{key:t,newRange:g,user:a,repo:l,oldRef:h,newRef:g}}}}function uR(t){let e=t.match(/(@[^/]+\/)?([^/]+)/g)||[];return e[e.length-1]}function cR(t){let e=t.match(Eh);return e?.length!==1?t:t.replace(Eh,(0,oe.coerce)(e[0]))}function Zt(t){return t===void 0?!1:t===""?!0:typeof t=="string"?t.includes(",")?new Set(t.split(",")):new Set([t]):Array.isArray(t)?new Set(t):!1}function Ih(t){return Array.from(t.matchAll(/(----BEGIN CERT[^]+?IFICATE----)/g),e=>e[0])}async function Lh(t=[]){return[...(await import("node:tls")).rootCertificates,...t]}function Io(t,e){return e?/\/.+\//.test(t)?new RegExp(t.slice(1,-1)):Oo.default.makeRe(t):t instanceof RegExp?t:Oo.default.makeRe(t)}function hn(t){if(t instanceof Set){let e=new Set;for(let r of t)e.add(Io(r,!0));return e}return t}function Ph(t,e){let r=new Set;for(let n of t||[])r.add(Io(n,!0));for(let n of e||[])r.add(Io(n,!1));return r}function Nh(t,e,{include:r,exclude:n}){if(e==="pypi"&&t==="python")return!1;if(!r.size&&!n.size)return!0;for(let o of n)if(o.test(t))return!1;for(let o of r)if(o.test(t))return!0;return!r.size}function fR(t){let e=new Set;if(t)for(let r of t){let n;try{n=Sh(r)}catch(o){throw new Error(`Unable to open ${r}: ${o.message}`)}if(n?.isFile())e.add($s(r));else if(n?.isDirectory())for(let o of["package.json","pyproject.toml"]){let a=Is(r,o),l;try{l=Sh(a)}catch{}l?.isFile()&&e.add($s(a))}else throw new Error(`${r} is neither a file nor directory`)}else for(let r of["package.json","pyproject.toml"]){let n=H_(),o=zh(r,n);o&&e.add($s(o))}return e}async function hR(){for(let g of[process.stdout,process.stderr])g?._handle?.setBlocking?.(!0);let{help:t,version:e,file:r,types:n,update:o}=te;t&&(D_.write(`usage: updates [options]

  Options:
    -u, --update                       Update versions and write package file
    -f, --file <path,...>              File or directory to use, defaults to current directory
    -i, --include <pkg,...>            Include only given packages
    -e, --exclude <pkg,...>            Exclude given packages
    -p, --prerelease [<pkg,...>]       Consider prerelease versions
    -R, --release [<pkg,...>]          Only use release versions, may downgrade
    -g, --greatest [<pkg,...>]         Prefer greatest over latest version
    -t, --types <type,...>             Check only given dependency types
    -P, --patch [<pkg,...>]            Consider only up to semver-patch
    -m, --minor [<pkg,...>]            Consider only up to semver-minor
    -d, --allow-downgrade [<pkg,...>]  Allow version downgrades when using latest version
    -E, --error-on-outdated            Exit with code 2 when updates are available and 0 when not
    -U, --error-on-unchanged           Exit with code 0 when updates are available and 2 when not
    -r, --registry <url>               Override npm registry URL
    -S, --sockets <num>                Maximum number of parallel HTTP sockets opened. Default: ${Mh}
    -j, --json                         Output a JSON object
    -n, --no-color                     Disable color output
    -v, --version                      Print the version
    -V, --verbose                      Print verbose output to stderr
    -h, --help                         Print this help

  Examples:
    $ updates
    $ updates -u
    $ updates -e '@vitejs/*'
    $ updates -e '/^react-(dom)?/'
    $ updates -f package.json
    $ updates -f pyproject.toml
`),Rh(0)),e&&(console.info(Wh),Rh(0));let a={},l={},h={},c={},f=0;for(let g of fR(Zt(r))){let b=Uh($s(g)),R=Eo(g),w;R==="pyproject.toml"?w="pypi":w="npm",c[w]=g,a[w]||(a[w]={});let v={};try{v=(await import(Is(b,"updates.config.js"))).default}catch{try{v=(await import(Is(b,"updates.config.mjs"))).default}catch{}}let x,O;te.include&&te.include!==!0&&(x=(Array.isArray(te.include)?te.include:[te.include]).flatMap(_=>_.split(","))),te.exclude&&te.exclude!==!0&&(O=(Array.isArray(te.exclude)?te.exclude:[te.exclude]).flatMap(_=>_.split(",")));let F=Ph(x,v?.include),C=Ph(O,v?.exclude),$={};if(w==="npm"&&(rt["strict-ssl"]===!1&&($.rejectUnauthorized=!1),"cafile"in rt&&($.ca=Lh(Ih(wh(rt.cafile,"utf8")))),"ca"in rt)){let _=Array.isArray(rt.ca)?rt.ca:[rt.ca];$.ca=Lh(_.map(ne=>Ih(ne)))}let P;n?P=Array.isArray(n)?n:n.split(","):"types"in v&&Array.isArray(v.types)?P=v.types:w==="npm"?P=["dependencies","devDependencies","optionalDependencies","peerDependencies","resolutions"]:P=["tool.poetry.dependencies","tool.poetry.dev-dependencies","tool.poetry.test-dependencies","tool.poetry.group.dev.dependencies","tool.poetry.group.test.dependencies"];let D;try{h[w]=wh(g,"utf8")}catch(_){throw new Error(`Unable to open ${g}: ${_.message}`)}try{w==="npm"?D=JSON.parse(h[w]):D=(await Promise.resolve().then(()=>Fe(_h(),1))).default(h[w])}catch(_){throw new Error(`Error parsing ${g}: ${_.message}`)}for(let _ of P){let ne;w==="npm"?ne=D[_]||{}:ne=$f(D,_)||{};for(let[K,Z]of Object.entries(ne))(0,oe.validRange)(Z)&&Nh(K,w,{include:F,exclude:C})?a[w][`${_}${mt}${K}`]={old:cR(Z),oldOriginal:Z}:w==="npm"&&Nh(K,w,{include:F,exclude:C})&&(l[`${_}${mt}${K}`]={old:Z})}if(f+=Object.keys(a[w]).length+Object.keys(l).length,!f)continue;let U;w==="npm"&&(U=Ps(te.registry||v.registry||rt.registry));let M=await uo(Object.keys(a[w]).map(_=>()=>{let[ne,K]=_.split(mt);return w==="npm"?X_(K,ne,U,$):Z_(K,ne,$)}),{concurrency:kh});for(let[_,ne,K,Z]of M){if(_?.error)throw new Error(_.error);let E=typeof Or=="boolean"?Or:Xt(_.name,Or),T=typeof To=="boolean"?To:Xt(_.name,To),pe=typeof Co=="boolean"?Co:Xt(_.name,Co),Y;Ah===!0||Xt(_.name,Ah)?Y=j_:Th===!0||Xt(_.name,Th)?Y=G_:Y=V_;let J=`${ne}${mt}${Z}`,Re=a[w][J].old,me=aR(_,{usePre:T,useRel:pe,useGreatest:E,semvers:Y,range:Re,mode:w}),ve=sR(Re,me);!me||Re===ve?delete a[w][J]:(a[w][J].new=ve,w==="npm"?a[w][J].info=vh(_?.versions?.[me],K,_.name):a[w][J].info=vh(_,K,_.info.name),_.time?.[me]?a[w][J].age=_s(_.time[me],{noAffix:!0}):_.releases?.[me]?.[0]?.upload_time_iso_8601&&(a[w][J].age=_s(_.releases[me][0].upload_time_iso_8601,{noAffix:!0})))}if(Object.keys(l).length){let _=await Promise.all(Object.entries(l).map(([ne,K])=>{let Z=ne.split(mt)[1],E=typeof Or=="boolean"?Or:Xt(Z,Or);return lR([ne,K],{useGreatest:E})}));for(let ne of(_||[]).filter(Boolean)){let{key:K,newRange:Z,user:E,repo:T,oldRef:pe,newRef:Y,newDate:J}=ne;a[w][K]={old:l[K].old,new:Z,oldPrint:$o.test(pe)?pe.substring(0,7):pe,newPrint:$o.test(Y)?Y.substring(0,7):Y,info:`https://github.com/${E}/${T}`,...J?{age:_s(J,{noAffix:!0})}:{}}}}}f===0&&(Oh("No dependencies found, nothing to do."),$r());let m=0;for(let g of Object.keys(a))m+=Object.keys(a[g]).length;m||(Oh("All dependencies are up to date."),$r());let p=J_(a);if(o){for(let g of Object.keys(a))if(Object.keys(a[g]).length){try{let b;g==="npm"?b=rR:b=nR,await eR(c[g],b(h[g],a[g]))}catch(b){throw new Error(`Error writing ${Eo(c[g])}: ${b.message}`)}console.info(Tr(`\u2728 ${Eo(c[g])} updated`))}}$r(p)}hR().catch($r).then($r);
